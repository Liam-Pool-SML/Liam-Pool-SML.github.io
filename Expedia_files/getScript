/*! For license information please see virtualAgentControl.js.LICENSE.txt */
!function(){var e,t,r,n,i,a,o,s,u=[,function(e,t,r){"use strict";var n=r(359),i=r(360),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|v(e,t),n=s(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);var i=function(e){if(u.isBuffer(e)){var t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||z(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|h(e))}function p(e){for(var t=e.length<0?0:0|h(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function h(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,p=0;p<u;p++)if(c(e,a+p)!==c(t,p)){f=!1;break}if(f)return a}return-1}function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(z(s))return o;e[r+o]=s}return o}function w(e,t,r,n){return M(F(t,e.length-r),e,r,n)}function I(e,t,r,n){return M(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return M(H(t),e,r,n)}function C(e,t,r,n){return M(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(V(a,Uint8Array))i+a.length>n.length?u.from(a).copy(n,i):Uint8Array.prototype.set.call(n,a,i);else{if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],o=l[f];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return I(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function _(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=B[e[a]];return i}function k(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,a){return t=+t,r>>>=0,a||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,a){return t=+t,r>>>=0,a||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var U=/[^+/0-9A-Za-z-_]/g;function F(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var B=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},function(e,t,r){"use strict";var n,i=r(67),a=Object.prototype.toString,o=(n=Object.create(null),function(e){var t=a.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function c(e){return void 0===e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"==typeof e}function p(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),h=s("File"),v=s("Blob"),g=s("FileList");function y(e){return"[object Function]"===a.call(e)}var m=s("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var E,w=(E="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return E&&e instanceof E});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:f,isPlainObject:p,isUndefined:c,isDate:d,isFile:h,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:m,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:b,merge:function e(){var t={};function r(r,n){p(t[n])&&p(r)?t[n]=e(t[n],r):p(r)?t[n]=e({},r):u(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)b(arguments[n],r);return t},extend:function(e,t,r){return b(t,(function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,i,a,o={};t=t||{};do{for(i=(n=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=n[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:g}},,,function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var n=r(161),i=r.n(n);function a(e,t,r){var n=i()(e,t,r);return null==n&&r?r:n}},,function(e){var t=Array.isArray;e.exports=t},function(e,t,r){"use strict";r.d(t,{a:function(){return n},b:function(){return i},c:function(){return o},e:function(){return a}});var n={VAC_Connected:"VAC_Connected",VAC_Disconnected:"VAC_Disconnected",VAC_ConfigUpdated:"VAC_ConfigUpdated",VAC_AuthTokenError:"VAC_AuthTokenError",VAC_AuthTokenExpirationWarning:"VAC_AuthTokenExpirationWarning",VAC_Diagnostics:"VAC_Diagnostics",VAC_Destroyed:"VAC_Destroyed",VAC_CreateFrameFailed:"VAC_CreateFrameFailed",VAC_StartFrameFailed:"VAC_StartFrameFailed",VAC_ConversationCreated:"VAC_ConversationCreated",VAC_ConversationCreateFailed:"VAC_ConversationCreateFailed",VAC_ConversationJoined:"VAC_ConversationJoined",VAC_ConversationJoinFailed:"VAC_ConversationJoinFailed",VAC_ConversationEventReceived:"VAC_ConversationEventReceived",VAC_ChatHistoryReceived:"VAC_ChatHistoryReceived",VAC_ChatMsgReceived:"VAC_ChatMsgReceived",VAC_ChatMsgSent:"VAC_ChatMsgSent",VAC_ChatMsgSendFailed:"VAC_ChatMsgSendFailed",VAC_TypingIndicator:"VAC_TypingIndicator",VAC_TypingIndicatorSendFailed:"VAC_TypingIndicatorSendFailed",VAC_ParticipantEventReceived:"VAC_ParticipantEventReceived",VAC_MessageClicked:"VAC_MessageClicked",VAC_NewMessageCount:"VAC_NewMessageCount",VAC_ViewAttachment:"VAC_ViewAttachment",VAC_GetPastMessagesSuccess:"VAC_GetPastMessagesSuccess",VAC_GetPastMessagesFailed:"VAC_GetPastMessagesFailed",VAC_MessageReceiptReceived:"VAC_MessageReceiptReceived",VAC_Initialized:"VAC_Initialized",VAC_FabPresented:"VAC_FabPresented",VAC_LazyInitializeFailed:"VAC_LazyInitializeFailed",VAC_WidgetOpened:"VAC_WidgetOpened",VAC_WidgetClosed:"VAC_WidgetClosed",VAC_FrameActive:"VAC_FrameActive",VAC_TypeaheadFocused:"VAC_TypeaheadFocused",VAC_TypeaheadBlurred:"VAC_TypeaheadBlurred",VAC_TypeaheadSelected:"VAC_TypeaheadSelected",VAC_FabClicked:"VAC_FabClicked",VAC_FabIntroClicked:"VAC_FabIntroClicked",VAC_FabIntroClosed:"VAC_FabIntroClosed",VAC_ConversationTabSelected:"VAC_ConversationTabSelected",VAC_MessageActionClicked:"VAC_MessageActionClicked",VAC_WebviewOpened:"VAC_WebviewOpened",VAC_WebviewClosed:"VAC_WebviewClosed"},i={WEBSOCKET_CREDENTIALS:"WEBSOCKET_CREDENTIALS"},a={fabIntro:"first_action_button_cta",fab:"first_action_button_icon"},o="GLOBAL_EVENT"},function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=function(e){return e}},function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,r){"use strict";r.d(t,{a:function(){return n.LogTypes},b:function(){return n.logLevel}});var n=r(41)},,function(e,t,r){"use strict";var n=r(2);function i(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,r,o,s,u){var c=Object.create(a);return n.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,r,o,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},function(e,t,r){"use strict";var n=r(184),i=r.n(n);t.a=function(){return i()().toString()}},function(e,t,r){var n=r(199),i=r(59),a=r(61),o=r(13),s=r(91),u=r(47),c=r(175),l=r(60),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||a(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}},function(e,t,r){"use strict";var n=r(154),i=r.n(n),a=r(646),o=r(204),s=r.n(o),u="prod";t.a=function(){if(!u)throw new Error("App config was accessed before app environment was set. Ensure __VAC_ENVIRONMENT__ is set before importing");return a.c&&a.c[u]?i()({},s(),a.c[u]):i()({},s())}},,function(e,t,r){var n=r(52);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},,function(e,t,r){var n=r(43)(Object.keys,Object);e.exports=n},,function(e,t,r){"use strict";r.d(t,{a:function(){return g},b:function(){return v}});var n=r(215),i=r(649),a=r(187),o=r(14);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=(0,r(25).a)(),v=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,r,n,s=l(f);function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=s.call(this,h.loggerConfig)).handleLogError=e.handleLogError.bind(p(e)),e.handleConfigUpdated=e.handleConfigUpdated.bind(p(e)),e.handleAuthTokenError=e.handleAuthTokenError.bind(p(e)),a.a.on(o.a.VAC_ConfigUpdated,e.handleConfigUpdated),a.a.on(o.a.VAC_AuthTokenError,e.handleAuthTokenError),e}return t=f,(r=[{key:"handleLogError",value:function(e){var t;this.logToServer&&(null==e||null===(t=e.response)||void 0===t?void 0:t.status)===i.a.UNAUTHORIZED&&(this.logToServer=!1,a.a.publish({data:{vacId:o.c,type:o.a.VAC_AuthTokenError}}))}},{key:"handleConfigUpdated",value:function(e){var t,r=e.configuration;null!==(t=r.authToken)&&void 0!==t&&t.token&&r.authToken.token!==this.authToken&&(this.authToken=r.authToken.token,this.updateAjaxAppender())}},{key:"handleAuthTokenError",value:function(){this.logToServer=!1}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n.a)),g=v.loggerInstance},,,function(e,t,r){var n=r(110),i=r(111),a=r(112),o=r(113),s=r(114);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,r){var n=r(58);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(51)(Object,"create");e.exports=n},function(e,t,r){var n=r(302);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){"use strict";var n=r(22);function i(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(2).inherits(i,n,{__CANCEL__:!0}),e.exports=i},function(e,t,r){var n=r(13),i=r(53),a=r(171),o=r(172);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevel=t.LogTypes=void 0;t.LogTypes={js:"js",http:"http",websocket:"websocket",performance:"performance"};var r=Object.freeze({TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",FATAL:"FATAL"});t.logLevel=r},function(e,t,r){"use strict";r.d(t,{a:function(){return p},c:function(){return s},d:function(){return c},f:function(){return l},g:function(){return o},h:function(){return u},i:function(){return f}});r(198);function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=(0,r(25).a)();function o(){return window.navigator.userAgent}function s(e,t,r){return e&&t&&r?"number"!=typeof r||"number"!=typeof e||"number"!=typeof t?null:(e+t)/2-r:null}function u(e){return!!e&&e-new Date<5e3}var c=function(e){return!!e},l=function(e,t){return e-Date.parse(new Date)-t},f=function(e,t){null!=a&&a.debugLogs&&e.apply(void 0,n(t))},p=function(e,t){var r=document.createElement("link"),n=t.prefetch,i=t.preconnect,a=t.preload,o=t.dnsPrefetch,s=t.as;return o&&(r.rel="dns-prefetch"),i&&(r.rel="preconnect"),n&&(r.rel="prefetch"),a&&(r.rel="preload"),s&&(r.as=s),r.href=e,r}},function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(35),i=r(166),a=r(167),o=r(168),s=r(169),u=r(170);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t,r){var n=r(162),i=r(46);e.exports=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(r[c],e[c],c,r,e):void 0;void 0===l&&(l=e[c]),o?i(r,c,l):n(r,c,l)}return r}},function(e,t,r){var n=r(107);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e){e.exports=function(){return!1}},function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n,i;!function(a,o){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?a:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}function s(t,r){for(var i=0;i<n.length;i++){var a=n[i];this[a]=i<t?e:this.methodFactory(a,t,r)}this.log=this.debug}function u(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function c(e,t,r){return o(e)||u.apply(this,arguments)}function l(e,r,i){var a,o=this;r=null==r?"WARN":r;var u="loglevel";function l(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(e){}}}function f(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}function p(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return a},o.setLevel=function(r,n){if("string"==typeof r&&void 0!==o.levels[r.toUpperCase()]&&(r=o.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==n&&l(r),s.call(o,r,e),typeof console===t&&r<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){r=e,f()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(r,!1),p()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=f();null==d&&(d=r),o.setLevel(d,!1)}var f=new l,p={};f.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new l(e,f.getLevel(),f.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return f.noConflict=function(){return typeof window!==t&&window.log===f&&(window.log=d),f},f.getLoggers=function(){return p},f.default=f,f},void 0===(i="function"==typeof n?n.call(t,r,t,e):n)||(e.exports=i)}()},function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(40),i=r(17);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},function(e,t,r){var n=r(13),i=r(125),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t,r){"use strict";var n=r(76),i=r(2),a=r(312),o=r(22),s=r(69),u=r(70),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var f,p={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(f=r(291)),f),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=i.isObject(e),o=t&&t["Content-Type"];if((r=i.isFileList(e))||n&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return u(r?{"files[]":e}:e,s&&new s)}return n||"application/json"===o?(l(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(319)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){p.headers[e]=i.merge(c)})),e.exports=p},function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(108),i=r(124),a=r(93),o=r(13),s=r(127);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t,r){var n=r(115),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},function(e){e.exports=function(){return!1}},function(e){e.exports=function(){return!1}},function(e){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e){"use strict";e.exports=function(e){return e[1]}},function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(o[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&o[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},function(e){e.exports=function(e){return"function"==typeof e}},,function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(2);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,r){"use strict";var n=r(1).Buffer,i=r(2);e.exports=function(e,t){t=t||new FormData;var r=[];function a(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):n.from(e):e}return function e(n,o){if(i.isPlainObject(n)||i.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+o);r.push(n),i.forEach(n,(function(r,n){if(!i.isUndefined(r)){var s,u=o?o+"."+n:n;if(r&&!o&&"object"==typeof r)if(i.endsWith(n,"{}"))r=JSON.stringify(r);else if(i.endsWith(n,"[]")&&(s=i.toArray(r)))return void s.forEach((function(e){!i.isUndefined(e)&&t.append(u,a(e))}));e(r,u)}})),r.pop()}else t.append(o,a(n))}(e),t}},function(e,t,r){"use strict";var n=r(315),i=r(316);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function o(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)})),r}},function(e){e.exports={version:"0.27.2"}},function(e,t,r){var n=r(232),i=Function.prototype,a=i.bind,o=i.call,s=n&&a.bind(o,o);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=o(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||o(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},,function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,r){var n=r(303),i=r(55);e.exports=function e(t,r,a,o,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,a,o,e,s))}},function(e,t,r){var n=r(116),i=r(117),a=r(118),o=r(119),s=r(120);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},,function(e){function t(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,r){var n=r(182);e.exports=function(e){return n(e,5)}},function(e,t,r){var n=r(51)(r(57),"Map");e.exports=n},function(e,t,r){var n=r(15);e.exports=function(e){return e==e&&!n(e)}},function(e){e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},function(e,t,r){"use strict";var n=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.vendorToVacServiceLevels=t.vacToVendorLogLevels=void 0;var i,a,o=n(r(16)),s=r(50),u=r(41),c=Object.freeze((i={},(0,o.default)(i,u.logLevel.TRACE,s.levels.TRACE),(0,o.default)(i,u.logLevel.DEBUG,s.levels.DEBUG),(0,o.default)(i,u.logLevel.INFO,s.levels.INFO),(0,o.default)(i,u.logLevel.WARN,s.levels.WARN),(0,o.default)(i,u.logLevel.ERROR,s.levels.ERROR),(0,o.default)(i,u.logLevel.FATAL,s.levels.ERROR),i));t.vacToVendorLogLevels=c;var l=(a={},(0,o.default)(a,s.levels.TRACE,"DEBUG"),(0,o.default)(a,s.levels.DEBUG,"DEBUG"),(0,o.default)(a,s.levels.INFO,"INFO"),(0,o.default)(a,s.levels.WARN,"WARN"),(0,o.default)(a,s.levels.ERROR,"ERROR"),a);t.vendorToVacServiceLevels=l},function(e,t,r){var n=r(97),i=r(159);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},function(e){e.exports=function(e){return e}},function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new R(n||[]);return a._invoke=function(e,t,r){var n=f;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw a;return _()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=O(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?h:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={};function g(){}function y(){}function m(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(T([])));w&&w!==r&&n.call(w,a)&&(b=w);var I=m.prototype=g.prototype=Object.create(b);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function O(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:_}}function _(){return{value:t,done:!0}}return y.prototype=m,u(I,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},A(C.prototype),u(C.prototype,o,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new C(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(I),u(I,s,"Generator"),u(I,a,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},function(e,t,r){"use strict";r.d(t,{d:function(){return n},f:function(){return i}});var n={IOT_CONNECTION:"iot-connection",IOT_EVENT:"iot-event",IOT_FILTER:"iot-filter"},i={ABLY:"ably",IOT:"iot"}},function(e,t,r){var n=r(157),i=r(30);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(98),i=r(15);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},function(e,t,r){var n=r(100),i=r(101),a=r(102),o=r(103);e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(79);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(18).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}},,function(e,t,r){var n=r(51),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){var n=r(109),i=r(123),a=r(89);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(44),i=r(81);e.exports=function(e,t,r,a){var o=r.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=r[o])[0],f=e[l],p=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new n;if(a)var h=a(f,p,l,e,t,d);if(!(void 0===h?i(p,f,3,a,d):h))return!1}}return!0}},function(e){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(36),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(36);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(36);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(36);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},function(e,t,r){var n=r(296),i=r(35),a=r(87);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},function(e,t,r){var n=r(38);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,r){var n=r(38);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(38);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(38);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(88),i=r(30);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var a=t[r],o=e[a];t[r]=[a,o,n(o)]}return t}},function(e,t,r){var n=r(81),i=r(27),a=r(160),o=r(53),s=r(88),u=r(89),c=r(17);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(r){var o=i(r,e);return void 0===o&&o===t?a(r,e):n(t,o,3)}}},function(e){e.exports=function(){return!1}},function(e){e.exports=function(e){return e}},function(e,t,r){var n=r(128),i=r(129),a=r(53),o=r(17);e.exports=function(e){return a(e)?n(o(e)):i(e)}},function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(52);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){e.exports=r(131)},function(e,t,r){"use strict";var n=r(2),i=r(67),a=r(308),o=r(73);var s=function e(t){var r=new a(t),s=i(a.prototype.request,r);return n.extend(s,a.prototype,r),n.extend(s,r),s.create=function(r){return e(o(t,r))},s}(r(54));s.Axios=a,s.CanceledError=r(39),s.CancelToken=r(321),s.isCancel=r(72),s.VERSION=r(74).version,s.toFormData=r(70),s.AxiosError=r(22),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=r(322),s.isAxiosError=r(323),e.exports=s,e.exports.default=s},function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},function(e,t,r){const n=r(361).a;e.exports=n,e.exports.default=n},function(e,t,r){var n=r(78);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(65);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},function(e,t,r){var n=r(91),i=r(55);e.exports=function(e){return i(e)&&n(e)}},function(e,t,r){var n=r(356);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(15),i=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=a},function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e){e.exports=function(){return[]}},function(e){e.exports=function(){return[]}},function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t,r){for(var n in void 0===r&&(r=t,t=undefined),r){var a=r[n];t=s(t,a,i(e,n),{src:e,srckey:n,destkey:a})}return t}function i(e,t){return a(e,p(t))}function a(e,t){var r=t.shift();return null!==r.ix&&void 0!==r.ix?function(e,t,r){var n=[];if(!Array.isArray(e)){var i=null;return r.length&&(i=a(e,r)),null!==i?[i]:null}for(var s=0;s<e.length;s++){var u=r.length?a(e[s],r.slice()):e[s];null!==u&&(n[s]=u)}return""==t.ix&&n.length?n:t.ix&&void 0!==o(n,t.ix)?o(n,t.ix):void 0!==n[0]&&t.name&&n[0][t.name]?n[0][t.name]:null}(e,r,t):r.name?function(e,t,r){if(e&&t.name){if("*"==t.name)return function(e,t){var r=[],n=0;for(var i in e){var o=t.length?a(e[i],t.slice()):e[i];null!==o&&(r[n++]=o)}return r.length?r:null}(e,r);if(Array.isArray(e))return e.length&&e[0]?r.length?a(e[0][t.name],r):e[0][t.name]:null;if(t.name in e){var n=r.length?a(e[t.name],r):e[t.name];if(null!==n)return n}}return null}(e,r,t):null}function o(e,t){var r=parseInt(t);return r<0?e[e.length+r]:e[t]}function s(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(void 0===r||null==r)return f(e,r,n,i);if(Array.isArray(r))for(var a=0;a<r.length;a++)if("string"==typeof r[a])e=s(e,r[a],n,i);else if(Array.isArray(r[a])){var o=t(r[a],3),c=o[0],l=o[1],d=o[2];void 0!==l&&(i.transform=l),void 0!==d&&(i.default=d),e=s(e,c,n,i)}else if(void 0!==r[a].transform&&(i.transform=r[a].transform),void 0!==r[a].default&&(i.default=r[a].default),Array.isArray(r[a].key)){var h=t(r[a].key,3),v=h[0],g=h[1],y=h[2];void 0!==g&&(i.transform=g),void 0!==y&&(i.default=y),e=s(e,v,n,i)}else e=s(e,r[a].key,n,i);else if("string"==typeof r)e=u(e,n,p(r),i);else if(void 0!==r.transform&&(i.transform=r.transform),void 0!==r.default&&(i.default=r.default),Array.isArray(r.key)){var m=t(r.key,3),b=m[0],E=m[1],w=m[2];void 0!==E&&(i.transform=E),void 0!==w&&(i.default=w),e=s(e,b,n,i)}else e=s(e,r.key,n,i);return e}function u(e,t,r,n){if(r){var i=r.shift();if(i.name)return function(e,t,r,n,i){if(n.length)if(null!=e){var a=u(e[t.name],r,n,i);null!=a&&(e[t.name]=a)}else{var o=u(null,r,n,i);null!==o&&((e={})[t.name]=o)}else e=f(e,t,r,i);return e}(e,i,t,r,n);if(void 0!==i.ix)return function(e,t,r,n,i){if(t.add)return null!=r&&(e=e||[]).push(c(r,e,i)),e;if(""!==t.ix)return l(e,t.ix,c(r,e,i),n,i);return Array.isArray(r)?(e=e||[],e=r.reduce((function(e,r,a){if(""==t.ix||t.ix==a)return l(e,a,c(r,e,i),n.slice(),i)}),e),e):l(e,"0",r,n,i)}(e,i,t,r,n)}return f(e,r,t,n)}function c(e,t,r){return"function"==typeof r.transform?r.transform(e,r.src,t,r.srckey,r.destkey):e}function l(e,t,r,n,i){var a;return null!==(a=null!=e&&void 0!==e[t]?n.length?u(e[t],r,n,i):r:n.length?u(null,r,n,i):r)&&((e=e||[])[t]=a),e}function f(e,t,r,n){return"function"==typeof n.transform&&(e=e||{},r=n.transform(r,n.src,e,n.srckey,n.destkey)),void 0===n.default||null!=r&&void 0!==r||("function"==typeof n.default?(e=e||{},r=n.default(n.src,n.srckey,e,n.destkey)):r=n.default),void 0!==r&&t&&t.name&&(null!==r||t.nulls||void 0!==n.default&&null==n.default)&&((e=e||{})[t.name]=r),e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";if(null==e)return null;for(var r=d(e,t),n=[],i=0,a=0;a<r.length;a++){for(var o=-1,s=-1,u=-1,c=-1,l={},f={},p=r[a],h=0;h<p.length;h++)switch(p[h]){case"[":u=h+1,s=h;break;case"]":c=h;break;case"+":c==h-1&&(f.add=!0);break;case"?":s=h,-1==c&&(l.nulls=!0);break;default:-1==u&&(s=h+1)}s>0&&(l.name=p.substring(o,s),n[i++]=l),c>0&&(f.ix=p.substring(u,c),n[i++]=f)}return n}function d(e,t){for(var r=[],n=0,i=-99,a="",o=0;o<e.length;o++)switch(e[o]){case t:i!==o-1?(r[n++]=a,a=""):a+=e[o];break;case"\\":i==o-1?(i=-99,a+=e[o-1]+e[o]):i=o;break;default:i==o-1&&(a+=e[o-1]),a+=e[o]}return r[n++]=a,r}e.exports=n,e.exports.merge=n,e.exports.getKeyValue=i,e.exports.setKeyValue=s,e.exports.parse=p,e.exports.split=d},function(e,t,r){"use strict";var n=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)(e);return null!=e&&("object"===t||"function"===t)};var i=n(r(18))},,,,function(e){e.exports=function(){"use strict";var e=void 0;try{new EventTarget,e=!1}catch(t){e=!1}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},o=function(){function e(){r(this,e),this._registry={}}return n(e,[{key:"addEventListener",value:function(e,t){this._getRegistry(e).push(t)}},{key:"removeEventListener",value:function(e,t){var r=this._getRegistry(e),n=r.indexOf(t);n>-1&&r.splice(n,1)}},{key:"dispatchEvent",value:function(e){return e.target=this,Object.freeze(e),this._getRegistry(e.type).forEach((function(t){return t(e)})),!0}},{key:"_getRegistry",value:function(e){return this._registry[e]=this._registry[e]||[]}}]),e}(),s=e?EventTarget:o,u=e?Event:function e(t){r(this,e),this.type=t},c=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.newState=n.newState,i.oldState=n.oldState,i.originalEvent=n.originalEvent,i}return i(t,u),t}(),l="active",f="passive",p="hidden",d="frozen",h="terminated",v="object"===("undefined"==typeof safari?"undefined":t(safari))&&safari.pushNotification,g=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],y=function(e){return e.preventDefault(),e.returnValue="Are you sure?"},m=[[l,f,p,h],[l,f,p,d],[p,f,l],[d,p],[d,l],[d,f]].map((function(e){return e.reduce((function(e,t,r){return e[t]=r,e}),{})})),b=function(){return document.visibilityState===p?p:document.hasFocus()?l:f};return new(function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=b();return e._state=n,e._unsavedChanges=[],e._handleEvents=e._handleEvents.bind(e),g.forEach((function(t){return addEventListener(t,e._handleEvents,!0)})),v&&addEventListener("beforeunload",(function(t){e._safariBeforeUnloadTimeout=setTimeout((function(){t.defaultPrevented||t.returnValue.length>0||e._dispatchChangesIfNeeded(t,p)}),0)})),e}return i(t,s),n(t,[{key:"addUnsavedChanges",value:function(e){!this._unsavedChanges.indexOf(e)>-1&&(0===this._unsavedChanges.length&&addEventListener("beforeunload",y),this._unsavedChanges.push(e))}},{key:"removeUnsavedChanges",value:function(e){var t=this._unsavedChanges.indexOf(e);t>-1&&(this._unsavedChanges.splice(t,1),0===this._unsavedChanges.length&&removeEventListener("beforeunload",y))}},{key:"_dispatchChangesIfNeeded",value:function(e,t){if(t!==this._state)for(var r=function(e,t){for(var r,n=0;r=m[n];++n){var i=r[e],a=r[t];if(i>=0&&a>=0&&a>i)return Object.keys(r).slice(i,a+1)}return[]}(this._state,t),n=0;n<r.length-1;++n){var i=r[n],a=r[n+1];this._state=a,this.dispatchEvent(new c("statechange",{oldState:i,newState:a,originalEvent:e}))}}},{key:"_handleEvents",value:function(e){switch(v&&clearTimeout(this._safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(e,b());break;case"focus":this._dispatchChangesIfNeeded(e,l);break;case"blur":this._state===l&&this._dispatchChangesIfNeeded(e,b());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(e,e.persisted?d:h);break;case"visibilitychange":this._state!==d&&this._state!==h&&this._dispatchChangesIfNeeded(e,b());break;case"freeze":this._dispatchChangesIfNeeded(e,d)}}},{key:"state",get:function(){return this._state}},{key:"pageWasDiscarded",get:function(){return document.wasDiscarded||!1}}]),t}())}()},,,,,,,function(e,t,r){var n=r(200),i=r(202)((function(e,t,r){n(e,t,r)}));e.exports=i},,,function(e,t,r){var n=r(105)();e.exports=n},function(e,t,r){var n=r(43)(Object.keys,Object);e.exports=n},function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){var n=r(173),i=r(174);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e){e.exports=function(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}},function(e,t,r){var n=r(46),i=r(58),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){e=r.nmd(e);var n=r(57),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},,function(e,t,r){var n=r(46),i=r(96),a=r(56);e.exports=function(e,t){var r={};return t=a(t,3),i(e,(function(e,i,a){n(r,i,t(e,i,a))})),r}},function(e,t,r){var n=r(35);e.exports=function(){this.__data__=new n,this.size=0}},function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e){e.exports=function(e){return this.__data__.get(e)}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(35),i=r(87),a=r(82);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(126),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)})),t}));e.exports=o},function(e){e.exports=function(e){return e}},function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(40),i=r(61),a=r(13),o=r(92),s=r(159),u=r(17);e.exports=function(e,t,r){for(var c=-1,l=(t=n(t,e)).length,f=!1;++c<l;){var p=u(t[c]);if(!(f=null!=e&&r(e,p)))break;e=e[p]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&o(p,l)&&(a(e)||i(e))}},function(e){e.exports=function(){return!1}},function(e,t,r){var n=r(46),i=r(58);e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},function(e){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(138),i=r(179),a=r(175);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(i(e))}},function(e,t,r){var n=r(43)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(98),i=r(179),a=r(55),o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==l}},function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var n=r(44),i=r(191),a=r(162),o=r(206),s=r(207),u=r(163),c=r(177),l=r(208),f=r(209),p=r(158),d=r(183),h=r(59),v=r(210),g=r(211),y=r(178),m=r(13),b=r(47),E=r(212),w=r(15),I=r(213),A=r(30),C=r(62),O="[object Arguments]",x="[object Function]",S="[object Object]",R={};R[O]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[S]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[x]=R["[object WeakMap]"]=!1,e.exports=function e(t,r,T,_,k,P){var j,N=1&r,D=2&r,L=4&r;if(T&&(j=k?T(t,_,k,P):T(t)),void 0!==j)return j;if(!w(t))return t;var U=m(t);if(U){if(j=v(t),!N)return c(t,j)}else{var F=h(t),H=F==x||"[object GeneratorFunction]"==F;if(b(t))return u(t,N);if(F==S||F==O||H&&!k){if(j=D||H?{}:y(t),!N)return D?f(t,s(j,t)):l(t,o(j,t))}else{if(!R[F])return k?t:{};j=g(t,F,N)}}P||(P=new n);var M=P.get(t);if(M)return M;P.set(t,j),I(t)?t.forEach((function(n){j.add(e(n,r,T,n,t,P))})):E(t)&&t.forEach((function(n,i){j.set(i,e(n,r,T,i,t,P))}));var V=U?void 0:(L?D?d:p:D?C:A)(t);return i(V||t,(function(n,i){V&&(n=t[i=n]),a(j,i,e(n,r,T,i,t,P))})),j}},function(e){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(185),i=r(195);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t,r){var n=r(383);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){m(e)&&(e=y(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(s),c=["%","/","?",";","#"].concat(u),l=["/","?","#"],f=/^[a-z0-9A-Z_-]{0,63}$/,p=/^([a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(1220);function y(e,t,r){if(e&&b(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}function m(e){return"string"==typeof e}function b(e){return"object"==typeof e&&null!==e}function E(e){return null===e}i.prototype.parse=function(e,t,r){if(!m(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var o=a.exec(i);if(o){var s=(o=o[0]).toLowerCase();this.protocol=s,i=i.substr(o.length)}if(r||o||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===i.substr(0,2);!y||o&&h[o]||(i=i.substr(2),this.slashes=!0)}if(!h[o]&&(y||o&&!v[o])){for(var b,E,w=-1,I=0;I<l.length;I++){-1!==(A=i.indexOf(l[I]))&&(-1===w||A<w)&&(w=A)}-1!==(E=-1===w?i.lastIndexOf("@"):i.lastIndexOf("@",w))&&(b=i.slice(0,E),i=i.slice(E+1),this.auth=decodeURIComponent(b)),w=-1;for(I=0;I<c.length;I++){var A;-1!==(A=i.indexOf(c[I]))&&(-1===w||A<w)&&(w=A)}-1===w&&(w=i.length),this.host=i.slice(0,w),i=i.slice(w),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var O=this.hostname.split(/\./),x=(I=0,O.length);I<x;I++){var S=O[I];if(S&&!S.match(f)){for(var R="",T=0,_=S.length;T<_;T++)S.charCodeAt(T)>127?R+="x":R+=S[T];if(!R.match(f)){var k=O.slice(0,I),P=O.slice(I+1),j=S.match(p);j&&(k.push(j[1]),P.unshift(j[2])),P.length&&(i="/"+P.join(".")+i),this.hostname=k.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!C){var N=this.hostname.split("."),D=[];for(I=0;I<N.length;++I){var L=N[I];D.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+n.encode(L):L)}this.hostname=D.join(".")}var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!d[s])for(I=0,x=u.length;I<x;I++){var H=u[I],M=encodeURIComponent(H);M===H&&(M=escape(H)),i=i.split(H).join(M)}var V=i.indexOf("#");-1!==V&&(this.hash=i.substr(V),i=i.slice(0,V));var z=i.indexOf("?");if(-1!==z?(this.search=i.substr(z),this.query=i.substr(z+1),t&&(this.query=g.parse(this.query)),i=i.slice(0,z)):t&&(this.search="",this.query={}),i&&(this.pathname=i),v[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"",L=this.search||"";this.path=U+L}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&b(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(m(e)){var t=new i;t.parse(e,!1,!0),e=t}var r=new i;if(Object.keys(this).forEach((function(e){r[e]=this[e]}),this),r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(r[t]=e[t])})),v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(e.protocol&&e.protocol!==r.protocol){if(!v[e.protocol])return Object.keys(e).forEach((function(t){r[t]=e[t]})),r.href=r.format(),r;if(r.protocol=e.protocol,e.host||h[e.protocol])r.pathname=e.pathname;else{for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),r.pathname=n.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var a=r.pathname||"",o=r.search||"";r.path=a+o}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),c=u||s||r.host&&e.pathname,l=c,f=r.pathname&&r.pathname.split("/")||[],p=(n=e.pathname&&e.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(p&&(r.hostname="",r.port=null,r.host&&(""===f[0]?f[0]=r.host:f.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=null),c=c&&(""===n[0]||""===f[0])),u)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),r.search=e.search,r.query=e.query;else if(null!=e.search){if(p)r.hostname=r.host=f.shift(),(w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=w.shift(),r.host=r.hostname=w.shift());return r.search=e.search,r.query=e.query,E(r.pathname)&&E(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!f.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var d=f.slice(-1)[0],g=(r.host||e.host)&&("."===d||".."===d)||""===d,y=0,b=f.length;b>=0;b--)"."==(d=f[b])?f.splice(b,1):".."===d?(f.splice(b,1),y++):y&&(f.splice(b,1),y--);if(!c&&!l)for(;y--;y)f.unshift("..");!c||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),g&&"/"!==f.join("/").substr(-1)&&f.push("");var w,I=""===f[0]||f[0]&&"/"===f[0].charAt(0);p&&(r.hostname=r.host=I?"":f.length?f.shift():"",(w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=w.shift(),r.host=r.hostname=w.shift()));return(c=c||r.host&&f.length)&&!I&&f.unshift(""),f.length?r.pathname=f.join("/"):(r.pathname=null,r.path=null),E(r.pathname)&&E(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";r.d(t,{a:function(){return l}});var n=r(14),i=r(645);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(){function e(){var t=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"on",(function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.c;(Array.isArray(e)?e:"*"===e?Object.values(n.a):Array.of(e)).forEach((function(e){Object.values(n.a).includes(e)&&(t.registeredHandlers[i]||(t.registeredHandlers[i]={}),t.registeredHandlers[i][e]||(t.registeredHandlers[i][e]=[]),t.registeredHandlers[i][e].push(r))}))})),u(this,"off",(function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.c;(Array.isArray(e)?e:"*"===e?Object.values(n.a):Array.of(e)).forEach((function(e){t.registeredHandlers[i]&&t.registeredHandlers[i][e]&&(t.registeredHandlers[i][e]=t.registeredHandlers[i][e].filter((function(e){return e!==r})))}))})),u(this,"publish",(function(e){var r=e&&e.data,n=r&&r.vacId;a(n&&t.registeredHandlers[n]&&Array.isArray(t.registeredHandlers[n][r.type])?t.registeredHandlers[n][r.type]:[]).forEach((function(e){try{e(r)}catch(e){}}))})),e.instance||(e.instance=this,this.registeredHandlers=u({},n.c,{}),Object.values(n.a).forEach((function(e){t.registeredHandlers[n.c][e]=[]})),(0,i.a)(window,"message",this.publish)),e.instance}var t,r,o;return t=e,r=[{key:"getHandlers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.c;return this.registeredHandlers[t]&&this.registeredHandlers[t][e]?this.registeredHandlers[t][e]:[]}},{key:"clearHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.c;this.registeredHandlers[e]&&(this.registeredHandlers[e]={})}}],r&&s(t.prototype,r),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),l=new c},function(e,t,r){"use strict";var n=r(5);t.b=function(e){var t=o(e);return t&&t.exp?new Date(1e3*t.exp):void 0},t.c=u,t.a=function(e){var t,r,n;"object"===(0,i.default)(e)?n=e:"string"==typeof e&&(n=u(e));if(!n)return!1;return!!n.customer||(null===(t=n.participant)||void 0===t?void 0:t.role)===a.participantRoles.CUSTOMER||(null===(r=n.participant)||void 0===r?void 0:r.type)===a.participantRoles.CUSTOMER};var i=n(r(18)),a=r(220);function o(e){if(e)try{var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(atob(t))}catch(e){return}}function s(e){var t=e.participant?e.participant:{},r=t.type,n=t.payload,i="Unknown";r===a.participantRoles.AGENT?i=a.participantRoles.AGENT:r===a.participantRoles.CUSTOMER&&(i=a.participantRoles.CUSTOMER);var o=n||{},s=o.id,u=o.secondaryId,c=o.displayName,l=o.agentLogonName,f=o.firstName,p=o.lastName,d=o.email,h=o.phone;return{role:i,id:s?s.toString():void 0,secondaryId:u?u.toString():void 0,displayName:c,agentLogonName:l,firstName:f,lastName:p,email:d,phone:h}}function u(e){var t=o(e);if(!t)return t;try{t.customer?t.customer=JSON.parse(t.customer):t.participant&&(t.participant=s(t))}catch(e){t.customer=void 0}return t}},function(e,t,r){var n=r(444),i=r(228)((function(e,t){return null==e?{}:n(e,t)}));e.exports=i},,function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(93),i=r(464),a=r(465);e.exports=function(e,t){return a(i(e,t,n),e+"")}},function(e,t,r){"use strict";var n=r(104),i=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.exponentialDelay=t.shouldRetry=void 0;var a=i(r(16)),o=n(r(133));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t,r,n;return(0,o.isRetryableError)(e)&&!1!==(null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.allowRetry)&&!1!==(null==e||null===(n=e.config)||void 0===n?void 0:n.allowRetry)};t.shouldRetry=c;var l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=(null==t?void 0:t[0])||0,i=500*Math.pow(2,n),a=.2*i*Math.random();return i+a};t.exponentialDelay=l;var f={retries:2,retryCondition:c,retryDelay:l,shouldResetTimeout:!0},p=function(e,t){var r=u(u({},f),t);(0,o.default)(e,r)};t.default=p},,function(e){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,i=t;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},,,function(){"use strict"},function(e,t,r){var n=r(43)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(44),i=r(176),a=r(157),o=r(201),s=r(15),u=r(62),c=r(181);e.exports=function e(t,r,l,f,p){t!==r&&a(r,(function(a,u){if(p||(p=new n),s(a))o(t,r,u,l,e,f,p);else{var d=f?f(c(t,u),a,u+"",t,r,p):void 0;void 0===d&&(d=a),i(t,u,d)}}),u)}},function(e,t,r){var n=r(176),i=r(163),a=r(462),o=r(177),s=r(178),u=r(61),c=r(13),l=r(136),f=r(47),p=r(97),d=r(15),h=r(180),v=r(60),g=r(181),y=r(463);e.exports=function(e,t,r,m,b,E,w){var I=g(e,r),A=g(t,r),C=w.get(A);if(C)n(e,r,C);else{var O=E?E(I,A,r+"",e,t,w):void 0,x=void 0===O;if(x){var S=c(A),R=!S&&f(A),T=!S&&!R&&v(A);O=A,S||R||T?c(I)?O=I:l(I)?O=o(I):R?(x=!1,O=i(A,!0)):T?(x=!1,O=a(A,!0)):O=[]:h(A)||u(A)?(O=I,u(I)?O=y(I):d(I)&&!p(I)||(O=s(A))):x=!1}x&&(w.set(A,O),b(O,A,m,E,w),w.delete(A)),n(e,r,O)}}},function(e,t,r){var n=r(192),i=r(203);e.exports=function(e){return n((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var u=r[n];u&&e(t,u,n,o)}return t}))}},function(e){e.exports=function(){return!1}},function(e){e.exports={glassbox:{whitelist:["https://cdn.glassboxcdn.com/"]},cardsService:{timeout:61e3},chatInput:{maxCharCount:500,maxCharsShowCountdown:21},messageFeedback:{formCloseTimeout:2e3},ably:{environment:"expedia",fallbackHosts:["expedia-a-fallback.ably-realtime.com","expedia-b-fallback.ably-realtime.com","expedia-c-fallback.ably-realtime.com","expedia-d-fallback.ably-realtime.com","expedia-e-fallback.ably-realtime.com"],prefetchHosts:["https://expedia-realtime.ably.io","https://expedia-rest.ably.io"]},attachmentService:{timeout:85e3},cgp:{disabledHosts:[/^((demo|int|lab)\.)?cards\.vap\.expedia\.com/,/^vap-virtual-agent-control-test-tools-(demo|int|lab|prod)\.us-west-2\.(test|prodp)\.gcotechp\.expedia\.com/,"localhost"]}}},,function(e,t,r){var n=r(45),i=r(30);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(45),i=r(62);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(45),i=r(140);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(45),i=r(141);e.exports=function(e,t){return n(e,i(e),t)}},function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e){e.exports=function(e){return e}},function(e){e.exports=function(){return!1}},function(e){e.exports=function(){return!1}},function(e){e.exports={defaultLocales:{en:"US",zh:"CN",de:"DE",fr:"FR",it:"IT",ja:"JP",ko:"KR",pr:"BR",es:"ES",tr:"TR",cs:"CZ",nl:"NL",no:"NO",pt:"PT",sv:"SE",el:"GR",is:"IS",nb:"NO",pl:"PL",ru:"RU",hr:"HR",hu:"HU",id:"ID",th:"TH",vi:"VN",ms:"MY"}}},function(e,t,r){"use strict";Object.defineProperty(t,"a",{enumerable:!0,get:function(){return n.VacLoggerServiceBase}});var n=r(216)},function(e,t,r){"use strict";var n=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.VacLoggerServiceBase=void 0;var i=n(r(48)),a=n(r(49)),o=n(r(16)),s=n(r(50)),u=n(r(165)),c=n(r(15)),l=r(217),f=n(r(218)),p=r(90),d=n(r(219)),h=r(41),v=function(){function e(t){(0,i.default)(this,e),(0,o.default)(this,"logToBrowser",!1),(0,o.default)(this,"logToServer",!1),this.loggerConfig=t,this.layout=new f.default,this.threshold=p.vacToVendorLogLevels[this.loggerConfig.threshold],this.loggerInstance=this.createInternalLogger();var r=Object.values(this.loggerConfig.appenders);if(this.secretsKey=this.loggerConfig.secretsKey?Object.values(this.loggerConfig.secretsKey):[],r.includes("Browser")&&this.enableBrowserAppender(),r.includes("Ajax")){var n=t.ajaxConfig,a=n.url,s=n.timeout,u=n.batchSizeLimit,c=n.authToken,l=n.channelOriginId,h=n.businessSegmentId;this.ajaxAppender=new d.default(a,s,u),c&&this.enableAjaxAppender(c,l,h)}this.handleLogError=this.handleLogError.bind(this),this.hideSecrets=this.hideSecrets.bind(this)}return(0,a.default)(e,[{key:"hideSecrets",value:function(e,t){var r=this;return t.hideSecrets?(0,u.default)(e,(function(e,n){return"function"==typeof e?"hidden":(0,c.default)(e)?r.hideSecrets(e,t):-1!==r.secretsKey.indexOf(n)?"hidden":e})):e}},{key:"addToDefaultLogObject",value:function(e){this.layout.addToDefaultLogObject(e)}},{key:"addDefaultLogObjectByLogType",value:function(e){this.layout.addDefaultLogObjectByLogType(e)}},{key:"createInternalLogger",value:function(){var e=this,t=s.default.getLogger("loggerInstance");return t.methodFactory=function(t,r,n){var i=s.default.methodFactory(t,r,n),a=s.default.levels[t.toUpperCase()],o=a>=r;return function(t){if(o){var r=e.layout.format(a,t);e.logToBrowser&&i(r),e.logToServer&&e.ajaxAppender&&e.ajaxAppender.append(r)}}},t.setLevel(this.threshold||s.default.levels.WARN),t.log=function(r,n){var i=e.secretsKey&&0!==e.secretsKey.length&&(0,c.default)(n)?e.hideSecrets(n,{hideSecrets:r!==h.logLevel.DEBUG}):n;switch(p.vacToVendorLogLevels[r]){case t.levels.TRACE:t.trace(i);break;case t.levels.DEBUG:t.debug(i);break;case t.levels.INFO:t.info(i);break;case t.levels.WARN:t.warn(i);break;case t.levels.ERROR:default:t.error(i)}},t}},{key:"enableBrowserAppender",value:function(){this.logToBrowser=!0}},{key:"enableAjaxAppender",value:function(e,t,r){this.authToken=e,this.channelOriginId=t,this.businessSegmentId=r,this.updateAjaxAppender()}},{key:"updateAjaxAppender",value:function(){this.ajaxAppender&&(this.ajaxAppender.addHeader("Content-Type","application/json"),this.ajaxAppender.addHeader("Authorization",this.authToken),this.ajaxAppender.addHeader("channel-origin-id",this.channelOriginId),this.businessSegmentId&&this.ajaxAppender.addHeader("business-segment-id",this.businessSegmentId),this.ajaxAppender.setFailCallback(this.handleLogError),this.logToServer=!0)}},{key:"handleLogError",value:function(e){var t;this.logToServer&&(null==e||null===(t=e.response)||void 0===t?void 0:t.status)===l.statusCodes.UNAUTHORIZED&&(this.logToServer=!1)}},{key:"setBusinessSegmentId",value:function(e){this.businessSegmentId=e,this.updateAjaxAppender()}},{key:"flush",value:function(){this.ajaxAppender&&this.ajaxAppender.flush()}},{key:"log",value:function(e,t){this.loggerInstance.log(e,t)}}]),e}();t.VacLoggerServiceBase=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusCodes=void 0;var r=Object.freeze({UNAUTHORIZED:401,INTERNAL_SERVER_ERROR:500});t.statusCodes=r},function(e,t,r){"use strict";var n=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16)),a=n(r(48)),o=n(r(49)),s=n(r(143)),u=r(90);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){function e(){(0,a.default)(this,e),this.baseFields={},this.baseFieldsByLogType={}}return(0,o.default)(e,[{key:"addToDefaultLogObject",value:function(e){this.baseFields=l(l({},this.baseFields),e)}},{key:"addDefaultLogObjectByLogType",value:function(e){var t=this;Object.keys(e).forEach((function(r){t.baseFieldsByLogType[r]=l(l({},t.baseFieldsByLogType[r]),e[r])}))}},{key:"format",value:function(e,t){var r=(0,s.default)(t)?t:{message:t},n=r.logType,i=n?this.baseFieldsByLogType[n]:{};return l(l(l({level:u.vendorToVacServiceLevels[e],dateTime:(new Date).toISOString()},this.baseFields),i),r)}}]),e}();t.default=f},function(e,t,r){"use strict";var n=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(99)),a=n(r(48)),o=n(r(49)),s=n(r(16)),u=n(r(130)),c=r(50),l=r(90),f=n(r(193)),p=2e4,d=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;(0,a.default)(this,e),(0,s.default)(this,"url",void 0),(0,s.default)(this,"headers",{}),(0,s.default)(this,"failCallback",void 0),(0,s.default)(this,"queue",[]),(0,s.default)(this,"timer",void 0),(0,s.default)(this,"batchTimeLimit",p),(0,s.default)(this,"batchSizeLimit",5),(0,s.default)(this,"axios",void 0),this.url=t,this.timeout=n,this.axios=u.default.create(),this.batchSizeLimit=i,(0,f.default)(this.axios),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(r.batchTimeLimit=null,r.flush(!0)),"visible"!==document.visibilityState||r.batchTimeLimit||(r.batchTimeLimit=p,r.setTimer())}))}return(0,o.default)(e,[{key:"addHeader",value:function(e,t){this.headers[e]=t}},{key:"append",value:function(e){this.queue.push(e),(e.level===l.vendorToVacServiceLevels[c.levels.ERROR]||this.queue.length>=this.batchSizeLimit)&&this.flush()}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.setTimer(),this.queue.length>0){var r,n=(0,i.default)(this.queue);if(this.queue=[],t)null!==(r=window)&&void 0!==r&&r.fetch&&window.fetch(this.url,{method:"POST",headers:this.headers,body:JSON.stringify(n),mode:"cors",keepalive:!0}).catch((function(){}));else this.axios.post(this.url,n,{headers:this.headers,timeout:this.timeout}).catch((function(t){e.failCallback&&e.failCallback(t)}))}}},{key:"setTimer",value:function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.batchTimeLimit&&(this.timer=setTimeout((function(){e.flush()}),this.batchTimeLimit))}},{key:"setFailCallback",value:function(e){this.failCallback=e}}]),e}();t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.participantRoles=void 0;var r=Object.freeze({AGENT:"AGENT",CUSTOMER:"CUSTOMER"});t.participantRoles=r},,,,function(e,t,r){"use strict";var n=r(28),i=r(263),a=r(75),o=r(65),s=r(280).f,u=r(265),c=r(364),l=r(251),f=r(362),p=r(325),d=function(e){var t=function(r,n,a){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,a)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,i,h,v,g,y,m,b,E=e.target,w=e.global,I=e.stat,A=e.proto,C=w?n:I?n[E]:(n[E]||{}).prototype,O=w?c:c[E]||f(c,E,{})[E],x=O.prototype;for(h in t)r=!u(w?h:E+(I?".":"#")+h,e.forced)&&C&&p(C,h),g=O[h],r&&(y=e.noTargetGet?(b=s(C,h))&&b.value:C[h]),v=r&&y?y:t[h],r&&typeof g==typeof v||(m=e.bind&&r?l(v,n):e.wrap&&r?d(v):A&&o(v)?a(v):v,(e.sham||v&&v.sham||g&&g.sham)&&f(m,"sham",!0),f(O,h,m),A&&(p(c,i=E+"Prototype")||f(c,i,{}),f(c[i],h,v),e.real&&x&&!x[h]&&f(x,h,v)))}},function(e,t,r){var n=r(245),i=r(246);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(28),i=r(134),a=r(250),o=r(252),s=r(236),u=r(239),c=n.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",h="writable";t.f=i?o?function(e,t,r){if(s(e),t=u(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r.writable){var n=f(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:d in r?r.configurable:n.configurable,enumerable:p in r?r.enumerable:n.enumerable,writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(s(e),t=u(t),s(r),a)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},,function(e){e.exports=function(e){return e}},function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},,,function(e,t,r){var n=r(78);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,r){var n=r(232),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){e.exports=!0},function(e,t,r){var n=r(28),i=r(135),a=n.String,o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},function(e){e.exports={}},function(e,t,r){"use strict";var n=r(186),i=t.ValidationError=function(e,t,r,n,i,a){if(Array.isArray(n)?(this.path=n,this.property=n.reduce((function(e,t){return e+f(t)}),"instance")):void 0!==n&&(this.property=n),e&&(this.message=e),r){var o=r.$id||r.id;this.schema=o||r}void 0!==t&&(this.instance=t),this.name=i,this.argument=a,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var a=t.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.options=r,this.path=n.path,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&!0===r.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}function s(e){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}a.prototype.addError=function(e){var t;if("string"==typeof e)t=new i(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new i(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new s(this);if(this.throwError)throw t;return t},a.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},a.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(a.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=s,s.prototype=new Error,s.prototype.constructor=s,s.prototype.name="Validation Error";var u=t.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};u.prototype=Object.create(Error.prototype,{constructor:{value:u,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=t.SchemaContext=function(e,t,r,n,i){this.schema=e,this.options=t,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce((function(e,t){return e+f(t)}),"instance")):this.propertyPath=r,this.base=n,this.schemas=i};c.prototype.resolve=function(e){return n.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var r=void 0===t?this.path:this.path.concat([t]),i=e.$id||e.id,a=n.resolve(this.base,i||""),o=new c(e,this.options,r,a,Object.create(this.schemas));return i&&!o.schemas[a]&&(o.schemas[a]=e),o};var l=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};l.regexp=l.regex,l.pattern=l.regex,l.ipv4=l["ip-address"],t.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==l[t]){if(l[t]instanceof RegExp)return l[t].test(e);if("function"==typeof l[t])return l[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var f=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function p(e,t,r,n){"object"==typeof r?t[n]=v(e[n],r):-1===e.indexOf(r)&&t.push(r)}function d(e,t,r){t[r]=e[r]}function h(e,t,r,n){"object"==typeof t[n]&&t[n]&&e[n]?r[n]=v(e[n],t[n]):r[n]=t[n]}function v(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(p.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(d.bind(null,e,n)),Object.keys(t).forEach(h.bind(null,e,t,n))),n}function g(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(Array.isArray(t))return!!Array.isArray(r)&&(t.length===r.length&&t.every((function(n,i){return e(t[i],r[i])})));if("object"==typeof t){if(!t||!r)return t===r;var n=Object.keys(t),i=Object.keys(r);return n.length===i.length&&n.every((function(n){return e(t[n],r[n])}))}return t===r},e.exports.deepMerge=v,t.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var i=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(g).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},function(e,t,r){var n=r(1403),i=r(1135);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},function(e,t,r){var n=r(28),i=r(1404),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},function(e,t,r){var n=r(75),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},function(e,t,r){var n=r(249),i=r(241),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},,,function(e,t,r){var n=r(28),i=r(75),a=r(78),o=r(363),s=n.Object,u=i("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?u(e,""):s(e)}:s},function(e,t,r){var n=r(28).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},function(e,t,r){var n=r(248);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(264),i=r(78);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(e,t,r){var n=r(235),i=r(240);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,r){var n=r(134),i=r(78),a=r(1136);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(75),i=r(337),a=r(232),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(134),i=r(78);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,r){"use strict";var n,i,a,o=r(78),s=r(65),u=r(1138),c=r(254),l=r(255),f=r(326),p=r(235),d=f("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(n=i):h=!0),null==n||o((function(){var e={};return n[d].call(e)!==e}))?n={}:p&&(n=u(n)),s(n[d])||l(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(e,t,r){var n=r(28),i=r(325),a=r(65),o=r(1166),s=r(242),u=r(344),c=s("IE_PROTO"),l=n.Object,f=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof l?f:null}},function(e,t,r){var n=r(362);e.exports=function(e,t,r,i){i&&i.enumerable?e[t]=r:n(e,t,r)}},function(e,t,r){var n=r(1167),i=r(226).f,a=r(362),o=r(325),s=r(1405),u=r(326)("toStringTag");e.exports=function(e,t,r,c){if(e){var l=r?e:e.prototype;o(l,u)||i(l,u,{configurable:!0,value:t}),c&&!n&&a(l,"toString",s)}}},function(e,t,r){var n=r(251),i=r(75),a=r(245),o=r(1166),s=r(335),u=r(345),c=i([].push),l=function(e){var t=1==e,r=2==e,i=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,v,g,y){for(var m,b,E=o(h),w=a(E),I=n(v,g),A=s(w),C=0,O=y||u,x=t?O(h,A):r||p?O(h,0):void 0;A>C;C++)if((d||C in w)&&(b=I(m=w[C],C,E),e))if(t)x[C]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return C;case 2:c(x,m)}else switch(e){case 4:return!1;case 7:c(x,m)}return f?-1:i||l?l:x}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,r){"use strict";var n=r(78);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},function(e,t,r){var n=r(364);e.exports=function(e){return n[e+"Prototype"]}},function(e,t,r){var n=r(78);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},,,function(e,t,r){var n=r(232),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},function(e,t,r){var n,i,a=r(28),o=r(341),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},function(e,t,r){var n=r(78),i=r(65),a=/#|\.prototype\./,o=function(e,t){var r=u[s(e)];return r==l||r!=c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},function(e){e.exports=function(){}},function(e,t,r){var n,i,a,o=r(268),s=r(28),u=r(75),c=r(135),l=r(362),f=r(325),p=r(240),d=r(242),h=r(237),v="Object already initialized",g=s.TypeError,y=s.WeakMap;if(o||p.state){var m=p.state||(p.state=new y),b=u(m.get),E=u(m.has),w=u(m.set);n=function(e,t){if(E(m,e))throw new g(v);return t.facade=e,w(m,e,t),t},i=function(e){return b(m,e)||{}},a=function(e){return E(m,e)}}else{var I=d("state");h[I]=!0,n=function(e,t){if(f(e,I))throw new g(v);return t.facade=e,l(e,I,t),t},i=function(e){return f(e,I)?e[I]:{}},a=function(e){return f(e,I)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var n=r(28),i=r(65),a=r(1137),o=n.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},function(e,t,r){"use strict";var n=r(224),i=r(233),a=r(235),o=r(270),s=r(65),u=r(271),c=r(254),l=r(272),f=r(256),p=r(362),d=r(255),h=r(326),v=r(372),g=r(253),y=o.PROPER,m=o.CONFIGURABLE,b=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,w=h("iterator"),I="keys",A="values",C="entries",O=function(){return this};e.exports=function(e,t,r,o,h,g,x){u(r,t,o);var S,R,T,_=function(e){if(e===h&&D)return D;if(!E&&e in j)return j[e];switch(e){case I:case A:case C:return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",P=!1,j=e.prototype,N=j[w]||j["@@iterator"]||h&&j[h],D=!E&&N||_(h),L="Array"==t&&j.entries||N;if(L&&(S=c(L.call(new e)))!==Object.prototype&&S.next&&(a||c(S)===b||(l?l(S,b):s(S[w])||d(S,w,O)),f(S,k,!0,!0),a&&(v[k]=O)),y&&h==A&&N&&N.name!==A&&(!a&&m?p(j,"name",A):(P=!0,D=function(){return i(N,this)})),h)if(R={values:_(A),keys:g?D:_(I),entries:_(C)},x)for(T in R)(E||P||!(T in j))&&d(j,T,R[T]);else n({target:t,proto:!0,forced:E||P},R);return a&&!x||j[w]===D||d(j,w,D,{name:h}),v[t]=D,R}},function(e,t,r){var n=r(134),i=r(325),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},function(e,t,r){"use strict";var n=r(253).IteratorPrototype,i=r(1138),a=r(234),o=r(256),s=r(372),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=i(n,{next:a(+!c,r)}),o(e,l,!1,!0),s[l]=u,e}},function(e,t,r){var n=r(75),i=r(236),a=r(1406);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},function(e,t,r){"use strict";var n=r(257).forEach,i=r(258)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,r){var n=r(224),i=r(75),a=r(237),o=r(135),s=r(325),u=r(226).f,c=r(275),l=r(283),f=r(276),p=r(241),d=r(260),h=!1,v=p("meta"),g=0,y=function(e){u(e,v,{value:{objectID:"O"+g++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},h=!0;var e=c.f,t=i([].splice),r={};r[v]=1,e(r).length&&(c.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===v){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";y(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;y(e)}return e[v].weakData},onFreeze:function(e){return d&&h&&f(e)&&!s(e,v)&&y(e),e}};a[v]=!0},function(e,t,r){var n=r(338),i=r(336).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(78),i=r(135),a=r(363),o=r(347),s=Object.isExtensible,u=n((function(){s(1)}));e.exports=u||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!s||s(e)))}:s},,,,function(e,t,r){var n=r(134),i=r(233),a=r(399),o=r(234),s=r(225),u=r(239),c=r(325),l=r(250),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},function(e,t,r){"use strict";var n=r(224),i=r(273);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,r){"use strict";var n=r(224),i=r(257).every;n({target:"Array",proto:!0,forced:!r(258)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(363),i=r(225),a=r(275).f,o=r(346),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return a(e)}catch(e){return o(s)}}(e):a(i(e))}},,,,,,,,function(e,t,r){"use strict";var n=r(2),i=r(313),a=r(314),o=r(68),s=r(71),u=r(317),c=r(318),l=r(69),f=r(22),p=r(39),d=r(132);e.exports=function(e){return new Promise((function(t,r){var h,v=e.data,g=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(v)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(E+":"+w)}var I=s(e.baseURL,e.url);function A(){if(b){var n="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:e,request:b};i((function(e){t(e),m()}),(function(e){r(e),m()}),a),b=null}}if(b.open(e.method.toUpperCase(),o(I,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=A:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(A)},b.onabort=function(){b&&(r(new f("Request aborted",f.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new f("Network Error",f.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new f(t,n.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,b)),b=null},n.isStandardBrowserEnv()){var C=(e.withCredentials||c(I))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;C&&(g[e.xsrfHeaderName]=C)}"setRequestHeader"in b&&n.forEach(g,(function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(r(!e||e&&e.type?new p:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var O=d(I);O&&-1===["http","https","file"].indexOf(O)?r(new f("Unsupported protocol "+O+":",f.ERR_BAD_REQUEST,e)):b.send(v)}))}},,,function(e,t,r){var n=r(82),i=r(121),a=r(122);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},function(e){e.exports=function(e,t){return e.has(t)}},function(e,t,r){var n=r(297),i=r(298),a=r(299),o=r(300),s=r(301);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,r){var n=r(37);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(37),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(37),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(37);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(44),i=r(304),a=r(306),o=r(307),s=r(59),u=r(13),c=r(47),l=r(60),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,g,y){var m=u(e),b=u(t),E=m?p:s(e),w=b?p:s(t),I=(E=E==f?d:E)==d,A=(w=w==f?d:w)==d,C=E==w;if(C&&c(e)){if(!c(t))return!1;m=!0,I=!1}if(C&&!I)return y||(y=new n),m||l(e)?i(e,t,r,v,g,y):a(e,t,E,r,v,g,y);if(!(1&r)){var O=I&&h.call(e,"__wrapped__"),x=A&&h.call(t,"__wrapped__");if(O||x){var S=O?e.value():e,R=x?t.value():t;return y||(y=new n),g(S,R,r,v,y)}}return!!C&&(y||(y=new n),o(e,t,r,v,g,y))}},function(e,t,r){var n=r(294),i=r(305),a=r(295);e.exports=function(e,t,r,o,s,u){var c=1&r,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var p=u.get(e),d=u.get(t);if(p&&d)return p==t&&d==e;var h=-1,v=!0,g=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var y=e[h],m=t[h];if(o)var b=c?o(m,y,h,t,e,u):o(y,m,h,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(y===e||s(y,e,r,o,u)))return g.push(t)}))){v=!1;break}}else if(y!==m&&!s(y,m,r,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(158),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,o,s){var u=1&r,c=n(e),l=c.length;if(l!=n(t).length&&!u)return!1;for(var f=l;f--;){var p=c[f];if(!(u?p in t:i.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++f<l;){var y=e[p=c[f]],m=t[p];if(a)var b=u?a(m,y,p,t,e,s):a(y,m,p,e,t,s);if(!(void 0===b?y===m||o(y,m,r,a,s):b)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var E=e.constructor,w=t.constructor;E==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t,r){"use strict";var n=r(2),i=r(68),a=r(309),o=r(310),s=r(73),u=r(71),c=r(320),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(u),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var p=t;n.length;){var d=n.shift(),h=n.shift();try{p=d(p)}catch(e){h(e);break}}try{a=o(p)}catch(e){return Promise.reject(e)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},function(e,t,r){"use strict";var n=r(2);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(2),i=r(311),a=r(72),o=r(54),s=r(39);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(2),i=r(54);e.exports=function(e,t,r){var a=this||i;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(22);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(2);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(2),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,o={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},function(e,t,r){"use strict";var n=r(2);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e){e.exports=null},function(e,t,r){"use strict";var n=r(74).version,i=r(22),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,r){function a(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new i(a(n," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[n]&&(o[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),a=n.length;a-- >0;){var o=n[a],s=t[o];if(s){var u=e[o],c=void 0===u||s(u,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},function(e,t,r){"use strict";var n=r(39);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},function(e){"use strict";const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},function(e,t,r){var n=r(75),i=r(1166),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},function(e,t,r){var n=r(28),i=r(249),a=r(325),o=r(241),s=r(248),u=r(247),c=i("wks"),l=n.Symbol,f=l&&l.for,p=u?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):p(t)}return c[e]}},,,,,,,,function(e,t,r){var n=r(364),i=r(28),a=r(65),o=function(e){return a(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},function(e,t,r){var n=r(389);e.exports=function(e){return n(e.length)}},function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(28),i=r(65),a=r(386),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},function(e,t,r){var n=r(75),i=r(325),a=r(225),o=r(388).indexOf,s=r(237),u=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(l,r)||u(l,r));return l}},,,function(e,t,r){var n=r(334);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(337);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},function(e,t,r){var n=r(28),i=r(233),a=r(65),o=r(135),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&a(r=e.toString)&&!o(n=i(r,e)))return n;if(a(r=e.valueOf)&&!o(n=i(r,e)))return n;if("string"!==t&&a(r=e.toString)&&!o(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},function(e,t,r){var n=r(78);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(391);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},function(e,t,r){var n=r(28),i=r(381),a=r(335),o=r(394),s=n.Array,u=Math.max;e.exports=function(e,t,r){for(var n=a(e),c=i(t,n),l=i(void 0===r?n:r,n),f=s(u(l-c,0)),p=0;c<l;c++,p++)o(f,p,e[c]);return f.length=p,f}},function(e,t,r){var n=r(78);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},,,,,,,,,function(e,t,r){var n=r(57).Uint8Array;e.exports=n},function(e,t,r){e.exports=r(94)},,function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=u(e),o=a[0],s=a[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(c(e,s,s+o>u?u:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,p=r?-1:1,d=e[t+f];for(f+=p,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=p,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=p,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,h=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+d]=255&o,d+=h,o/=256,c-=8);e[r+d-h]|=128*v}},function(e,t,r){"use strict";var n=r(5);t.a=x;var i=n(r(357)),a=n(r(18)),o=n(r(84)),s=n(r(16)),u=n(r(324));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f="axios-retry";function p(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&(0,u.default)(e)}var d=["get","head","options"],h=d.concat(["put","delete"]);function v(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function g(e){return!!e.config&&(v(e)&&-1!==d.indexOf(e.config.method))}function y(e){return!!e.config&&(v(e)&&-1!==h.indexOf(e.config.method))}function m(e){return p(e)||y(e)}function b(){return 0}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e),r=.2*t*Math.random();return t+r}function w(e){var t=e[f]||{};return t.retryCount=t.retryCount||0,e[f]=t,t}function I(e,t){return l(l({},t),e[f])}function A(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}function C(e,t,r,n){return O.apply(this,arguments)}function O(){return(O=(0,o.default)(i.default.mark((function e(t,r,n,o){var s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.retryCount<t&&r(o),"object"!==(0,a.default)(s)){e.next=12;break}return e.prev=2,e.next=5,s;case 5:return u=e.sent,e.abrupt("return",!1!==u);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function x(e,t){e.interceptors.request.use((function(e){return w(e).lastRequestTime=Date.now(),e})),e.interceptors.response.use(null,function(){var r=(0,o.default)(i.default.mark((function r(n){var a,o,s,u,c,l,f,p,d,h,v,g,y;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n.config){r.next=3;break}return r.abrupt("return",Promise.reject(n));case 3:return o=I(a,t),s=o.retries,u=void 0===s?3:s,c=o.retryCondition,l=void 0===c?m:c,f=o.retryDelay,p=void 0===f?b:f,d=o.shouldResetTimeout,h=void 0!==d&&d,v=w(a),r.next=7,C(u,l,v,n);case 7:if(!r.sent){r.next=14;break}return v.retryCount+=1,g=p(v.retryCount,n),A(e,a),!h&&a.timeout&&v.lastRequestTime&&(y=Date.now()-v.lastRequestTime,a.timeout=Math.max(a.timeout-y-g,1)),a.transformRequest=[function(e){return e}],r.abrupt("return",new Promise((function(t){return setTimeout((function(){return t(e(a))}),g)})));case 14:return r.abrupt("return",Promise.reject(n));case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}x.isNetworkError=p,x.isSafeRequestError=g,x.isIdempotentRequestError=y,x.isNetworkOrIdempotentRequestError=m,x.exponentialDelay=E,x.isRetryableError=v},function(e,t,r){var n=r(134),i=r(226),a=r(234);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(75),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},function(e){e.exports={}},,,,,,,,function(e){e.exports={}},,,,,,,,,function(e,t,r){var n=r(382),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function v(e){throw RangeError(p[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(f,".")).split("."),t).join(".")}function m(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=u)e=d(e/35);return d(n+36*e/(e+38))}function I(e){var t,r,n,i,a,o,c,l,f,p,h,g=[],y=e.length,m=0,E=128,I=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&v("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(a=m,o=1,c=u;i>=y&&v("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>d((s-m)/o))&&v("overflow"),m+=l*o,!(l<(f=c<=I?1:c>=I+26?26:c-I));c+=u)o>d(s/(p=u-f))&&v("overflow"),o*=p;I=w(m-a,t=g.length+1,0==a),d(m/t)>s-E&&v("overflow"),E+=d(m/t),m%=t,g.splice(m++,0,E)}return b(g)}function A(e){var t,r,n,i,a,o,c,l,f,p,g,y,b,I,A,C=[];for(y=(e=m(e)).length,t=128,r=0,a=72,o=0;o<y;++o)(g=e[o])<128&&C.push(h(g));for(n=i=C.length,i&&C.push("-");n<y;){for(c=s,o=0;o<y;++o)(g=e[o])>=t&&g<c&&(c=g);for(c-t>d((s-r)/(b=n+1))&&v("overflow"),r+=(c-t)*b,t=c,o=0;o<y;++o)if((g=e[o])<t&&++r>s&&v("overflow"),g==t){for(l=r,f=u;!(l<(p=f<=a?1:f>=a+26?26:f-a));f+=u)A=l-p,I=u-p,C.push(h(E(p+A%I,0))),l=d(A/I);C.push(h(E(l,0))),a=w(r,b,n==i),r=0,++n}++r,++t}return C.join("")}o={version:"1.3.2",ucs2:{decode:m,encode:b},decode:I,encode:A,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,p,d,h=e[c].replace(o,"%20"),v=h.indexOf(n);v>=0?(l=h.substr(0,v),f=h.substr(v+1)):(l=h,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),t(a,p)?Array.isArray(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a}},function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},function(e,t,r){var n=r(28).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},function(e,t,r){var n=r(338),i=r(336);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(225),i=r(381),a=r(335),o=function(e){return function(t,r,o){var s,u=n(t),c=a(u),l=i(o,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,r){var n=r(382),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(334);e.exports=n("document","documentElement")},function(e,t,r){var n=r(28),i=r(392),a=r(393),o=r(135),s=r(326)("species"),u=n.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(a(t)&&(t===u||i(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},function(e,t,r){var n=r(363);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(75),i=r(78),a=r(65),o=r(1098),s=r(334),u=r(1137),c=function(){},l=[],f=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=n(p.exec),h=!p.exec(c),v=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(e){return!1}},g=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(p,u(e))}catch(e){return!0}};g.sham=!0,e.exports=!f||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},function(e,t,r){"use strict";var n=r(239),i=r(226),a=r(234);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},,,,,function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},function(e,t,r){var n=r(134),i=r(252),a=r(226),o=r(236),s=r(225),u=r(387);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=u(t),c=i.length,l=0;c>l;)a.f(e,r=i[l++],n[r]);return e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(52),i=r(445),a=r(40);e.exports=function(e,t,r){for(var o=-1,s=t.length,u={};++o<s;){var c=t[o],l=n(e,c);r(l,c)&&i(u,a(c,e),l)}return u}},,,,,,,,,,function(e){"use strict";e.exports=i,e.exports.isMobile=i,e.exports.default=i;const t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,n=/android|ipad|playbook|silk/i;function i(e){e||(e={});let i=e.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;let a=t.test(i)&&!r.test(i)||!!e.tablet&&n.test(i);return!a&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(a=!0),a}},function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},,,,function(e,t,r){var n=r(429),i=r(160);e.exports=function(e,t){return n(e,t,(function(t,r){return i(e,r)}))}},function(e,t,r){var n=r(162),i=r(40),a=r(92),o=r(15),s=r(17);e.exports=function(e,t,r,u){if(!o(e))return e;for(var c=-1,l=(t=i(t,e)).length,f=l-1,p=e;null!=p&&++c<l;){var d=s(t[c]),h=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(c!=f){var v=p[d];void 0===(h=u?u(v,d,p):void 0)&&(h=o(v)?v:a(t[c+1])?[]:{})}n(p,d,h),p=p[d]}return e}},,,function(e,t,r){"use strict";e.exports=r(142)},function(e,t,r){var n={"./af/index.js":[476,9],"./ar-DZ/index.js":[477,10],"./ar-EG/index.js":[478,21],"./ar-MA/index.js":[479,32],"./ar-SA/index.js":[480,43],"./ar-TN/index.js":[481,54],"./ar/index.js":[482,65],"./az/index.js":[483,76],"./be/index.js":[484,87],"./bg/index.js":[485,98],"./bn/index.js":[486,11],"./bs/index.js":[487,12],"./ca/index.js":[488,13],"./cs/index.js":[489,14],"./cy/index.js":[490,15],"./da/index.js":[491,16],"./de-AT/index.js":[492,17],"./de/index.js":[493,18],"./el/index.js":[494,19],"./en-AU/index.js":[495,20],"./en-CA/index.js":[496,22],"./en-GB/index.js":[497,23],"./en-IE/index.js":[498,24],"./en-IN/index.js":[499,25],"./en-NZ/index.js":[500,26],"./en-US/index.js":[146,27],"./en-ZA/index.js":[501,28],"./eo/index.js":[502,29],"./es/index.js":[503,30],"./et/index.js":[504,31],"./eu/index.js":[505,33],"./fa-IR/index.js":[506,34],"./fi/index.js":[507,35],"./fr-CA/index.js":[508,36],"./fr-CH/index.js":[509,37],"./fr/index.js":[510,38],"./fy/index.js":[511,39],"./gd/index.js":[512,40],"./gl/index.js":[513,41],"./gu/index.js":[514,42],"./he/index.js":[515,44],"./hi/index.js":[516,45],"./hr/index.js":[517,46],"./ht/index.js":[518,47],"./hu/index.js":[519,48],"./hy/index.js":[520,49],"./id/index.js":[521,50],"./is/index.js":[522,51],"./it/index.js":[523,52],"./ja-Hira/index.js":[524,53],"./ja/index.js":[525,55],"./ka/index.js":[526,56],"./kk/index.js":[527,57],"./km/index.js":[528,58],"./kn/index.js":[529,59],"./ko/index.js":[530,60],"./lb/index.js":[531,61],"./lt/index.js":[532,62],"./lv/index.js":[533,63],"./mk/index.js":[534,64],"./mn/index.js":[535,66],"./ms/index.js":[536,67],"./mt/index.js":[537,68],"./nb/index.js":[538,69],"./nl-BE/index.js":[539,70],"./nl/index.js":[540,71],"./nn/index.js":[541,72],"./pl/index.js":[542,73],"./pt-BR/index.js":[543,74],"./pt/index.js":[544,75],"./ro/index.js":[545,77],"./ru/index.js":[546,78],"./sk/index.js":[547,79],"./sl/index.js":[548,80],"./sq/index.js":[549,81],"./sr-Latn/index.js":[550,82],"./sr/index.js":[551,83],"./sv/index.js":[552,84],"./ta/index.js":[553,85],"./te/index.js":[554,86],"./th/index.js":[555,88],"./tr/index.js":[556,89],"./ug/index.js":[557,90],"./uk/index.js":[558,91],"./uz-Cyrl/index.js":[559,92],"./uz/index.js":[560,93],"./vi/index.js":[561,94],"./zh-CN/index.js":[562,95],"./zh-HK/index.js":[563,96],"./zh-TW/index.js":[564,97]};function i(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return r.e(t[1]).then((function(){return r.t(i,23)}))}i.keys=function(){return Object.keys(n)},i.id=449,e.exports=i},function(e,t,r){var n=r(40),i=r(440),a=r(451),o=r(17);e.exports=function(e,t){return t=n(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},function(e,t,r){var n=r(52),i=r(452);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},function(e){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}},,function(e,t,r){"use strict";var n=r(186),i=r(238);function a(e,t){this.id=e,this.ref=t}e.exports.a=function(e,t){function r(e,t){if(t&&"object"==typeof t)if(t.$ref){var a=n.resolve(e,t.$ref);c[a]=c[a]?c[a]+1:0}else{var l=t.$id||t.id,f=l?n.resolve(e,l):e;if(f){if(f.indexOf("#")<0&&(f+="#"),u[f]){if(!i.deepCompareStrict(u[f],t))throw new Error("Schema <"+f+"> already exists with different definition");return u[f]}u[f]=t,"#"==f[f.length-1]&&(u[f.substring(0,f.length-1)]=t)}o(f+"/items",Array.isArray(t.items)?t.items:[t.items]),o(f+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),r(f+"/additionalItems",t.additionalItems),s(f+"/properties",t.properties),r(f+"/additionalProperties",t.additionalProperties),s(f+"/definitions",t.definitions),s(f+"/patternProperties",t.patternProperties),s(f+"/dependencies",t.dependencies),o(f+"/disallow",t.disallow),o(f+"/allOf",t.allOf),o(f+"/anyOf",t.anyOf),o(f+"/oneOf",t.oneOf),r(f+"/not",t.not)}}function o(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function s(e,t){if(t&&"object"==typeof t)for(var n in t)r(e+"/"+n,t[n])}var u={},c={};return r(e,t),new a(u,c)}},function(e,t,r){"use strict";var n=r(186),i=r(475),a=r(238),o=r(454).a,s=a.ValidatorResult,u=a.ValidatorResultError,c=a.SchemaError,l=a.SchemaContext,f=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(d),this.attributes=Object.create(i.validators)};function p(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=o(t||"/",e),i=t||e.$id||e.id;for(var a in n.id)this.schemas[a]=n.id[a];for(var a in n.ref)this.unresolvedRefs.push(a);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===r.schemas[e]})),this.schemas[i]},f.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},f.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},f.prototype.setSchemas=function(e){this.schemas=e},f.prototype.getSchema=function(e){return this.schemas[e]},f.prototype.validate=function(e,t,r,i){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new c("Expected `schema` to be an object or boolean");r||(r={});var a,f=t.$id||t.id,p=n.resolve(r.base||"/",f||"");if(!i){(i=new l(t,r,[],p,Object.create(this.schemas))).schemas[p]||(i.schemas[p]=t);var d=o(p,t);for(var h in d.id){var v=d.id[h];i.schemas[h]=v}}if(r.required&&void 0===e)return(a=new s(e,t,r,i)).addError("is required, but is undefined"),a;if(!(a=this.validateSchema(e,t,r,i)))throw new Error("Result undefined");if(r.throwAll&&a.errors.length)throw new u(a);return a},f.prototype.validateSchema=function(e,t,r,n){var o=new s(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var u={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,u)),t=u.schema,u.schema=null,u.ctx=null,u=null}else t=a.deepMerge(t,this.superResolve(t.extends,n));var f=p(t);if(f){var d=this.resolve(t,f,n),h=new l(d.subschema,r,n.path,d.switchSchema,n.schemas);return this.validateSchema(e,d.subschema,r,h)}var v=r&&r.skipAttributes||[];for(var g in t)if(!i.ignoreProperties[g]&&v.indexOf(g)<0){var y=null,m=this.attributes[g];if(m)y=m.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,t);y&&o.importErrors(y)}if("function"==typeof r.rewrite){var b=r.rewrite.call(this,e,t,r,n);o.instance=b}return o},f.prototype.schemaTraverser=function(e,t){e.schema=a.deepMerge(e.schema,this.superResolve(t,e.ctx))},f.prototype.superResolve=function(e,t){var r=p(e);return r?this.resolve(e,r,t).subschema:e},f.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var i=n.parse(t),o=i&&i.hash,s=o&&o.length&&t.substr(0,t.length-o.length);if(!s||!r.schemas[s])throw new c("no such schema <"+t+">",e);var u=a.objectGetPath(r.schemas[s],o.substr(1));if(void 0===u)throw new c("no such schema "+o+" located in <"+s+">",e);return{subschema:u,switchSchema:t}},f.prototype.testType=function(e,t,r,n,i){if(void 0!==i){if(null===i)throw new c('Unexpected null in "type" keyword');if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var a=this.validateSchema(e,i,r,n);return void 0===a||!(a&&a.errors.length)}return!0}};var d=f.prototype.types={};d.string=function(e){return"string"==typeof e},d.number=function(e){return"number"==typeof e&&isFinite(e)},d.integer=function(e){return"number"==typeof e&&e%1==0},d.boolean=function(e){return"boolean"==typeof e},d.array=function(e){return Array.isArray(e)},d.null=function(e){return null===e},d.date=function(e){return e instanceof Date},d.any=function(e){return!0},d.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=f},,,,,function(e,t){"use strict";t.a=Object.freeze({CLOSED:"closed",CONNECTED:"connected",DISCONNECTED:"disconnected",ERROR:"error",RECONNECT_ATTEMPTED:"reconnectAttempted",MESSAGE_RECEIVED:"messageReceived",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed",SUSPENDED:"suspended"})},function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var n=r(1084);function i(e){(0,n.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,r){var n=r(137);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(45),i=r(62);e.exports=function(e){return n(e,i(e))}},function(e,t,r){var n=r(139),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=r(u),n(e,this,c)}}},function(e){e.exports=function(e){return e}},,,,,,,,,,function(e,t,r){"use strict";var n=r(238),i=n.ValidatorResult,a=n.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},s=o.validators={};function u(e,t,r,n,i){var a=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,i,t,r);return t.throwError=a,t.throwAll=o,!s.valid&&n instanceof Function&&n(s),s.valid}function c(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function l(e,t,r,n,i,a){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)a.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var o=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,i,o,r,n);var s=this.validateSchema(e[i],o,r,n.makeChild(o,i));s.instance!==a.instance[i]&&(a.instance[i]=s.instance),a.importErrors(s)}}s.type=function(e,t,r,n){if(void 0===e)return null;var a=new i(e,t,r,n),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,r,n))){var s=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));a.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return a},s.anyOf=function(e,t,r,n){if(void 0===e)return null;var o=new i(e,t,r,n),s=new i(e,t,r,n);if(!Array.isArray(t.anyOf))throw new a("anyOf must be an array");if(!t.anyOf.some(u.bind(this,e,r,n,(function(e){s.importErrors(e)})))){var c=t.anyOf.map((function(e,t){var r=e.$id||e.id;return r?"<"+r+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));r.nestedErrors&&o.importErrors(s),o.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return o},s.allOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new a("allOf must be an array");var o=new i(e,t,r,n),s=this;return t.allOf.forEach((function(t,i){var a=s.validateSchema(e,t,r,n);if(!a.valid){var u=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";o.addError({name:"allOf",argument:{id:u,length:a.errors.length,valid:a},message:"does not match allOf schema "+u+" with "+a.errors.length+" error[s]:"}),o.importErrors(a)}})),o},s.oneOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new a("oneOf must be an array");var o=new i(e,t,r,n),s=new i(e,t,r,n),c=t.oneOf.filter(u.bind(this,e,r,n,(function(e){s.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==c&&(r.nestedErrors&&o.importErrors(s),o.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),o},s.if=function(e,t,r,a){if(void 0===e)return null;if(!n.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o,s=u.call(this,e,r,a,null,t.if),c=new i(e,t,r,a);if(s){if(void 0===t.then)return;if(!n.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,t.then,r,a.makeChild(t.then)),c.importErrors(o)}else{if(void 0===t.else)return;if(!n.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,t.else,r,a.makeChild(t.else)),c.importErrors(o)}return c},s.propertyNames=function(e,t,r,o){if(this.types.object(e)){var s=new i(e,t,r,o),u=void 0!==t.propertyNames?t.propertyNames:{};if(!n.isSchema(u))throw new a('Expected "propertyNames" to be a schema (object or boolean)');for(var l in e)if(void 0!==c(e,l)){var f=this.validateSchema(l,u,r,o.makeChild(u));s.importErrors(f)}return s}},s.properties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n),s=t.properties||{};for(var u in s){var l=s[u];if(void 0!==l){if(null===l)throw new a('Unexpected null, expected schema in "properties"');"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,u,l,r,n);var f=c(e,u),p=this.validateSchema(f,l,r,n.makeChild(l,u));p.instance!==o.instance[u]&&(o.instance[u]=p.instance),o.importErrors(p)}}return o}},s.patternProperties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n),s=t.patternProperties||{};for(var u in e){var c=!0;for(var f in s){var p=s[f];if(void 0!==p){if(null===p)throw new a('Unexpected null, expected schema in "patternProperties"');try{var d=new RegExp(f,"u")}catch(e){d=new RegExp(f)}if(d.test(u)){c=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,u,p,r,n);var h=this.validateSchema(e[u],p,r,n.makeChild(p,u));h.instance!==o.instance[u]&&(o.instance[u]=h.instance),o.importErrors(h)}}}c&&l.call(this,e,t,r,n,u,o)}return o}},s.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var a=new i(e,t,r,n);for(var o in e)l.call(this,e,t,r,n,o,a);return a}},s.minProperties=function(e,t,r,n){if(this.types.object(e)){var a=new i(e,t,r,n);return Object.keys(e).length>=t.minProperties||a.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),a}},s.maxProperties=function(e,t,r,n){if(this.types.object(e)){var a=new i(e,t,r,n);return Object.keys(e).length<=t.maxProperties||a.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),a}},s.items=function(e,t,r,n){var a=this;if(this.types.array(e)&&t.items){var o=new i(e,t,r,n);return e.every((function(e,i){var s=Array.isArray(t.items)?t.items[i]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=a.validateSchema(e,s,r,n.makeChild(s,i));return u.instance!==o.instance[i]&&(o.instance[i]=u.instance),o.importErrors(u),!0})),o}},s.minimum=function(e,t,r,n){if(this.types.number(e)){var a=new i(e,t,r,n);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||a.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||a.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),a}},s.maximum=function(e,t,r,n){if(this.types.number(e)){var a=new i(e,t,r,n);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||a.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||a.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),a}},s.exclusiveMinimum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var a=new i(e,t,r,n);return e>t.exclusiveMinimum||a.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),a}},s.exclusiveMaximum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var a=new i(e,t,r,n);return e<t.exclusiveMaximum||a.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),a}};var f=function(e,t,r,o,s,u){if(this.types.number(e)){var c=t[s];if(0==c)throw new a(s+" cannot be zero");var l=new i(e,t,r,o),f=n.getDecimalPlaces(e),p=n.getDecimalPlaces(c),d=Math.max(f,p),h=Math.pow(10,d);return Math.round(e*h)%Math.round(c*h)!=0&&l.addError({name:s,argument:c,message:u+JSON.stringify(c)}),l}};function p(e,t,r){var i,a=r.length;for(i=t+1;i<a;i++)if(n.deepCompareStrict(e,r[i]))return!1;return!0}s.multipleOf=function(e,t,r,n){return f.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,t,r,n){return f.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,t,r,n){var a=new i(e,t,r,n);return void 0===e&&!0===t.required?a.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===c(e,t)&&a.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),a},s.pattern=function(e,t,r,n){if(this.types.string(e)){var a=new i(e,t,r,n),o=t.pattern;try{var s=new RegExp(o,"u")}catch(e){s=new RegExp(o)}return e.match(s)||a.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),a}},s.format=function(e,t,r,a){if(void 0!==e){var o=new i(e,t,r,a);return o.disableFormat||n.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},s.minLength=function(e,t,r,n){if(this.types.string(e)){var a=new i(e,t,r,n),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||a.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),a}},s.maxLength=function(e,t,r,n){if(this.types.string(e)){var a=new i(e,t,r,n),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||a.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),a}},s.minItems=function(e,t,r,n){if(this.types.array(e)){var a=new i(e,t,r,n);return e.length>=t.minItems||a.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),a}},s.maxItems=function(e,t,r,n){if(this.types.array(e)){var a=new i(e,t,r,n);return e.length<=t.maxItems||a.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),a}},s.uniqueItems=function(e,t,r,n){if(!0===t.uniqueItems&&this.types.array(e)){var a=new i(e,t,r,n);return e.every(p)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}},s.dependencies=function(e,t,r,n){if(this.types.object(e)){var a=new i(e,t,r,n);for(var o in t.dependencies)if(void 0!==e[o]){var s=t.dependencies[o],u=n.makeChild(s,o);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach((function(t){void 0===e[t]&&a.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})}));else{var c=this.validateSchema(e,s,r,u);a.instance!==c.instance&&(a.instance=c.instance),c&&c.errors.length&&(a.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),a.importErrors(c))}}return a}},s.enum=function(e,t,r,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new a("enum expects an array",t);var s=new i(e,t,r,o);return t.enum.some(n.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function(e,t,r,a){if(void 0===e)return null;var o=new i(e,t,r,a);return n.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},s.not=s.disallow=function(e,t,r,n){var a=this;if(void 0===e)return null;var o=new i(e,t,r,n),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach((function(i){if(a.testType(e,t,r,n,i)){var s=i&&(i.$id||i.id)||i;o.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),o):null},e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=e.exports.Validator=r(455);r(238).ValidatorResult,r(238).ValidatorResultError,r(238).ValidationError,r(238).SchemaError,r(454),r(454).a},function(e,t,r){"use strict";var n=r(578);r(1087)(t,"__esModule",{value:!0}),t.subscribe=function(e,t){var r;if("string"!=typeof e||0===e.length||"function"!=typeof t)throw new Error("event must be a non-empty string, and callback must be a function");s[e]&&!(0,a.default)(r=s[e]).call(r,(function(e){return null==e}))||(s[e]=[]);return n=s[e].push(t)-1,{unsubscribe:function(){s[e][n]=null}};var n},t.publish=function(e,t){var r;s[e]&&(0,i.default)(r=s[e]).call(r,(function(e){e&&e.apply(null,[t])}))},t.unsubscribeAll=function(){s={}},t.EventType=void 0;var i=n(r(1088)),a=n(r(1089)),o=n(r(1090)),s={},u=(0,o.default)({ERROR:"error",LOG:"log",WORKFLOW_STARTED:"workflowStarted",WORKFLOW_IN_PROGRESS:"workflowInProgress",WORKFLOW_COMPLETED:"workflowCompleted",WORKFLOW_ABORTED:"workflowAborted",ROUTE_CHANGE:"routeChange",SEND_MESSAGE:"sendMessage",RECEIVE_MESSAGE:"receiveMessage",TOKENIZE_MESSAGE:"tokenizeMessage"});t.EventType=u},,,,,,,function(e,t,r){"use strict";var n=r(568),i=r(630),a=r(631),o=r(655),s=r(632),u=r(633),c=r(634),l=r(635),f=r(636),p=r(656),d=r(637),h=r(577);function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsonValidator=new n.Validator,this.jsonValidator.addSchema(i.a,i.a.id),this.jsonValidator.addSchema(a.a,a.a.id),this.jsonValidator.addSchema(a.b,a.b.id),this.jsonValidator.addSchema(o.a,o.a.id),this.jsonValidator.addSchema(s.a,s.a.id),this.jsonValidator.addSchema(c.a,c.a.id),this.jsonValidator.addSchema(u.a,u.a.id),this.jsonValidator.addSchema(u.b,u.b.id),this.jsonValidator.addSchema(l.a,l.a.id),this.jsonValidator.addSchema(f.a,f.a.id),this.jsonValidator.addSchema(h.a,h.a.id),this.jsonValidator.addSchema(p.a,p.a.id),this.jsonValidator.addSchema(d.a,d.a.id),this.jsonValidator.addSchema(h.b,h.b.id),this.jsonValidator.addSchema(h.c,h.c.id),this.jsonValidator.addSchema(h.d,h.d.id),this.jsonValidator.addSchema(h.e,h.e.id),this.jsonValidator.types.function=this.testFunction}var t,r,g;return t=e,(r=[{key:"preValidateHook",value:function(e,t,r,n,i){var a=e[t];if((r.type instanceof Array?r.type:[r.type]).includes("object")&&"string"==typeof a)try{e[t]=JSON.parse(a)}catch(e){}}},{key:"testFunction",value:function(e){return"function"==typeof e}},{key:"validate",value:function(e,t){var r={preValidateProperty:this.preValidateHook},n=void 0===e?null:e;return this.jsonValidator.validate(n,t,r)}},{key:"validateOrThrow",value:function(e,t){var r=this.validate(e,t);if(!r.valid)throw new Error(r.toString());return r.instance}}])&&v(t.prototype,r),g&&v(t,g),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=new g},function(e,t,r){"use strict";r.d(t,{a:function(){return i},b:function(){return a},c:function(){return s},d:function(){return u},e:function(){return o}});r(86);var n=r(638),i={id:"/virtual-agent-control/InterestedParticipantsSchema",type:"array",items:{type:"object",properties:{author:{$ref:"/virtual-agent-control/minimalDestinationSchema"},recipient:{$ref:"/virtual-agent-control/minimalDestinationSchema"}},anyOf:[{required:["author"]},{required:["recipient"]}],additionalProperties:!1},additionalProperties:!1},a={id:"/virtual-agent-control/vacConfigureSchema",type:"object",properties:{uiBehaviors:{type:"object",properties:{embedded:{type:"boolean"},containerElement:{type:"object"},frameActive:{type:"boolean"},autoOpen:{type:"boolean"},animateWidgetOpenClose:{type:"boolean"},alwaysEnableUserInput:{type:"boolean"},languageId:{type:"string"},additionalAuthors:{type:"array",items:{type:"string"}},participantTypesForEventMarkers:{type:["string","array"],items:{type:"string"}},participantDisplayNamePreference:{type:"array",items:{type:"object",properties:{participantType:{type:"string"},firstChoice:{type:"string"},secondChoice:{type:"string"},thirdChoice:{type:"string"},fourthChoice:{type:"string"}},additionalProperties:!1}},showHistoryMessageFeedbacks:{type:"boolean"},maxCharCount:{type:"number"},maxCharsShowCountdown:{type:"number"}},additionalProperties:!1},capabilityBehaviors:{type:"object",properties:{enableProactiveConversation:{type:"boolean"},participantsFilter:{$ref:"/virtual-agent-control/InterestedParticipantsSchema"},messageDestination:{$ref:"/virtual-agent-control/destinationSchema"},historyConfiguration:{type:"object",properties:{historyConversationIds:{type:"array",items:{type:"string"}},historyConversationsByAuthTokenId:{type:"boolean"}},anyOf:[{oneOf:[{required:"historyConversationIds"},{required:"historyConversationsByAuthTokenId"}]},{not:{required:["historyConversationIds","historyConversationsByAuthTokenId"]}}]}},additionalProperties:!1},eventBehaviors:{type:"object",properties:{vacId:{type:"string"},subscribedEvents:{type:["string","array"],items:{type:"string"}},eventHandler:{type:"function"}},additionalProperties:!1,dependencies:{subscribedEvents:["eventHandler"],eventHandler:["subscribedEvents"]}},channelOverrides:{type:"object",properties:{hideHeader:{type:"boolean"},hideAvatar:{type:"boolean"},textInputPlaceHolder:{type:"string"},glassbox:{type:"object",properties:{id:{type:"string"},srcUrl:{type:"string"},rptUrl:{type:"string"},cookie:{type:"string"}}},utilizeLocalStorageForWidgetState:{type:"boolean"}}}},additionalProperties:!1},o={id:"/virtual-agent-control/vacStartSchema",type:"object",properties:{modeOptions:{type:"object",properties:{mode:{type:"string",enum:Object.values(n.a)},conversationId:{type:"string"},joinHref:{type:"string"},conversationPartnerGuid:{type:"string"},conversationIntent:{type:"object"}},required:["mode"],additionalProperties:!1},participantData:{type:"object",properties:{participantId:{description:"An guid id for participant.",type:"string"},participantType:{description:"A participantType can be Traveler, HumanAgent, Supplier, TravelerVA, HumanAgentVA or SupplierVA.",type:"string"},channel:{type:"object",properties:{active:{type:"boolean"},channelId:{type:"string"},filters:{type:"string"}},additionalProperties:!1},role:{type:"string"},userProperties:{type:"object",additionalProperties:{type:"string"}},preferredName:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},userName:{type:"string"},avatarUrl:{type:"string"},emailAddress:{type:"string"}},anyOf:[{required:["participantId"]},{required:["participantType"]},{maxProperties:0}],additionalProperties:!1},participantUpdates:{type:"object",properties:{channel:{type:"object",properties:{active:{type:"boolean"},channelId:{type:"string"}},additionalProperties:!1},role:{type:"string"},userProperties:{type:"object",additionalProperties:{type:"string"}},preferredName:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},userName:{type:"string"},avatarUrl:{type:"string"}},additionalProperties:!1},conversationProperties:{type:"object",additionalProperties:{type:"string"}}},required:["modeOptions"],additionalProperties:!1},s={id:"/virtual-agent-control/vacInitializeSchema",type:"object",properties:{authToken:{type:"string"},channelOriginId:{type:"string"},eventBehaviors:{type:"object",properties:{subscribedEvents:{type:["string","array"],items:{type:"string"}},eventHandler:{type:"function"},dependencies:{subscribedEvents:["eventHandler"],eventHandler:["subscribedEvents"]}},additionalProperties:!1},analyticsData:{type:"object",properties:{launchPoint:{type:"string"},pageName:{type:"string"}}},channelConfig:{type:"object",properties:{channelOriginGuid:{type:"string"},partnerGuid:{type:"string"},businessSegmentGuid:{type:"string"}},required:["channelOriginGuid","partnerGuid","businessSegmentGuid"]},lazyInitialize:{type:"boolean"}},required:["authToken","channelOriginId"],additionalProperties:!1},u={id:"/virtual-agent-control/vacInitializeSchema",type:"object",properties:{authToken:{type:"string"},channelOriginId:{type:"string"},eventBehaviors:{type:"object",properties:{subscribedEvents:{type:["string","array"],items:{type:"string"}},eventHandler:{type:"function"},dependencies:{subscribedEvents:["eventHandler"],eventHandler:["subscribedEvents"]}},additionalProperties:!1},analyticsData:{type:"object",properties:{launchPoint:{type:"string"},pageName:{type:"string"}}},channelConfig:{type:"object",properties:{channelOriginGuid:{type:"string"},partnerGuid:{type:"string"},businessSegmentGuid:{type:"string"}},required:["channelOriginGuid","partnerGuid","businessSegmentGuid"]},lazyInitialize:{type:"boolean"},vacResourceIdOrAltId:{type:"string"},partnerResourceIdOrAltId:{type:"string"},businessSegmentResourceIdOrAltId:{type:"string"},channelOriginResourceIdOrAltId:{type:"string"}},required:["authToken","channelOriginId","vacResourceIdOrAltId"],additionalProperties:!1}},function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,{a:function(){return s},b:function(){return c},c:function(){return u}});var n=r(188),i=r(25),a=r(23),o=(0,i.a)(),s=function(e){var t=o.environment;return"".concat((0,a.a)(),"_").concat(t,"_").concat(e||"guest")},u=function(e){var t,r,i,a=(0,n.c)(e);return null!==(t=null===(r=a.customer)||void 0===r?void 0:r.id)&&void 0!==t?t:null===(i=a.participant)||void 0===i?void 0:i.id},c=function(){return{localTime:(new Date).getTime()}}},function(e,t,r){var n=r(657);n&&n.__esModule&&(n=n.default),e.exports="string"==typeof n?n:n.toString()},,,,,,,,,,,,,function(e,t,r){var n=r(1264);e.exports=n},function(e,t,r){r(1282);var n=r(1098),i=r(325),a=r(1109),o=r(1267),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===s||a(s,e)&&t===s.forEach||i(u,n(e))?o:t}},function(e,t,r){var n=r(1268);e.exports=n},function(e,t,r){var n=r(1270);e.exports=n},,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports={MULTIPART_FORM_DATA:"multipart/form-data"}},function(e,t,r){var n=r(180);e.exports=function(e){return n(e)?void 0:e}},,,,,,,,,,function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/createConversationSchema",type:"object",properties:{conversationProperties:{type:"object"},intentPayload:{type:"object"},languageId:{type:"string"},participantData:{type:"object",properties:{participantId:{type:"string"},participantType:{type:"string"},channel:{type:"object",properties:{active:{type:"boolean"},channelId:{type:"string"},filters:{type:"string"}},additionalProperties:!1},role:{type:"string"},userProperties:{type:"object",additionalProperties:{type:"string"}},preferredName:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},userName:{type:"string"},avatarUrl:{type:"string"},emailAddress:{type:"string"},required:["participantType"]}},required:["participantData"]}}},function(e,t,r){"use strict";r.d(t,{a:function(){return n},b:function(){return i}});var n={id:"/virtual-agent-control/destinationSchema",type:"object",properties:{participants:{type:"array",items:{type:"object",properties:{channels:{type:"array",items:{type:"string"}},participantId:{type:"string"}}},additionalProperties:!1},participantTypes:{type:"array",items:{type:"string"}},channels:{type:"array",items:{type:"string"}}},oneOf:[{required:["participants"]},{required:["participantTypes"]},{required:["channels"]}],additionalProperties:!1},i={id:"/virtual-agent-control/minimalDestinationSchema",type:"object",properties:{participants:{type:"array",items:{type:"string"}},participantTypes:{type:"array",items:{type:"string"}},channels:{type:"array",items:{type:"string"}}},oneOf:[{required:["participants"]},{required:["participantTypes"]},{required:["channels"]}],additionalProperties:!1}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/inviteParticipantSchema",type:"object",properties:{participantId:{type:"string"},participantType:{type:"string"},channel:{type:"object",properties:{channelId:{type:"string"},filters:{type:"string"}}},role:{type:"string"},email:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},phone:{type:"string"},preferredName:{type:"string"},userName:{type:"string"},userProperties:{type:"object",additionalProperties:{type:"string"}},avatarUrl:{type:"string"},id:{type:"string"},secondaryId:{type:"string"}},required:["participantType"],additionalProperties:!1}},function(e,t,r){"use strict";r.d(t,{a:function(){return n},b:function(){return i}});var n={id:"/virtual-agent-control/joinParticipantDataSchema",type:"object",properties:{participantId:{type:"string"},participantType:{type:"string"},channel:{type:"object",properties:{active:{type:"boolean"},channelId:{type:"string"},filters:{type:"string"}},additionalProperties:!1},role:{type:"string"},userProperties:{type:"object",additionalProperties:{type:"string"}},preferredName:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},userName:{type:"string"},avatarUrl:{type:"string"},emailAddress:{type:"string"}},required:["participantType"],additionalProperties:!1},i={id:"/virtual-agent-control/joinParticipantUpdateSchema",type:"object",properties:{channel:{type:"object",properties:{active:{type:"boolean"},channelId:{type:"string"}},additionalProperties:!1},role:{type:"string"},userProperties:{type:"object",additionalProperties:{type:"string"}},preferredName:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},userName:{type:"string"},avatarUrl:{type:"string"}},additionalProperties:!1}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/addParticipantDataSchema",type:"object",properties:{participant:{type:"object",properties:{participantId:{type:"string"},participantType:{type:"string"},channel:{type:"object",properties:{active:{type:"boolean"},channelId:{type:"string"},channelFilters:{type:"array",items:{type:"object",properties:{filterData:{destination:{type:"object",properties:{participants:{type:"array",items:{type:"object",properties:{channels:{type:"array",items:{type:"string"}},participantId:{type:"string"}}},additionalProperties:!1},participantTypes:{type:"array",items:{type:"string"}},channels:{type:"array",items:{type:"string"}}}}},type:{type:"string"}}}}},additionalProperties:!1},user:{type:"object",properties:{role:{type:"string"},attributes:{type:"object"},preferredName:{type:"string"},firstName:{type:"string"},lastName:{type:"string"},userName:{type:"string"},avatarUrl:{type:"string"},emailAddress:{type:"string"}}}},required:["participantType"]}},additionalProperties:!1}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/sendMessageSchema",type:"object",properties:{text:{type:"string"},messageType:{type:"string"},destination:{$ref:"/virtual-agent-control/destinationSchema"},email:{type:"object",properties:{toEmailAddress:{type:"array",items:{type:"string"}},bccEmailAddress:{type:"array",items:{type:"string"}},ccEmailAddress:{type:"array",items:{type:"string"}},fromEmailAddress:{type:"string"},subject:{type:"string"},textBody:{type:"string"}},required:["toEmailAddress","fromEmailAddress","subject","textBody"]},payload:{type:"string"},attachments:{type:"array",items:{type:"object",properties:{encoding:{type:"string"},mediaType:{type:"string"},mediaUrl:{type:"string"},name:{type:"string"},payload:{type:"string"},size:{type:"string"}},required:["mediaType"],oneOf:[{required:["mediaUrl"]},{required:["payload"]}]}},intent:{type:"string"},cards:{type:"array",items:{type:"object",properties:{elements:{type:"array",items:{type:"string"}}}}},version:{type:"string"}},required:["messageType"],dependencies:{cards:{required:["version"]}}}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/setConversationContextSchema",type:"object",properties:{conversationProperties:{type:"object",additionalProperties:{type:"string"}},intentMessage:{type:"object"}},anyOf:[{required:["conversationProperties"]},{required:["intentMessage"]}]}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/updateConversationSchema",type:"object",properties:{attributes:{type:"object"},languageId:{type:"string"},referenceConversations:{type:"array",items:{type:"string"}}},anyOf:[{required:["attributes"]},{required:["languageId"]},{required:["referenceConversations"]}]}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={RESUME_CONVERSATION:"RESUME_CONVERSATION",JOIN_CONVERSATION:"JOIN_CONVERSATION",CREATE_CONVERSATION:"CREATE_CONVERSATION",OBSERVE_CONVERSATION:"OBSERVE_CONVERSATION"}},function(e,t,r){var n=r(229),i=r(182),a=r(450),o=r(40),s=r(45),u=r(620),c=r(228),l=r(183),f=c((function(e,t){var r={};if(null==e)return r;var c=!1;t=n(t,(function(t){return t=o(t,e),c||(c=t.length>1),t})),s(e,l(e),r),c&&(r=i(r,7,u));for(var f=t.length;f--;)a(r,t[f]);return r}));e.exports=f},,,,,,function(e,t,r){"use strict";function n(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on".concat(t),r)}function i(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on".concat(t),r)}r.d(t,{a:function(){return n},b:function(){return i}})},function(e,t,r){"use strict";r.d(t,{a:function(){return a},b:function(){return i},c:function(){return n}});var n={prod:{appName:"vac-client",publicUrl:"https://vac.vap.expedia.com/{{APP_VERSION}}",iframeUrl:"https://vac.vap.expedia.com/{{APP_VERSION}}/index.html",fabIntroIframeUrl:"https://vac.vap.expedia.com/{{APP_VERSION}}/fabintro.html",contentUrl:"https://vac.vap.expedia.com/{{APP_VERSION}}/assets/content",cssUrl:"https://vac.vap.expedia.com/{{APP_VERSION}}/assets/css/{{PARTNER}}/App.css",iconsUrl:"https://vac.vap.expedia.com/{{APP_VERSION}}/assets/icons/{{PARTNER}}/icons.js",environment:"Prod",firstBotResponseThreshold:1e4,smoochInitThreshold:1e4,allowMissingTranslations:!0,loggerConfig:{appenders:{0:"Ajax"},loggerName:"vac-client-logger",threshold:"INFO",ajaxConfig:{url:"https://vap.expedia.com/vaclog/log",timeout:16e3}},vacService:{url:"https://vap.expedia.com/vacservice",timeout:35e3},heartbeat:{interval:6e4},iot:{eventSubscriptionClientFlavor:"VacIotClient-prod",credentialRequest:{additionalData:{algorithm:"AWS4-HMAC-SHA256",dateFormat:"yyyyMMdd",dateTimeFormat:"yyyyMMdd'T'HHmmss'Z'",method:"GET",protocol:"wss",requestType:"aws4_request",service:"iotdevicegateway",uri:"/mqtt",heartMode:"auto",reconnectPeriod:1e4,maxReconnectPeriod:12e4,keepAlive:30,options:{qos:1},maxSubscribeRetryTimeout:18e4},authType:"AWS_IAM",endpoint:"a2jvy22h0kr7b5-ats.iot.us-west-2.amazonaws.com",region:"us-west-2"}},attachmentService:{url:"https://vap.expedia.com/attachment/",maxFileSize:26214400},createFrameTimeout:7e4,startFrameTimeout:7e4,debugLogs:!1}},i="54a156a0ce91716989bb0fa1349b51b0dcd2fbd0",a="3.22.0"},,,function(e,t,r){"use strict";var n;r.d(t,{a:function(){return n}}),function(e){e[e.ACCEPTED=202]="ACCEPTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.CONFLICT=409]="CONFLICT",e[e.CONTINUE=100]="CONTINUE",e[e.CREATED=201]="CREATED",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.GONE=410]="GONE",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.LOCKED=423]="LOCKED",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.OK=200]="OK",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.PROCESSING=102]="PROCESSING",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.USE_PROXY=305]="USE_PROXY",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST"}(n||(n={}))},,,,,function(){[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}))},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/getWebSocketCredentialsResponseSchema",type:"object",properties:{accessKeyId:{type:"string"},secretAccessKey:{type:"string"},sessionToken:{type:"string"},expiration:{type:"string",format:"date-time"},subscriptionId:{type:"string"}},required:["accessKeyId","secretAccessKey","sessionToken","expiration","subscriptionId"]}},function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={id:"/virtual-agent-control/updateAuthTokenSchema",type:"string"}},function(e,t,r){"use strict";r.r(t);var n=r(63),i=r.n(n),a=r(64),o=r.n(a)()(i());o.push([e.id,'.vac_iframe_fab_intro {\n  display: flex;\n  pointer-events: all;\n  border: none;\n  z-index: 200;\n  position: relative;\n  box-shadow: 0px 2px 0.25rem 0px rgba(0, 0, 0, 0.2);\n  border-radius: 0.625rem;\n  margin-right: 0.24rem;\n  margin-bottom: 0.625rem;\n  width: 240px;\n  opacity: 0;\n}\n\n.vac_fab_intro_load {\n  animation: vac_load-fab-intro 175ms cubic-bezier(0.4, 0, 1, 1) 200ms both;\n}\n\n@keyframes vac_load-fab-intro {\n  from {\n    opacity: 0;\n    transform: translateY(10%);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.vac_fab_intro_unload {\n  animation: vac_unload-fab-intro 175ms cubic-bezier(0.4, 0, 1, 1) 100ms both;\n}\n\n@keyframes vac_unload-fab-intro {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10%);\n  }\n}\n\n/* wrapper element for iframes */\n.vac_iframes_wrapper {\n  display: flex;\n  flex: 0 0;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-end;\n  padding: 4px;\n  transform: translateY(110%);\n}\n\n/* default settings for both chat and fab */\n.vac_iframes_wrapper.vac_chat,\n.vac_iframes_wrapper.vac_fab {\n  max-height: 44.25rem;\n  max-height: min(100vh - 5.5rem, 44.25rem);\n  height: auto;\n  pointer-events: none;\n  position: fixed;\n  z-index: 200;\n  right: 1rem;\n  bottom: 0.75rem;\n  opacity: 0;\n}\n\n.vac_iframes_wrapper_slide-in {\n  animation: vac_wrapper-slide-in 175ms cubic-bezier(0.4, 0, 1, 1) forwards;\n}\n\n@keyframes vac_wrapper-slide-in {\n  from {\n    opacity: 0;\n    transform: translateY(110%);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n}\n\n.vac_iframes_wrapper_slide-out {\n  animation: vac_wrapper-slide-out 175ms cubic-bezier(0.4, 0, 1, 1) forwards;\n}\n\n@keyframes vac_wrapper-slide-out {\n  from {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  to {\n    opacity: 0;\n    transform: translateY(110%);\n  }\n}\n\n/* VAC iframe default - FAB mode */\n/* Width and height set dynamically */\n.vac_iframe {\n  z-index: 202;\n  pointer-events: all;\n  border: none;\n  background: transparent;\n  max-height: 44.25rem;\n  max-height: min(100vh - 2.5rem, 44.25rem);\n}\n\n.vac_chat_pane {\n  height: calc(100vh - 2.5rem);\n  width: 25rem;\n  border-radius: 0.625rem;\n  box-shadow: 0 8px 16px 0 rgba(0, 11, 38, 0.24);\n}\n\n@media all and (max-width: 575px) {\n  .vac_chat_pane {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n    max-width: 100%;\n    border-radius: 0;\n    box-shadow: 0 0 0 0;\n    position: inherit;\n    right: inherit;\n    bottom: inherit;\n    left: inherit;\n    top: inherit;\n  }\n\n  /* mobile view for chat in "full screen" mode */\n  .vac_iframes_wrapper.vac_chat {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n    max-width: 100%;\n    border-radius: 0;\n    box-shadow: 0 0 0 0;\n    padding: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 900;\n  }\n}\n\n.vac_launch_embedded {\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n  border-radius: 0;\n  box-shadow: 0 0 0 0;\n  position: inherit;\n  right: inherit;\n  bottom: inherit;\n  left: inherit;\n  top: inherit;\n}\n\n.vac_uninit_iframe,\n.vac_inactive_iframe {\n  display: none;\n}\n',""]),t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{a:function(){return n}})},function(e,t,r){"use strict";function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}r.d(t,{a:function(){return n}})},function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var n=r(1085),i=r(461),a=r(1084);function o(e,t){(0,a.a)(2,arguments);var r=(0,i.a)(e).getTime(),o=(0,n.a)(t);return new Date(r+o)}},function(e,t,r){e.exports=r(593)},function(e,t,r){e.exports=r(594)},function(e,t,r){e.exports=r(595)},function(e,t,r){e.exports=r(596)},,,,,,,,function(e,t,r){var n=r(28),i=r(1167),a=r(65),o=r(363),s=r(326)("toStringTag"),u=n.Object,c="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?r:c?o(t):"Object"==(n=o(t))&&a(t.callee)?"Arguments":n}},,,,,,,,,,,function(e,t,r){var n=r(75);e.exports=n({}.isPrototypeOf)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(28),i=r(334),a=r(65),o=r(1109),s=r(247),u=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,u(e))}},function(e,t,r){var n=r(28),i=r(135),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,r){var n=r(75),i=r(65),a=r(240),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},function(e,t,r){var n,i=r(236),a=r(400),o=r(336),s=r(237),u=r(390),c=r(1136),l=r(242),f=l("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;v="undefined"!=typeof document?document.domain&&n?h(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):h(n);for(var r=o.length;r--;)delete v.prototype[o[r]];return v()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=i(e),r=new p,p.prototype=null,r[f]=e):r=v(),void 0===t?r:a.f(r,t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(28),i=r(246),a=n.Object;e.exports=function(e){return a(i(e))}},function(e,t,r){var n={};n[r(326)("toStringTag")]="z",e.exports="[object z]"===String(n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.decode=t.parse=r(384),t.encode=t.stringify=r(385)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){r(1281);var n=r(364).Object,i=e.exports=function(e,t,r){return n.defineProperty(e,t,r)};n.defineProperty.sham&&(i.sham=!0)},function(e,t,r){"use strict";var n=r(225),i=r(266),a=r(372),o=r(267),s=r(226).f,u=r(269),c=r(235),l=r(134),f="Array Iterator",p=o.set,d=o.getterFor(f);e.exports=u(Array,"Array",(function(e,t){p(this,{type:f,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var h=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(1407);e.exports=n},function(e,t,r){var n=r(1109),i=r(1269),a=Array.prototype;e.exports=function(e){var t=e.every;return e===a||n(a,e)&&t===a.every?i:t}},function(e,t,r){r(282);var n=r(259);e.exports=n("Array").every},function(e,t,r){r(1283);var n=r(364);e.exports=n.Object.freeze},,,,,,,,,,,function(e,t,r){var n=r(224),i=r(134),a=r(226).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},function(e,t,r){r(1265);var n=r(1266),i=r(28),a=r(1098),o=r(362),s=r(372),u=r(326)("toStringTag");for(var c in n){var l=i[c],f=l&&l.prototype;f&&a(f)!==u&&o(f,u,c),s[c]=s.Array}},function(e,t,r){var n=r(224),i=r(260),a=r(78),o=r(135),s=r(274).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(28),i=r(233),a=r(135),o=r(1135),s=r(342),u=r(343),c=r(326),l=n.TypeError,f=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var r,n=s(e,f);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!a(r)||o(r))return r;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},function(e,t,r){var n=r(28),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},function(e,t,r){"use strict";var n=r(1167),i=r(1098);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,r){var n=r(28),i=r(65),a=n.String,o=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},function(e,t,r){r(281);var n=r(259);e.exports=n("Array").forEach}],c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={id:e,loaded:!1,exports:{}};return u[e].call(r.exports,r,r.exports,l),r.loaded=!0,r.exports}l.m=u,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);l.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},l.d(i,a),i},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,r){return l.f[r](e,t),t}),[]))},l.u=function(e){return{9:"df-0",10:"df-1",11:"df-10",12:"df-11",13:"df-12",14:"df-13",15:"df-14",16:"df-15",17:"df-16",18:"df-17",19:"df-18",20:"df-19",21:"df-2",22:"df-20",23:"df-21",24:"df-22",25:"df-23",26:"df-24",27:"df-25",28:"df-26",29:"df-27",30:"df-28",31:"df-29",32:"df-3",33:"df-30",34:"df-31",35:"df-32",36:"df-33",37:"df-34",38:"df-35",39:"df-36",40:"df-37",41:"df-38",42:"df-39",43:"df-4",44:"df-40",45:"df-41",46:"df-42",47:"df-43",48:"df-44",49:"df-45",50:"df-46",51:"df-47",52:"df-48",53:"df-49",54:"df-5",55:"df-50",56:"df-51",57:"df-52",58:"df-53",59:"df-54",60:"df-55",61:"df-56",62:"df-57",63:"df-58",64:"df-59",65:"df-6",66:"df-60",67:"df-61",68:"df-62",69:"df-63",70:"df-64",71:"df-65",72:"df-66",73:"df-67",74:"df-68",75:"df-69",76:"df-7",77:"df-70",78:"df-71",79:"df-72",80:"df-73",81:"df-74",82:"df-75",83:"df-76",84:"df-77",85:"df-78",86:"df-79",87:"df-8",88:"df-80",89:"df-81",90:"df-82",91:"df-83",92:"df-84",93:"df-85",94:"df-86",95:"df-87",96:"df-88",97:"df-89",98:"df-9",104:"vac-ably",106:"vac-iot"}[e]+".chunk.js"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},n="@vac/client:",l.l=function(e,t,i,a){if(r[e])r[e].push(t);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==n+i){o=f;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",n+i),o.src=e,0!==o.src.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),o.integrity=l.sriHashes[a],o.crossOrigin="anonymous"),r[e]=[t];var p=function(t,n){o.onerror=o.onload=null,clearTimeout(d);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),s&&document.head.appendChild(o)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},l.p="https://vac.vap.expedia.com/3.22.0/",l.sriHashes={9:"sha384-Ebc/+KTsO1XQBtswadUyqFT3YuXvA5Pxqd3RL1xiTBFSV/2qlIFjEyNQdvM+7tgX",10:"sha384-IXPglKYAPskcKOlx5931FuyMcIzoEqG+wk9K2h2T5L+CEkuZJCxBjgIGW5GKyBAD",11:"sha384-m1Jrk2Dm2uYQXIMA/QhNxRJeNPp/3lZi1Mo9n+n/Uf6+BNSIqVdVFJtXiMceAb0+",12:"sha384-7YWjYf1EOhIgy4Y4ra0tIAivLUOwW6IPwfOQ9ui/0ocLHgI6U8EQY+HEQ2RCiGom",13:"sha384-YQfkLPSpImTDfLNIdqnYpCM+BEQ8xuv/w466v8MetNi9dN1YUlSOnxeK1oHDU0w+",14:"sha384-O1lpcPCCsoUtzzMzT9AVYaFbWbXVytBWzqyRCR1WwAAmukNuRPG44Fo6cAmOlKhf",15:"sha384-tjCpmrYkE2OJ3cFNT+5h57XPYGxwhJM4j4XYBFCls2JPhvROYw3ao5cmjP2ClpNX",16:"sha384-0DAW5VCzlo2iW5N3DeDtpVJ0ZCnmDdtZOFhrw5FzFtXuKL/L3LG2mwYpbi7IQZuD",17:"sha384-uZs4PZaIcB/pxFQRGYFdV4Z3uLNNQAqy4sDW6poH16JvgSd3Jcw/E55ky7NkXGuq",18:"sha384-x06g5AlzL0JU+A/fSb1NJL5rzrjCm5/2USuDs/ta8Mc/U42FYQk1q2zslvM8m5DM",19:"sha384-13BnR2Sj8RVP3fVB0xqm76x4s8c7XC3nY9nSM9enE5TfohjR0504GqtZcE6uDZQJ",20:"sha384-J7PTSJ9aVM9n4U5g74Ns2EwSXHhu0yb7Zn4DSRromtm8ForRrz9GpLz2XPGoAdCs",21:"sha384-I8TQbVDEEwcVbLUsU/tP7/gxBssQ5OjpngN+OewS2v8pl+oyDe08FSfpYCC5CFg4",22:"sha384-B1t6O26UxD62HRkpuJldz+FP8bDFNxJUnW0ITeCAaS6XVJJpuNOh20gxfW6zq7d3",23:"sha384-TJs658eB8wdU7+Rys26JF2QcJxxxTInFoKyPtjQzLEH360cuY6S2n1ib8bdtwHST",24:"sha384-NBAwQsbBEKyyOQrkJ9DKLL67fewtol6Y1E5j58vdKhMaHNbnCW2D75luhH1sEEnk",25:"sha384-VOQ5j0ZFpXP0Nl9G8cFVthL7PubmXBw72pusuoQ3U5qa6eDaIn9T/uKRj4VYvnGy",26:"sha384-u4sJq94fS/KAH1X82EjbZKxeWEo2Tz5s2xIQR1F1TXgFPKXI0Lw1C6oxpr7PAk45",27:"sha384-uTaOvdh9cU7lwrT3VuizIhsFtM/BQWaQY1ZSZN9BksO/T1HCb4X+flm2MuCb2mcp",28:"sha384-GFoFZluKnA2XCjxn/BATKEyn7FcanUSQG0x7Uwj6cwgYjYN/DsjZya0cs64XQ8Sm",29:"sha384-57G87+5yWXX9hwnyXDuc98ESFgI35ayhEDTyPj8da33FQn3Se+B1ETSbsxoPw9Rd",30:"sha384-km7QN3KQEPgekTkr6W3eKy38bMIIlo0xbjw55sl/rpgDLz+Zo3FEoe4MNiccy2fL",31:"sha384-EnEIbROm1FzXUnPK3NoDlNqUeWUD5oReusK2btLaJTjkqGNu2QLHAwqcPKWWD/GT",32:"sha384-Zm+idgFFb+g7qjmLHsdYTHkQJ3WAl52RiFa+BToLiGMII6DqPQRtgrOzyZ/XQAaJ",33:"sha384-qC8q1MwkxllvQ2wqxz11YaxRDA6C7RA4WP9xvVIjdn15J8xjn49diDykJxuYHZEC",34:"sha384-3MOyZvyRAnBC1MXws3nxGSvvx9w0DxLo20v5lKUlkEa2Qsn8AhYvoyC6H+i22ksC",35:"sha384-JgyGn0+QpTwn8IcEbq5QC1mKGL80KF4629SnwHKJnI1DA9d1hhRaIM0d2LS8IShV",36:"sha384-yPsYK9TknbumgVqO3qw0xLQO6Uh92p72cgByJdxPAEkfzQXspHThpMa1kyedfXRt",37:"sha384-5XyZ+6ANRsCDr6aGCjQXbQ2l+zlYz1X8TtCZc4iFQpE0qg2eVtl40iHhni4nvxMl",38:"sha384-gMccrkWsSlDqU+wntj0O1pM4jSfl7zl8Eg6hH9ARj1a6H2tNW0U+G53r4eGOrDR/",39:"sha384-S0oyob0/7A4EsaRzYwmHh7veNIdg+HE2GHzCpsyFLojqSLh9mF2ExHfKOjxQyx5e",40:"sha384-KHiblHIxeaLSCmEB1UsGP9myHEN7LyksvfkRKcpbVBdJ3EHcsx+NgcZCRf6angBP",41:"sha384-r1IFJIKzmLmXtigYBPz+f/UnZrvxgLqzSENvNSuva0Nw2yMWl0VWK7Qdd2wo/sBj",42:"sha384-wlVtBkGH/AQeOPGOlIuPcidjlSaUpcnapWUTG068vOVq+27sss0F8EP041JI9pIx",43:"sha384-yjupFf9vxdQGsVU/y/doAUIh7oXCTTCNQUOxMtX1bY7aQybUWUkPXSBpwF/6UB5I",44:"sha384-ScvK6wLEQ5g65rwcsYPwlMh8OZ+gjbrFnYmZviwrPWS+SOuC8QAyRaPD/5wY9X7E",45:"sha384-IS3HAYuvtnGIy1smvqafY0x9ac5Xca5U7SogjxbCdK+aefbsrBMdK5cc9F6awkyO",46:"sha384-aeBTearGmvzqvqvmrfKVPLUBQXIzNuDsvTV7wn/L9d43uh6wfahjUQqrmVXaWj3r",47:"sha384-98G40LNHO2EDbgnuV5iKIHUGctwvCcAbnSj+xZmvrJd25LCxCuO63bW+ovigAZJW",48:"sha384-wR4YY52hGKFw/zIHLNlyX+A69o+VjVCkVYvaXfm1h6C2v11H0urREaXdfxX/GYAg",49:"sha384-UfChMweR3R1l3WDwSZ2lJXbvAQArDbvXFRdaBokTEr3kEPIGTjC7OurBUSXObe+R",50:"sha384-Lb6wsyx7rB8SV+ae5CBk8uUq3EaTdeoCLejnvZCLYXPHHSBptDSDllu/auXLEKje",51:"sha384-KER6e7tMvtyJWsurJM9GWLu490tks+XKVS2TBnQO7Cn0Ec97JEmkxo3tosl4PvMb",52:"sha384-cV/U1Jex2hgR/26LAxDo1O29aAh8XQ8IqdYBKV5W6wAfDXHql/0AH6xAQtFmtEGJ",53:"sha384-rFoKdYmdL5n24cs8jXLk5n3edj9/RnigjH0LqoyqI3hd1p8voCKA03Yp4RvDse2l",54:"sha384-3RnVfZaJyhiCIe4VR51bR92rwIabsOV6gH46cgICdlbxBP4zysaVekWEHJXdvO+m",55:"sha384-NE8OrMU6CIqb6DLTzZLD1m2IgxtH/oPY4UgqliuplU0UQN+8ICn8U2s52cJg9xlz",56:"sha384-KCbpAoF30X779PehGlC4aLpJQgAliVArGPaqQhv4FYBmLRio3hqRYjqzkL63fueY",57:"sha384-+lvy04V+4Sh2TEDmgFNKqiThU3Yg4PGVOWxm6hXuD0Ye6hAVSD1r+r2jHuKs4Hr/",58:"sha384-R8hr+eYXoOhM5QP5qPCu73824biowxmpe3fXYbe7AMBfU2/pZ8KNGdxVReo/EMKi",59:"sha384-ljj1xwY7LtRdFEa3f9PkdPn04bimgiVxinW6zzgZlsavOX6r2W7bqwMSZYfYN1i1",60:"sha384-2BKUJkWDtVTW04eTy/uJpVQF7pnWB9LncTV2m1/7blk7aLz4LJYT4W5Gx+Ij6I6B",61:"sha384-YtFqKyNmiUbkDy28GqU5et/Pn44HGzk4d5BmfP/IRU9jcYM/r980UAb/3DVFXWYh",62:"sha384-YonPdQQG5JSMFkbngVvn0WGVAERTV1okr194R4VU4+AykrPLKL07V84Q3N2hUXyD",63:"sha384-QJtV1g1GHnPTA+JnFP6kmjeeFrDtFLsiKsDPgDWhZj9jVIxrof0e0jM6eNKKNEq6",64:"sha384-M2d8qqjbr2On7xL8/5zgR6MBxKaO+5h9jWgyxwdBRMMB4k+Ms2/UMFrg5t41FzbX",65:"sha384-AkCmOco7Y1Iqezy0IXfuu00+NI3YT4pJIADlbABdJw+RhKXNjzUdrRPBwrC/sGhi",66:"sha384-YLdz+LScwFK46cNKJ5cxLtcA59NF4rGchrcDJrHlESYvB+2s6V6+E55Lvk41cCEZ",67:"sha384-LQ3c+E9WryFPmBtcpZ8FUbYTTd1JsBNlHCPuF4oRzT8DoHMbgHXP/QBRrDUJWzux",68:"sha384-G7QIMGUtrfUz+IBr7M8byziMCNBCBNyZkka23sVo9j/iKn8DsBA4gjPcGQnO4BPJ",69:"sha384-bL9rciNcp3goW9+Cdc2+eNIvvPnqj1nv7z9F60zg2TYGo89YV1BUwU+y1gs3WF5F",70:"sha384-Wlx3bli/FhJ1jrKlJIkUOdIbdx7ks1S30+Pv2ZIPPgX0bOUpiqyYvDqGtVeSyQpr",71:"sha384-FWXpaFZNfXeMULOPaurvuQHirzXy/sV2wFDUxqRSXLDDklUGf9+/XIwyiFjtGJUY",72:"sha384-XjKaHOR3BuKSz3qIXzoPSlxBxvB4A5+GDgQJ1g0dSqeI+LnDeP/3A1MqOasjJlFc",73:"sha384-/vod3CeQ4PTUA/ZgLzwWAxx6Pn/S6JHXDypZ/XYDSAXoJl0VXUqrtBVy6meZSMJs",74:"sha384-qrr9aoh7nEoGpQKOfforhypdI5jqDreXH1WYDwwjQ46Q3AAKMFgzRBE2fUh0Q/d0",75:"sha384-G1pOoS2MfboLTYopBxo9rXQvYP2ZBHC5zbXJlLmAWw5WzVR5ZjzolSAlsJ8N23Fs",76:"sha384-JhpPjPFnfBD+/1bu2qSqLgiPLUYOLadHD8TuhadUojxOT8eIoofDSBiJ9Vub8liR",77:"sha384-Q3JQFKgW+IC2e61Jfan9vKxR5Sb/lBqih8Z7+iqpvgApT6cwghhthB6ODu880wA7",78:"sha384-k35c2x1HJKKsHsSopBUinYAhIT2XRGqWCQyq1WPxxNmbnyLCcRfuQ1SuR4TOOK8v",79:"sha384-Eu3cWCaB23UlNseYp6Zev2eFfJ0WVYDGUBQxdvB/3jT+8P8A2rJ6VwLGpbC8v2RH",80:"sha384-1Mi8aGR3oKVVWKSJiR+YdxFqnrlhAXKy1G8+ihVOFVy+ZvDe5Pfvg0zkhmDLhGAJ",81:"sha384-k4oZMs6aN9BW/o9fHfBN9SBwg+waZ8zTI6n3zN+cxyFp6PLFQaIq/LplUl26umFM",82:"sha384-sQfKG/O6B6P/KKt5B6f1KYRyds23EcioD9En3MLzvPgLPuglAStN/5AfWOQZRNl5",83:"sha384-UU/jn9aqHcDFQ4hZwKQUYr4tY1vpssJm8LANDKATrJamryP392bSMc522rmf8Yr5",84:"sha384-6hVhahB2rC7LuNlMaDxgumubbBfht2dssKGd6DGlVj2A9m9wNr2GDx9TZTS9gjwN",85:"sha384-294EGXE2/9tfySdCw639ZgywKz85nuMytkomAukE/qeFbO7kfmER5O3BbaEaUNyF",86:"sha384-3KZ5QMrPQT9ukmsnEmUcqtQbDFyl3nV6yN8MDNI49LDaqu3SpcFTrUhFemrVZlaT",87:"sha384-GZx17QzqLyCLwNTIy3bofNEE2od/A+zlUG38z0yoT+OVqvS2R2qlFDfx+VLFp+Wi",88:"sha384-HYFDsqpPamG4rtSTise/AfFnLHujTiJypLoQMSS3kufbZ0EjgwDorNUD0hpwnhiz",89:"sha384-KHJutNnOplO+uqsLREx4k76dJS3PaOzsih9J9p30zcOkPrbNojKqoS8ojZIQC2KD",90:"sha384-yn/SOyImX9xWIg6idm2PhuXQC9goGJHBwnUBCugZ66bRfA6ERerT+h++34E7zweb",91:"sha384-D3oAwwYhOnQyzxwjQzU+nEDW91A1SLxlRReXft02p/RL3VIWv/noF7d+urjcgmqR",92:"sha384-iPB9VA6bz4DYQycoNr7td0/Dve46FO64Jr6+uH35zXgiaediHIBAd6nRkgKEBfDf",93:"sha384-t8XpVdjSYYOsGSudS62I5oSO2GUTdv45ieZTrO+gJK9FzbC7LWCXkqh6+QFmiokc",94:"sha384-bqwbcGy8SFIVNGtpnxPAuWJ13pO/i5XHwB4BJkk3gWLVlPjD4Sm/MTKQxt18Nl1K",95:"sha384-sZXrv+vXZ33uPN2HQs8dae7SDGLoO5ocZMxs/uL/FW+xtnI+iga5CKUqPW9Lvlzg",96:"sha384-TpCetybU0n+TqcLuogwyVqyUhtzcUiwFLUPlEgW31mkoGFM3MU31w+d1t4ynHzyY",97:"sha384-KrTgC7oCAMcir7K02dlQt+iZZoOfoRmAHeREIBDOdsEvrXrmszxjzr2w5pK0V0VU",98:"sha384-DB6G2ihe4PzVxQsK5cKMzMxyunNDC7X94fljgwxDc736MxVUy3wwvVJ0deTZU8eO",104:"sha384-NcSRGo+0Cg1BE47rrcyD4uqpoRrZzTgfFnJ/HI/Q7BtxsA3B0CZ2evzpcKGsbPmm",106:"sha384-3tjF+m7izlDNuNmpz5IIsj+Cd8wrqZ1dzn1hqtHLht2FsI7uH+6CSjQDE9cmWAht"},i=l.u,a=l.e,o=new Map,s=new Map,l.u=function(e){return i(e)+(o.has(e)?"?"+o.get(e):"")},l.e=function(e){return a(e).catch((function(t){var r=s.has(e)?s.get(e):5;if(r<1){var n=i(e);throw t.message="Loading chunk "+e+" failed after 5 retries.\n("+n+")",t.request=n,t}return new Promise((function(t){setTimeout((function(){o.set(e,!1),s.set(e,r-1),t(l.e(e))}),0)}))}))},function(){var e={125:0};l.f.j=function(t,r){var n=l.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((function(r,i){n=e[t]=[r,i]}));r.push(n[2]=i);var a=l.p+l.u(t),o=new Error;l.l(a,(function(r){if(l.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var n,i,a=r[0],o=r[1],s=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(s)s(l)}for(t&&t(r);u<a.length;u++)i=a[u],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.vacChunks=self.vacChunks||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var f={};!function(){"use strict";l.r(f),l.d(f,{VirtualAgentControl:function(){return Ki},moduleInternal:function(){return Gi}});var e=l(97),t=l.n(e),r=l(189),n=l.n(r),i=l(27),a=l.n(i),o=(l(94),l(654),l(188)),s=l(576);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p="ERR_PROMISE_TIMEOUT";function d(e,t,r){if(Promise.resolve(e)!==e)throw new Error("promise must be a Promise");var n,i="number"==typeof t&&t>0?t:5e3,a=r;void 0===a&&(a=new Error("".concat(p," (").concat(i,")")));var o=new Promise((function(e,t){n=setTimeout(t,i,a)}));return Promise.race([e,o]).finally((function(){clearTimeout(n)}))}function h(e,t,r,n){var i=Array.isArray(t)?t:[t],a=n||e.name||"Function",o="".concat(p,": ").concat(a),s=new Promise((function(){}));return d("function"==typeof e?e.call.apply(e,[null].concat(u(i))):s,r,new Error(o))}var v=l(577),g=l(187),y=(l(41),l(32)),m="VAC_INITIALIZE_START",b="IFRAME_LOAD_START",E="IFRAME_LOAD_END",w="INITIALIZE_START",I="INITIALIZE_COMPLETE",A="ICON_RENDERED",C="CONVERSATION_CREATE_START",O="CONVERSATION_CREATE_END",x="FRAME_START",S="LAZY_INITIALIZE_START",R="LAZY_INITIALIZE_END",T="FACADE_CONNECT_START",_="FACADE_CONNECT_END",k="WEBSOCKET_MESSAGE_RECEIVED",P="FAB_CLICKED",j={},N="timeToCanInitialize",D="timeToGetAggregateConfig",L={TUser:{start:P,end:k},TUserEmbedded:{start:m,end:k},TSite:{start:m,end:A},timeToCreateConversation:{start:C,end:O},waitTimeForMessage:{start:O,end:k},timeToStartConversation:{start:C,end:k},timeToInitialize:{start:w,end:I},timeToDisplayIcon:{start:w,end:A},timeToJoinConversation:{start:"CONVERSATION_JOIN_START",end:"CONVERSATION_JOIN_END"},timeToRenderConversation:{start:C,end:"PAST_MESSAGES_RECEIVED"},timeToLoadIframe:{start:b,end:E},timeToMountFabFromStart:{start:x,end:"LAUNCH_COMPONENT_MOUNT"},timeToLazyInitialize:{start:S,end:R},timeToFacadeConnect:{start:T,end:_}},U="startTime",F="endTime",H=l(20);function M(e,t,r){return{message:e,logType:H.a.performance,millis:t.toFixed(),scope:r||"global"}}var V=function(){return"performance"in window&&"undefined"!=typeof performance};function z(e){return!(!V()||"function"!=typeof performance.mark)&&(performance.mark(e),!0)}function B(e,t,r){return!(!V()||"function"!=typeof performance.measure)&&(performance.measure(e,t,r),!0)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var J=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance||(this.perfEvent={global:{}},this.perfCountersRemaining={global:K({},j)},this.instance=this)}var t,r,n;return t=e,(r=[{key:"getScopedPerfEvent",value:function(e){return e?(this.perfEvent[e]||(this.perfEvent[e]={},this.perfCountersRemaining[e]=K({},L)),[this.perfEvent[e],this.perfCountersRemaining[e]]):[this.perfEvent.global,this.perfCountersRemaining.global]}},{key:"getAggregateEvents",value:function(e){return e?K(K({},this.perfEvent.global),this.perfEvent[e]):this.perfEvent.global}},{key:"isPerfScopedEventSet",value:function(e,t){return!!q(this.getScopedPerfEvent(t),1)[0][e]}},{key:"addPerfEvent",value:function(e,t){var r=q(this.getScopedPerfEvent(t),2),n=r[0],i=r[1];if(!n[e]){n[e]=V()&&performance.now()||Date.now(),z(e);var a=this.getAggregateEvents(t);Object.keys(i).forEach((function(e){var r=i[e],n=r.start,o=r.end;if(a[n]&&a[o]){var s=M(e,a[o]-a[n],t);y.a.log(H.b.INFO,s),B(e,n,o),delete i[e]}}))}}},{key:"addPerfEventWithMetrics",value:function(e,t,r){if(e&&t){var n=M(e,t,r);y.a.log(H.b.INFO,n)}}}])&&Y(t.prototype,r),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Q=l(1085),X=l(1086),$=l(1084);function ee(e,t){(0,$.a)(2,arguments);var r=(0,Q.a)(t);return(0,X.a)(e,6e4*r)}var te=l(461);function re(e,t){(0,$.a)(2,arguments);var r=(0,te.a)(e),n=(0,te.a)(t);return r.getTime()<n.getTime()}var ne=l(569),ie=l(649),ae=l(130),oe=l.n(ae),se=l(147),ue=l.n(se),ce={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"};function le(e){var t=ce[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}var fe=l(193),pe=l(23);function de(e){return Boolean(null==e?void 0:e.response)}function he(e){return oe().isCancel(e)}var ve=l(11);function ge(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae=Object.freeze({isResponseLoggingEnabled:!0}),Ce="Server response",Oe="Network connectivity issue",xe="User aborted request",Se="Error in request configuration",Re=function(){function e(t){var r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae;Ee(this,e),Ie(this,"addRequestInterceptor",(function(e){n.axios.interceptors.request.use(e)})),Ie(this,"addResponseInterceptor",(function(e,t){n.axios.interceptors.response.use(e,t)})),Ie(this,"enableRetry",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,fe.default)(n.axios,e)})),Ie(this,"handleStateChange",(function(e){"frozen"===e.newState&&n&&n.axiosCancelSource&&"function"==typeof n.axiosCancelSource.cancel&&(y.a.log(H.b.INFO,"ProxyBase: canceling pending axios requests."),n.axiosCancelSource.cancel("App session cancelled by user"))}));var a={transitional:{clarifyTimeoutError:!0}};this.axiosCancelSource=oe().CancelToken.source();var o=Object.assign(a,t,{cancelToken:null===(r=this.axiosCancelSource)||void 0===r?void 0:r.token});this.wrapperOptions=be({},i),this.axios=oe().create(o),this.handleWindowUnload=this.handleStateChange.bind(this),this.requestInterceptor=this.requestInterceptor.bind(this),this.responseInterceptor=this.responseInterceptor.bind(this),this.responseRejectHandler=this.responseRejectHandler.bind(this),this.addRequestInterceptor(this.requestInterceptor),this.addResponseInterceptor(this.responseInterceptor,this.responseRejectHandler),this.axiosCancelSource&&"function"==typeof this.axiosCancelSource.cancel&&ue().addEventListener("statechange",this.handleStateChange)}var t,r,n;return t=e,r=[{key:"requestInterceptor",value:function(e){return e.time={startTime:new Date},this.startTime=e.time.startTime,e.headers=be(be(be({},this.axios.defaults.headers),e.headers),{},{"trace-id":(0,pe.a)()}),e}},{key:"responseInterceptor",value:function(e){return this.wrapperOptions.isResponseLoggingEnabled&&y.a.log(H.b.INFO,this.createHttpLog(e.config,e)),e}},{key:"responseRejectHandler",value:function(e){return he(e)?(e.message=(null==e?void 0:e.message)||"User aborted request",y.a.log(H.b.ERROR,this.createHttpLog(null==e?void 0:e.config,null==e?void 0:e.response,e,xe))):de(e)?(0,ve.a)(e,"response.status")!==ie.a.UNAUTHORIZED&&y.a.log(H.b.ERROR,this.createHttpLog(null==e?void 0:e.config,e.response,e,Ce)):function(e){return Boolean(null==e?void 0:e.request)}(e)?("ECONNABORTED"===(null==e?void 0:e.code)&&(e.code="Request aborted"===(null==e?void 0:e.message)?"EBROWSERABORTEDREQUEST":"ETIMEDOUT"),e.message=(null==e?void 0:e.message)||"Network connectivity issue",y.a.log(H.b.ERROR,this.createHttpLog(null==e?void 0:e.config,null==e?void 0:e.response,e,Oe))):(e.message=(null==e?void 0:e.message)||"Error creating HTTP request: ".concat(null==e?void 0:e.toJSON()),y.a.log(H.b.ERROR,this.createHttpLog(null==e?void 0:e.config,null==e?void 0:e.response,e,Se))),Promise.reject(e)}},{key:"createHttpLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=new Date,a=null!=t&&t.status?le(t.status):(0,ve.a)(r,"code",he(r)?null==r?void 0:r.message:"Network connectivity issue at the client. Server could not be reached"),o=i-this.startTime;if(e){var s,u,c,l;null!=e&&null!==(s=e.time)&&void 0!==s&&s.startTime&&(o=i-(null==e||null===(l=e.time)||void 0===l?void 0:l.startTime));var f=null==e||null===(u=e.headers)||void 0===u?void 0:u["trace-id"],p=(null==e?void 0:e.requestContext)||{};return be({logType:H.a.http,method:null==e?void 0:e.methodName,"trace-id":f,startDateTime:(null==e||null===(c=e.time)||void 0===c?void 0:c.startTime)||this.startTime,endDateTime:i,millis:o,httpMethod:null==e?void 0:e.method,httpStatusCode:null==t?void 0:t.status,message:a,errorDetail:null==r?void 0:r.message,errorCategory:n,requestUrl:null==e?void 0:e.url,requestParams:null==e?void 0:e.params,requestBody:null!=e&&e.logRequest?null==e?void 0:e.data:void 0,response:null!=e&&e.logResponse||r?t.data:void 0,vacId:null!=e&&e.vacId?e.vacId:void 0},p)}return{logType:H.a.http,endDateTime:i,httpStatusCode:null==t?void 0:t.status,message:a,errorDetail:null==r?void 0:r.message,errorCategory:n,millis:o}}},{key:"request",value:function(e){return this.axios.request(e)}},{key:"get",value:function(e,t){return this.axios.get(e,t)}},{key:"head",value:function(e,t){return this.axios.head(e,t)}},{key:"delete",value:function(e,t){return this.axios.delete(e,t)}},{key:"options",value:function(e,t){return this.axios.options(e,t)}},{key:"post",value:function(e,t,r){return this.axios.post(e,t,r)}},{key:"put",value:function(e,t,r){return this.axios.put(e,t,r)}},{key:"patch",value:function(e,t,r){return this.axios.patch(e,t,r)}},{key:"postForm",value:function(e,t,r){return this.axios.postForm(e,t,r)}},{key:"putForm",value:function(e,t,r){return this.axios.putForm(e,t,r)}},{key:"patchForm",value:function(e,t,r){return this.axios.patchForm(e,t,r)}}],r&&we(t.prototype,r),n&&we(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Te(){return{requestInterceptors:[],responseInterceptors:[],withAxiosOptions:function(e){return this.axiosOptions=e,this},withWrapperOptions:function(e){return this.wrapperOptions=e,this},withRequestInterceptor:function(e){return this.requestInterceptors.push(e),this},withResponseInterceptor:function(e,t){return this.responseInterceptors.push([e,t]),this},withRetry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isRetryEnabled=!0,this.retryOptions=e,this},build:function(){var e=new Re(this.axiosOptions,this.wrapperOptions);return this.requestInterceptors.forEach(e.addRequestInterceptor),this.responseInterceptors.forEach((function(t){return e.addResponseInterceptor.apply(e,ge(t))})),this.isRetryEnabled&&e.enableRetry(this.retryOptions),e}}}var _e=l(14);function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var De=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.requestInterceptor=this.requestInterceptor.bind(this),this.responseRejectHandler=this.responseRejectHandler.bind(this),this.handleAuthTokenError=this.handleAuthTokenError.bind(this);var n=Object.assign({headers:{"Content-Type":"application/json"}},t);this.axios=(new Te).withAxiosOptions(n).withRequestInterceptor(this.requestInterceptor).withResponseInterceptor(null,this.responseRejectHandler).withRetry().build(),this.authToken=r,this.isAuthTokenValid=!0,g.a.on(_e.a.VAC_AuthTokenError,this.handleAuthTokenError),this.sessionDatabag=null,this.isEgSessionEnabled=!1,this.isCGPEnabledForWeb=!1}var t,r,n;return t=e,(r=[{key:"setBusinessSegmentId",value:function(e){this.businessSegmentId=e}},{key:"setChannelOriginId",value:function(e){this.channelOriginId=e}},{key:"setAuthToken",value:function(e){this.authToken=e,this.isAuthTokenValid=!0}},{key:"setSessionDatabag",value:function(e){this.sessionDatabag=e}},{key:"requestInterceptor",value:function(e){var t,r=this.businessSegmentId?{"business-segment-id":this.businessSegmentId}:{},n=this.channelOriginId?{"channel-origin-id":this.channelOriginId}:{},i=this.partnerId?{"partner-id":this.partnerId}:{},a=this.sessionDatabag?{"eg-session-databag":this.sessionDatabag}:{},o=this.isCGPEnabledForWeb?{"is-cgp-enabled":this.isCGPEnabledForWeb}:{},s=je({},this.isCGPEnabledForWeb?"x-cp-authorization":"Authorization","".concat(null===(t=this.authToken)||void 0===t?void 0:t.token));return e.headers=Pe(Pe(Pe(Pe(Pe(Pe(Pe({},e.headers),n),r),i),a),s),o),e}},{key:"responseRejectHandler",value:function(e){return de(e)&&e.response.status===ie.a.UNAUTHORIZED&&(this.isAuthTokenValid=!1,g.a.publish({data:{type:_e.a.VAC_AuthTokenError,vacId:_e.c}})),Promise.reject(e)}},{key:"requestWithoutAuth",value:function(e){return this.axios.request(e)}},{key:"request",value:function(e){if(!this.isAuthTokenValid&&!this.isEgSessionEnabled){var t=new Error("Auth token is invalid");return t.response={status:ie.a.UNAUTHORIZED},Promise.reject(t)}return this.axios.request(e)}},{key:"handleAuthTokenError",value:function(){this.isAuthTokenValid=!1}}])&&Ne(t.prototype,r),n&&Ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Le=l(25),Ue=l(646),Fe="INTENT",He="vac",Me=l(619);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function ze(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Be(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){ze(a,n,i,o,s,"next",e)}function s(e){ze(a,n,i,o,s,"throw",e)}o(void 0)}))}}function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t){return Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ye(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xe(e);if(t){var i=Xe(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Qe(this,r)}}function Qe(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}var $e=(0,Le.a)();function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vacResourceIdOrAltId,r=e.partnerResourceIdOrAltId,n=e.businessSegmentResourceIdOrAltId,i=e.channelOriginResourceIdOrAltId;if(!t)throw new Error("The vacResourceIdOrAltId argument is required");return i&&n&&r?"/api/v2/partners/".concat(r,"/businessSegments/").concat(n,"/channelOrigins/").concat(i,"/virtualAgentControls/").concat(t,"/getConfig"):n&&r?"/api/v2/partners/".concat(r,"/businessSegments/").concat(n,"/virtualAgentControls/").concat(t,"/getConfig"):r?"/api/v2/partners/".concat(r,"/virtualAgentControls/").concat(t,"/getConfig"):"/api/v2/virtualAgentControls/".concat(t,"/getConfig")}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(B,e);var t,r,n,i,a,o,s,u,c,l,f,p,d,h,v,g,m,b,E,w,I,A,C,O,x,S,R,T,_,k,P,j,N,D,L,U,F,M,V,z=Je(B);function B(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.channelOriginId,n=t.authToken,i=t.origin;if(Ke(this,B),!r)throw new Error("channelOriginId is required for VacServiceProxy");return(e=z.call(this,{baseURL:$e.vacService.url,headers:{"Content-Type":"application/json"}},n)).channelOriginId=r,e.legacyChannelOriginId=r,e.origin=i,e}return t=B,r=[{key:"setPartnerId",value:function(e){this.partnerId=e}},{key:"setIsEgSessionEnabled",value:function(e){this.isEgSessionEnabled=e}},{key:"setIsCGPEnabledForWeb",value:function(e){this.isCGPEnabledForWeb=e&&!this.isCGPDisabledDomain()}},{key:"setEgSessionDatabag",value:function(e){this.setSessionDatabag(e)}},{key:"isCGPDisabledDomain",value:function(){var e,t=$e.cgp.disabledHosts;try{e=new URL(this.origin).hostname}catch(t){e=this.origin,y.a.log(H.b.ERROR,{errorCode:"isCGPDisabledDomain",message:"".concat(null==t?void 0:t.message)})}return t.some((function(t){return t instanceof RegExp?t.test(e):e===t}))}},{key:"isCGPEnabled",value:function(){return this.isCGPEnabledForWeb&&!this.isCGPDisabledDomain()}},{key:"setBaseUrlInParam",value:function(e){return Ge(Ge({},e),this.isCGPEnabled()&&{baseURL:"".concat(this.origin,"/vacservice")})}},{key:"doPost",value:(V=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.data,i=t.methodName,a=t.logResponse,o=t.logRequest,s=t.requestContext,u=t.timeout,c=void 0===u?$e.vacService.timeout:u,l=t.allowRetry,f=void 0===l||l,p=t.vacId,d={url:r,data:n,method:"POST",methodName:i,timeout:c,logResponse:a,logRequest:o,requestContext:s,allowRetry:f,vacId:p},d=this.setBaseUrlInParam(d),e.next=5,this.request(d);case 5:return h=e.sent,e.abrupt("return",h.data);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return V.apply(this,arguments)})},{key:"doGet",value:(M=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.methodName,i=t.queryParams,a=t.logResponse,o=t.requestContext,s=t.headers,u=void 0===s?{}:s,c=t.allowRetry,l=void 0===c||c,f=t.isPublicRoute,p=t.vacId,d={url:r,method:"GET",methodName:n,params:i,timeout:$e.vacService.timeout,logResponse:a,requestContext:o,headers:u,allowRetry:l,vacId:p},d=this.setBaseUrlInParam(d),h=null,!f){e.next=10;break}return e.next=7,this.requestWithoutAuth(d);case 7:h=e.sent,e.next=13;break;case 10:return e.next=12,this.request(d);case 12:h=e.sent;case 13:return e.abrupt("return",h.data);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)})},{key:"doPatch",value:(F=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.data,i=t.methodName,a=t.logResponse,o=t.logRequest,s=t.requestContext,u=t.allowRetry,c=void 0===u||u,l=t.vacId,f={url:r,data:n,method:"PATCH",methodName:i,timeout:$e.vacService.timeout,logResponse:a,logRequest:o,requestContext:s,allowRetry:c,vacId:l},f=this.setBaseUrlInParam(f),e.next=5,this.request(f);case 5:return p=e.sent,e.abrupt("return",p.data);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"createConversation",value:(U=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},r=t.partnerId,n=t.languageId,i=t.participantData,a=t.conversationProperties,o=t.intentPayload,s=t.unauthenticatedIds,u=t.vacId,c=s&&"object"===Ve(s)&&s.conversationId,l=Ge(Ge(Ge(Ge({languageId:n||"en_US"},c?{unauthenticatedIds:s}:{}),a&&"object"===Ve(a)&&Object.keys(a).length>0&&{conversationProperties:a}),o&&"object"===Ve(o)&&Object.keys(o).length>0&&{intentData:{messageType:Fe,payload:JSON.stringify(o)}}),i&&"object"===Ve(i)&&Object.keys(i).length>0&&{participantData:i}),e.abrupt("return",this.doPost({url:"/api/v3/partners/".concat(r,"/conversations"),methodName:"createConversation",data:l,logRequest:!0,logResponse:!0,vacId:u}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return U.apply(this,arguments)})},{key:"joinConversation",value:(L=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.participantData,a=void 0===i?{}:i,o=t.intentPayload,s=Ge({participantData:Ge({},a)},o&&"object"===Ve(o)&&Object.keys(o).length>0&&{intentData:{messageType:Fe,payload:JSON.stringify(o)}}),e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/join"),methodName:"joinConversation",data:s,logRequest:!0,logResponse:!0}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return L.apply(this,arguments)})},{key:"joinConversationByInvitation",value:(D=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.joinHref,n=t.participantUpdates,i=void 0===n?{}:n,a=(0,ve.a)(i,"channel.channelId"),o=Ge({},i),a||delete o.channel,s={joinHref:r,participantUpdates:o},e.abrupt("return",this.doPost({url:"/api/v2/conversations/joinHref",methodName:"joinConversationByInvitation",data:s,logRequest:!0,logResponse:!0}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"updateConversation",value:(N=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.partnerId,n=t.conversationId,i=t.conversationData,a=t.requestContext,n){e.next=3;break}throw new Error("conversationId is required for updateConversation");case 3:return e.abrupt("return",this.doPatch({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/update"),methodName:"updateConversation",data:i,logRequest:!0,logResponse:!0,requestContext:a}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"closeConversation",value:(j=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.partnerId,n=t.conversationId,i=t.participantId,a=t.closeReason,o=t.closedBy,s=void 0===o?"VAC":o,u=t.requestContext,n){e.next=3;break}throw new Error("conversationId is required for closeConversation");case 3:if(i){e.next=5;break}throw new Error("participantId is required for closeConversation");case 5:if(a){e.next=7;break}throw new Error("closeReason is required for closeConversation");case 7:return e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/close"),methodName:"closeConversation",data:{participantId:i,closeReason:a,serviceId:s},logRequest:!0,logResponse:!0,requestContext:u}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"inviteParticipant",value:(P=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.participantData,a=t.requestContext,e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/invite"),methodName:"inviteParticipant",data:i,logRequest:!0,logResponse:!0,requestContext:a}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"getParticipants",value:(k=Be(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.requestContext,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/participants"),methodName:"getParticipants",logResponse:!0,requestContext:i}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"getParticipantsAndMessages",value:(_=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.participantId,a=t.batchLimit,o=t.sentAfter,s=t.requestContext,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/participantsAndMessages"),methodName:"getParticipantsAndMessages",queryParams:{participantId:i,batchLimit:a,sentAfter:o},logResponse:!0,requestContext:s}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"getObserveConversationData",value:(T=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.batchLimit,a=t.vacId,o=t.requestContext,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/observeConversationData"),methodName:"getObserveConversationData",queryParams:{vacId:a,batchLimit:i},logResponse:!0,requestContext:o}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"getParticipantList",value:(R=Be(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.requestContext,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/participantList"),methodName:"getParticipantList",logResponse:!0,requestContext:i}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"getUserProfileDatabag",value:(S=Be(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doGet({url:"/api/v2/egSession/userProfileDatabag",methodName:"getUserProfileDatabag",logResponse:!0}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"getChannelConfig",value:(x=Be(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doGet({url:"/api/v2/configurations/?channelOriginId=".concat(this.channelOriginId),methodName:"getChannelConfig",logResponse:!0}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"getAggregateConfig",value:(O=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.channelOriginId,n=t.shouldGetChannelConfig,i=void 0===n?"true":n,a=t.languageId,o=void 0===a?"en_US":a,s=t.shouldGetWebsocketCredentials,u=void 0===s?"false":s,c=t.credentialParams,r){e.next=3;break}throw new Error("channelOriginId cannot be null");case 3:return e.abrupt("return",this.doGet({url:"/api/v2/channelorigins/".concat(r,"/aggregateConfig"),methodName:"getAggregateConfig",logResponse:!0,queryParams:Ge({languageId:o,version:Ue.a,shouldGetChannelConfig:i,shouldGetWebsocketCredentials:u},c)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"getAppConfig",value:(C=Be(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doGet({url:"/public/v2/appConfig",methodName:"getAppConfig",logResponse:!0,isPublicRoute:!0,queryParams:{channelOriginId:t,version:Ue.a,partnerId:this.partnerId}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"getResourceConfig",value:(A=Be(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("The legacyChannelOriginId argument is required")));case 2:return e.abrupt("return",this.doGet({url:"/api/v2/channelorigins/".concat(t,"/getResourceConfig"),methodName:"getResourceConfig",logRequest:!0,logResponse:!0}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"getConfig",value:(I=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.vacResourceIdOrAltId,n=t.partnerResourceIdOrAltId,i=t.businessSegmentResourceIdOrAltId,a=t.channelOriginResourceIdOrAltId,r){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("The vacResourceIdOrAltId argument is required")));case 3:return o=et({vacResourceIdOrAltId:r,partnerResourceIdOrAltId:n,businessSegmentResourceIdOrAltId:i,channelOriginResourceIdOrAltId:a}),e.abrupt("return",this.doGet({url:o,methodName:"getConfig",logRequest:!0,logResponse:!0}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"leaveConversation",value:(w=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.partnerId,n=t.conversationId,i=t.participantId,a=t.channelId,o=t.requestContext,n){e.next=3;break}throw new Error("conversationId is required for leaveConversation");case 3:if(i){e.next=5;break}throw new Error("participantId is required for leaveConversation");case 5:if(a){e.next=7;break}throw new Error("channelId is required for leaveConversation");case 7:return e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/leave"),methodName:"leaveConversation",data:{participantId:i,channelId:a},logRequest:!0,logResponse:!0,requestContext:o}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"sendMessage",value:(E=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u,c,l,f,p,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},r=t.partnerId,n=t.conversationId,i=t.participantId,a=t.channelId,o=t.uniqueMessageId,s=t.data,u=t.requestContext,c=t.destination,l=t.messageProperties,f=t.isExternalIBM,n){e.next=3;break}throw new Error("conversationId is required for sendMessage");case 3:if(i){e.next=5;break}throw new Error("participantId is required for sendMessage");case 5:if(o){e.next=7;break}throw new Error("uniqueMessageId is required for sendMessage");case 7:return s&&(p=s.attachments,Array.isArray(p)&&p.length>0&&p.forEach((function(e){var t=e.payload&&JSON.stringify(e.payload);e.payload=t||void 0}))),d={participantId:i,channelId:a,referenceMessageId:o,data:s,isExternalIBM:f},c&&(d.destination=c),l&&(d.messageProperties=l),u&&(d.meta={currentPageUrl:u.requestOrigin,currentPageTitle:u.pageName}),e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/message"),methodName:"sendMessage",data:d,logRequest:!0,logResponse:!0,allowRetry:!1,requestContext:u}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"getPastMessages",value:(b=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},r=t.criteria,n=void 0===r?{}:r,i=t.headers,a=void 0===i?{}:i,o=n.partnerId,s=n.vacId,u=n.batchLimit,c=n.historyConversationIdsToBeFetched,l=a.requestId,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(o,"/historyconversations"),methodName:"getPastMessages",queryParams:{vacId:s,batchLimit:u,cids:c},headers:{"request-id":l},logResponse:!0}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getPastMessagesByAuthTokenId",value:(m=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u,c,l,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},r=t.criteria,n=void 0===r?{}:r,i=t.headers,a=void 0===i?{}:i,o=n.partnerId,s=n.vacId,u=n.batchLimit,c=n.pageSize,l=n.pageOffset,f=a.requestId,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(o,"/historyConversationsByAuthTokenId"),methodName:"getPastMessagesByAuthTokenId",queryParams:{vacId:s,batchLimit:u,pageSize:c,pageOffset:l},headers:{"request-id":f},logResponse:!0}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"sendEvent",value:(g=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.partnerId,n=t.conversationId,i=t.data,a=t.requestContext,n){e.next=3;break}throw new Error("conversationId is required for sendEvent");case 3:return o={participantId:i.participantId,channelId:i.channelId||He,eventType:i.eventType,content:i.content},e.abrupt("return",this.doPost({url:"/api/v3/partners/".concat(r,"/conversations/").concat(n,"/event"),methodName:"sendEvent",data:o,logRequest:!0,logResponse:!0,requestContext:a}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getWebsocketCredentials",value:(v=Be(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"v3":"v2",e.abrupt("return",this.doGet({url:"/api/".concat(n,"/partners/").concat(this.partnerId,"/websocket/credentials"),methodName:"getWebsocketCredentials",queryParams:r}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"addParticipant",value:(h=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r=t.partnerId,n=t.conversationId,i=t.participantData,e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/addParticipant"),methodName:"addParticipant",data:i,logRequest:!0,logResponse:!0}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"publishHeartbeat",value:(d=Be(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doPost({url:"api/v2/heartbeat",methodName:"publishHeartbeat",data:t,logRequest:!0,logResponse:!0}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"updateParticipant",value:(p=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.conversationId,i=t.participantId,a=t.participantData,o=t.requestContext,e.abrupt("return",this.doPatch({url:"/api/v2/partners/".concat(r,"/conversations/").concat(n,"/participants/").concat(i,"/update"),methodName:"updateParticipant",data:a,logRequest:!0,logResponse:!0,requestContext:o}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getInitializationContent",value:(f=Be(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.languageId,e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(r,"/initializationContent"),methodName:"getInitializationContent",queryParams:{languageId:n},logRequest:!0,logResponse:!0}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"submitMessageFeedback",value:(l=Be(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.data,i=t.requestContext,e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/messageFeedbacks"),methodName:"submitMessageFeedback",data:n,logRequest:!0,logResponse:!0,requestContext:i}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getSuggestions",value:(c=Be(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,n=t.requestContext,i=t.headers,e.abrupt("return",this.doGet({url:"/api/v2/suggestions",methodName:"getSuggestions",queryParams:Ge(Ge({},r),{},{channelOriginId:this.legacyChannelOriginId}),logRequest:!0,logResponse:!0,requestContext:n,headers:i}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getSupplierConversations",value:(u=Be(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.partnerId,n=t.data,i=t.requestContext,e.abrupt("return",this.doGet({url:"/api/v3/partners/".concat(r,"/supplierConversations"),methodName:"getSupplierConversations",headers:{"channel-origin-id":this.legacyChannelOriginId},queryParams:Ge({},n),logRequest:!0,logResponse:!0,requestContext:i}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"retrieveBooking",value:(s=Be(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,n=t.requestContext,e.abrupt("return",this.doGet({url:"/api/v3/retrieveBooking",methodName:"retrieveBooking",queryParams:Ge({},r),logRequest:!0,logResponse:!0,requestContext:n}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"downloadAttachment",value:(o=Be(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.partnerId,n=t.conversationInfo,i=(n=void 0===n?{}:n).conversationId,a=t.attachmentId,o=t.requestContext,s=t.source,i){e.next=5;break}throw new Error("conversationId is required for downloadAttachment");case 5:if(r){e.next=7;break}throw new Error("partnerId is required for downloadAttachment");case 7:if(a){e.next=9;break}throw new Error("attachmentId is required for downloadAttachment");case 9:return e.abrupt("return",this.doGet({url:"/api/v2/partners/".concat(r,"/conversations/").concat(i,"/files/").concat(a,"/download?source=").concat(s),methodName:"downloadAttachment",requestContext:o}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getServerTime",value:(a=Be(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doGet({url:"/public/getServerTime",methodName:"getServerTime",logResponse:!0}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"uploadAttachment",value:(i=Be(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.partnerId,n=t.file,(i=t.requestContext)&&i.conversationId){e.next=3;break}throw new Error("conversationId is required for uploadAttachment");case 3:if(r){e.next=5;break}throw new Error("partnerId is required for uploadAttachment");case 5:return(a=new FormData).append("upload",n,n.name),e.abrupt("return",this.doPost({url:"/api/v2/partners/".concat(r,"/conversations/").concat(i.conversationId,"/files/upload"),methodName:"uploadAttachment",data:a,timeout:$e.attachmentService.timeout,requestContext:i,headers:{"content-type":Me.MULTIPART_FORM_DATA}}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}],r&&Ze(t.prototype,r),n&&Ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),B}(De),rt=tt,nt=Object.freeze(["false","off","no"]);var it=l(42);function at(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}var ot=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,l.e(104).then(l.bind(l,1678));case 3:return r=e.sent,n=r.default,e.abrupt("return",n);case 6:return e.next=8,l.e(106).then(l.bind(l,1684));case 8:return i=e.sent,a=i.default,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){at(a,n,i,o,s,"next",e)}function s(e){at(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),st=function(e,t,r){if(e&&"string"==typeof e&&void 0!==t)"string"==typeof t?r.setItem(e.trim(),t):r.setItem(e.trim(),JSON.stringify(t));else{var n={message:"InvalidFormat: Unable to format key/value key:[".concat(e,"],value:[").concat(t,"]")};y.a.log(H.b.ERROR,n)}},ut=function(e,t){if(e&&"string"==typeof e)return function(e){try{return JSON.parse(e)}catch(t){return e}}(t.getItem(e.trim()));var r={message:"InvalidFormat: Unable to format key:[".concat(e,"] or find value corresponding it")};return y.a.log(H.b.ERROR,r),null},ct=function(){try{if(!sessionStorage||!localStorage)throw new Error("session/localStorage unavailable.");var e={local:{set:function(e,t){return st(e,t,localStorage)},get:function(e){return ut(e,localStorage)}},session:{set:function(e,t){return st(e,t,sessionStorage)},get:function(e){return ut(e,sessionStorage)},remove:function(e){return function(e,t){if(e&&"string"==typeof e&&t.getItem(e.trim()))t.removeItem(e.trim());else{var r={message:"InvalidFormat: Unable to format key:[".concat(e,"] or find value corresponding it")};y.a.log(H.b.ERROR,r)}}(e,sessionStorage)}}};return e}catch(e){var t={message:"Error accessing local/sessionStorage. This is likely because the browser blocked access to third party storage. Error - ".concat(e.message)};y.a.log(H.b.ERROR,t);var r=function(){return null};return{local:{set:r,get:r},session:{set:r,get:r,remove:r}}}}(),lt=l(579);function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function gt(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){vt(a,n,i,o,s,"next",e)}function s(e){vt(a,n,i,o,s,"throw",e)}o(void 0)}))}}var yt=3e5,mt=(0,Le.a)(),bt={};function Et(e){return wt.apply(this,arguments)}function wt(){return(wt=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bt.WebsocketProxy){e.next=4;break}return e.next=3,ot(t);case 3:bt.WebsocketProxy=e.sent;case 4:return e.abrupt("return",bt);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=function(){function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ht(this,"disconnect",gt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getSignalingLayerProxy();case 2:e.sent.disconnect();case 4:case"end":return e.stop()}}),e)})))),ht(this,"generateAblyClientId",(function(){var e=(0,lt.c)(i.authToken.token);return i.ablyClientId=(0,lt.a)(e),i.ablyClientId})),ht(this,"getCredentialsParam",(function(){var e={clientId:i.generateAblyClientId()},t=(0,lt.b)();return pt(pt({},e),t)})),this.vacId=n||_e.c,this.authTokenExpiryTimerId=null,this.databagExpiryTimerId=null,this.isEgSessionEnabled=!1,this.isCGPEnabledForWeb=!1,this.isAblyEnabled=!1,this.vacServiceProxy=new rt({channelOriginId:t,origin:r}),this.setupAuthTokenExpirationMonitor=this.setupAuthTokenExpirationMonitor.bind(this),this.clearAuthTokenExpirationMonitor=this.clearAuthTokenExpirationMonitor.bind(this),this.startHeartbeat=this.startHeartbeat.bind(this),this.publishHeartbeat=this.publishHeartbeat.bind(this),this.stopHeartbeat=this.stopHeartbeat.bind(this),this.handleConfigUpdated=this.handleConfigUpdated.bind(this),this.handleAuthTokenError=this.handleAuthTokenError.bind(this),this.getWebsocketCredentials=this.getWebsocketCredentials.bind(this),this.getServerTime=this.getServerTime.bind(this),g.a.on(_e.a.VAC_ConfigUpdated,this.handleConfigUpdated),g.a.on(_e.a.VAC_AuthTokenError,this.handleAuthTokenError)}var t,r,n,i,a,s,u,c,l,f,p,d,h,v,y,m,b,E,w,I,A,C,O,x,S,R,_,k,P,j,N,D,L,U,F,H,M,V,z,B,q,G,W;return t=e,r=[{key:"destroy",value:(W=gt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stopHeartbeat(),this.clearAuthTokenExpirationMonitor(),this.clearDatabagExpirationMonitor(),!this.signalingLayerProxy){e.next=6;break}return e.next=6,this.disconnect();case 6:case"end":return e.stop()}}),e,this)}))),function(){return W.apply(this,arguments)})},{key:"setAuthToken",value:function(e){this.authToken=e,this.isHeartbeatEnabled=(0,o.a)(e.token),this.vacServiceProxy.setAuthToken(e),this.isEgSessionEnabled?this.setupDatabagExpirationMonitor():this.setupAuthTokenExpirationMonitor()}},{key:"getSignalingLayerProxy",value:(G=gt(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signalingLayerProxy){e.next=7;break}return t=this.isAblyEnabled,e.next=4,Et(t);case 4:r=e.sent,n=r.WebsocketProxy,this.signalingLayerProxy=new n(this.authToken,this.getWebsocketCredentials,this.isAblyCustomLoggingInVACClientEnabled,this.ablyClientId,this.shouldUseHttpProtocolForAblyConnection,this.userAgentsUsingWsProtocolForAblyConnection);case 7:return e.abrupt("return",this.signalingLayerProxy);case 8:case"end":return e.stop()}}),e,this)}))),function(){return G.apply(this,arguments)})},{key:"clearAuthTokenExpirationMonitor",value:function(){this.authTokenExpiryTimerId&&(clearTimeout(this.authTokenExpiryTimerId),this.authTokenExpiryTimerId=null)}},{key:"clearDatabagExpirationMonitor",value:function(){this.databagExpiryTimerId&&(clearTimeout(this.databagExpiryTimerId),this.databagExpiryTimerId=null)}},{key:"setupDatabagExpirationMonitor",value:function(){var e=this,t=this.authToken.expiration;if(t){this.clearDatabagExpirationMonitor();var r=Math.max((0,it.f)(t,yt),0);this.databagExpiryTimerId=setTimeout(gt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleDatabagUpdated();case 2:case"end":return t.stop()}}),t)}))),r)}}},{key:"setupAuthTokenExpirationMonitor",value:function(){this.clearAuthTokenExpirationMonitor();var e=this.authToken.expiration,t=(0,it.f)(e,yt),r={data:{type:_e.a.VAC_AuthTokenExpirationWarning,vacId:_e.c}};t>0?this.authTokenExpiryTimerId=setTimeout((function(){g.a.publish(r)}),t):g.a.publish(r)}},{key:"setBusinessSegmentId",value:function(e){this.vacServiceProxy.setBusinessSegmentId(e)}},{key:"setChannelOriginId",value:function(e){this.vacServiceProxy.setChannelOriginId(e)}},{key:"setPartnerId",value:function(e){this.partnerId=e,this.vacServiceProxy.setPartnerId(e)}},{key:"setIsEgSessionEnabled",value:function(e){this.isEgSessionEnabled=e,this.vacServiceProxy.setIsEgSessionEnabled(e)}},{key:"setIsCGPEnabledForWeb",value:function(e){this.isCGPEnabledForWeb=e,this.vacServiceProxy.setIsCGPEnabledForWeb(e)}},{key:"setEgSessionDatabag",value:function(e){this.vacServiceProxy.setEgSessionDatabag(e)}},{key:"setIsAblyEnabled",value:function(e){this.isAblyEnabled=function(e){if("string"==typeof e&&e.length>0){var t=e.toLowerCase();return!nt.includes(t)}return Boolean(e)}(e)}},{key:"setIsAblyCustomLoggingInVACClientEnabled",value:function(e){this.isAblyCustomLoggingInVACClientEnabled=e}},{key:"setShouldUseHttpProtocolForAblyConnection",value:function(e){this.shouldUseHttpProtocolForAblyConnection=e}},{key:"setUserAgentsUsingWsProtocolForAblyConnection",value:function(e){this.userAgentsUsingWsProtocolForAblyConnection=e}},{key:"createConversation",value:(q=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.createConversation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return q.apply(this,arguments)})},{key:"joinConversation",value:(B=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.joinConversation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)})},{key:"joinConversationByInvitation",value:(z=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.joinConversationByInvitation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return z.apply(this,arguments)})},{key:"updateConversation",value:(V=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.updateConversation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return V.apply(this,arguments)})},{key:"closeConversation",value:(M=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.closeConversation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)})},{key:"retrieveBooking",value:(H=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.retrieveBooking(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return H.apply(this,arguments)})},{key:"getSupplierConversations",value:(F=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getSupplierConversations(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"inviteParticipant",value:(U=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.inviteParticipant(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"getParticipantList",value:(L=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getParticipantList(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return L.apply(this,arguments)})},{key:"getParticipants",value:(D=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getParticipants(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"getParticipantsAndMessages",value:(N=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getParticipantsAndMessages(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"getObserveConversationData",value:(j=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getObserveConversationData(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"getPastMessages",value:(P=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getPastMessages(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"getPastMessagesByAuthTokenId",value:(k=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getPastMessagesByAuthTokenId(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"getUserProfileDatabag",value:(_=gt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getUserProfileDatabag());case 1:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"leaveConversation",value:(R=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.leaveConversation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"sendMessage",value:(S=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.sendMessage(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"sendEvent",value:(x=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.sendEvent(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"addParticipant",value:(O=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.addParticipant(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"getAggregateConfig",value:(C=gt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vacServiceProxy.getAggregateConfig(t);case 2:return null!=(r=e.sent)&&r.websocketCredentials&&g.a.publish({data:{type:_e.a.VAC_Diagnostics,payload:{key:_e.b.WEBSOCKET_CREDENTIALS,data:null==r?void 0:r.websocketCredentials},vacId:_e.c}}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"getServerTime",value:(A=gt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vacServiceProxy.getServerTime();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getChannelConfig",value:(I=gt(regeneratorRuntime.mark((function e(){var t,r,n,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Date,!(r=ct.local.get(this.vacServiceProxy.channelOriginId))){e.next=6;break}if(n=new Date(r.expiration),!re(t,n)){e.next=6;break}return e.abrupt("return",r.data);case 6:return(i=this.vacServiceProxy.getChannelConfig()).then((function(e){var r={data:e,expiration:ee(t,15)};ct.local.set(a.vacServiceProxy.channelOriginId,r)})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"getAppConfig",value:(w=gt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vacServiceProxy.getAppConfig(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"getResourceConfig",value:(E=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.resolve({capabilities:void 0,vacConfig:void 0,vacInitConfig:void 0}));case 2:return e.abrupt("return",this.vacServiceProxy.getResourceConfig(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"getConfig",value:(b=gt(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.vacResourceIdOrAltId,n=t.partnerResourceIdOrAltId,i=t.businessSegmentGuid,a=t.channelOriginResourceIdOrAltId,r){e.next=3;break}return e.abrupt("return",Promise.resolve({initConfig:void 0,vacConfig:void 0}));case 3:return e.abrupt("return",this.vacServiceProxy.getConfig({vacResourceIdOrAltId:r,partnerResourceIdOrAltId:n,businessSegmentGuid:i,channelOriginResourceIdOrAltId:a}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getWebsocketCredentials",value:(m=gt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.addPerfEvent(T,this.vacId),e.next=3,this.vacServiceProxy.getWebsocketCredentials(this.isAblyEnabled,t);case 3:return r=e.sent,g.a.publish({data:{type:_e.a.VAC_Diagnostics,payload:{key:_e.b.WEBSOCKET_CREDENTIALS,data:r},vacId:_e.c}}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"uploadAttachment",value:(y=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.uploadAttachment(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"downloadAttachment",value:(v=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.downloadAttachment(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"on",value:function(e,t){return(0,ne.subscribe)(e,t)}},{key:"connect",value:(h=gt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSignalingLayerProxy();case 2:return r=e.sent,e.abrupt("return",r.connect(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"reconnect",value:(d=gt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSignalingLayerProxy();case 2:e.sent.reconnect();case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"isConnected",value:function(){var e;return(null===(e=this.signalingLayerProxy)||void 0===e?void 0:e.isConnected())||!1}},{key:"startHeartbeat",value:function(e){if(!this.heartbeatTimer&&this.isHeartbeatEnabled&&!this.isEgSessionEnabled){var t;this.publishHeartbeat(e);var r=(null===(t=mt.heartbeat)||void 0===t?void 0:t.interval)||6e4;this.heartbeatTimer=setInterval(this.publishHeartbeat,r,e)}}},{key:"publishHeartbeat",value:(p=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,it.h)(this.authToken.expiration)?(this.isHeartbeatEnabled=!1,this.stopHeartbeat()):this.vacServiceProxy.publishHeartbeat(pt(pt({},t),{},{partnerId:this.partnerId}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"stopHeartbeat",value:function(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}},{key:"handleDatabagUpdated",value:(f=gt(regeneratorRuntime.mark((function e(){var t,r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserProfileDatabag();case 2:return t=e.sent,r=t.sessionDataBag,this.setEgSessionDatabag(r),(n=(0,o.c)(r)).token=this.authToken.token,n.sessionId=this.authToken.sessionId,e.next=10,this.updateTokenChange(n,(function(){return i.setupDatabagExpirationMonitor()}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"handleConfigUpdated",value:(l=gt(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=(0,ve.a)(t,"configuration.authToken"))){e.next=4;break}return e.next=4,this.updateTokenChange(r,(function(){return n.setupAuthTokenExpirationMonitor()}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"updateTokenChange",value:(c=gt(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSignalingLayerProxy();case 2:n=e.sent,this.vacServiceProxy.setAuthToken(t),n.setAuthToken(t),this.authToken=t,this.isHeartbeatEnabled=(0,o.a)(t.token),r();case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"handleAuthTokenError",value:function(){this.isHeartbeatEnabled=!1,this.stopHeartbeat()}},{key:"updateParticipant",value:(u=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.updateParticipant(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getSuggestions",value:(s=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getSuggestions(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getInitializationContent",value:(a=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.getInitializationContent(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"submitMessageFeedback",value:(i=gt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.vacServiceProxy.submitMessageFeedback(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}],r&&dt(t.prototype,r),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),At=It;function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var St=(0,Le.a)(),Rt="lazyInitialize",Tt="embedded";function _t(e,t,r,n){y.b.addToDefaultLogObject({app:St.appName,env:St.environment,flavor:St.environment,commitHash:Ue.b,version:Ue.a,channelOriginId:e,currentPage:t,launchPoint:r,pageName:n,userAgent:(0,it.g)(),message:"LOG MESSAGE MISSING",logType:H.a.js})}function kt(e){var t=e.sessionId,r=e.customerId,n=e.tokenPartnerId;y.b.addToDefaultLogObject(Ot(Ot({sessionId:t},r&&{customerId:r}),n&&{tokenPartnerId:n}))}function Pt(e,t){y.b.addToDefaultLogObject(xt({},e,t))}var jt=l(95),Nt=l(154),Dt=l.n(Nt),Lt=l(448),Ut=l.n(Lt),Ft=l(645),Ht="VAC_SET_ID",Mt="VAC_FAB_PRESENTED",Vt="VAC_INITIALIZE",zt="VAC_INITIALIZE_CHECKPOINT",Bt="VAC_COMPLETE_INITIALIZATION",qt="VAC_SET_CONTEXT",Gt="VAC_EVENTS_REGISTERED",Wt="VAC_EVENTS_REGISTERED_FAILED",Kt="VAC_UPDATE_AUTH_TOKEN",Zt="VAC_UPDATE_CONFIG",Yt="VAC_OPEN_CHAT_WIDGET",Jt="VAC_CREATE_CONVERSATION",Qt="VAC_UPDATE_CONVERSATION",Xt="VAC_WEBSOCKET_EVENT",$t="VAC_LEAVE_CONVERSATION",er="VAC_SERVICE_REQUEST",tr="VAC_SERVICE_RESPONSE",rr="VAC_SEND_MESSAGE",nr="VAC_CLOSE_CONVERSATION",ir="VAC_GET_APP_STATE",ar="VAC_SET_FRAME_ACTIVE",or="VAC_AUTH_TOKEN_ERROR",sr="VAC_CLOSE_CHAT_WIDGET",ur="VAC_INITIATE_WIDGET_TOGGLE",cr="VAC_WIDGET_TOGGLE_CHANGED",lr="LOG",fr="LOG_PERF",pr="GET_SUGGESTIONS",dr="GET_SUGGESTIONS_VIA_PROXY",hr="CREATE_CONVERSATION",vr="UPDATE_CONVERSATION",gr="JOIN_CONVERSATION",yr="JOIN_CONVERSATION_BY_INVITATION",mr="CLOSE_CONVERSATION",br="LEAVE_CONVERSATION",Er="SEND_MESSAGE",wr="SEND_EVENT",Ir="UPDATE_INITIATOR",Ar="UPLOAD_ATTACHMENT",Cr="DOWNLOAD_ATTACHMENT",Or="GET_PAST_MESSAGES",xr="GET_PAST_MESSAGES_BY_AUTH_TOKEN_ID",Sr="GET_PARTICIPANTS",Rr="GET_PARTICIPANTS_AND_MESSAGES",Tr="GET_OBSERVE_CONVERSATION_DATA",_r="START_HEARTBEAT",kr="STOP_HEARTBEAT",Pr="RECONNECT",jr="UPDATE_PARTICIPANT",Nr="SUBMIT_MESSAGE_FEEDBACK",Dr="GET_SUPPLIER_CONVERSATIONS",Lr="RETRIEVE_BOOKING",Ur="IS_PERF_SCOPED_EVENT_SET";function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){Mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var zr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vacId=null,this.getSupplierConversations=this.getSupplierConversations.bind(this),this.getSuggestions=this.getSuggestions.bind(this),this.getSuggestionsViaProxy=this.getSuggestionsViaProxy.bind(this),this.createConversation=this.createConversation.bind(this),this.joinConversation=this.joinConversation.bind(this),this.joinConversationByInvitation=this.joinConversationByInvitation.bind(this),this.updateConversation=this.updateConversation.bind(this),this.closeConversation=this.closeConversation.bind(this),this.leaveConversation=this.leaveConversation.bind(this),this.sendEvent=this.sendEvent.bind(this),this.sendMessage=this.sendMessage.bind(this),this.updateInitiator=this.updateInitiator.bind(this),this.uploadAttachment=this.uploadAttachment.bind(this),this.downloadAttachment=this.downloadAttachment.bind(this),this.getPastMessages=this.getPastMessages.bind(this),this.getPastMessagesByAuthTokenId=this.getPastMessagesByAuthTokenId.bind(this),this.reconnect=this.reconnect.bind(this),this.startHeartbeat=this.startHeartbeat.bind(this),this.stopHeartbeat=this.stopHeartbeat.bind(this),this.log=this.log.bind(this),this.logPerf=this.logPerf.bind(this),this.isPerfScopedEventSet=this.isPerfScopedEventSet.bind(this),this.setVacId=this.setVacId.bind(this),this.getParticipants=this.getParticipants.bind(this),this.getParticipantsAndMessages=this.getParticipantsAndMessages.bind(this),this.getObserveConversationData=this.getObserveConversationData.bind(this),this.updateParticipant=this.updateParticipant.bind(this),this.submitMessageFeedback=this.submitMessageFeedback.bind(this),this.retrieveBooking=this.retrieveBooking.bind(this)}var t,r,n;return t=e,r=[{key:"setVacId",value:function(e){this.vacId=e}},{key:"postServiceRequest",value:function(e,t){var r=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.vacId)return Promise.reject(new Error("vacId is required to post messages"));var i=(0,pe.a)();return n?new Promise((function(n,a){var o="message";(0,Ft.a)(window,o,(function t(r){r.data.eventType===tr&&r.data.eventSubType===e&&r.data.eventId===i&&((0,Ft.b)(window,o,t),r.data.error?a(r.data.error):n(r.data.eventData))})),r.postMessage(er,t,e,i)})):(this.postMessage(er,t,e,i),Promise.resolve(!0))}},{key:"postMessage",value:function(e,t,r,n){if(!this.vacId)throw new Error("vacId is required to post messages");if(!e)throw new Error("eventType is required");var i={eventId:n||(0,pe.a)(),eventVacId:this.vacId,eventType:e,eventSubType:r,eventData:t};window.parent.postMessage(i,"*")}},{key:"createConversation",value:function(e){return this.postServiceRequest(hr,e)}},{key:"joinConversation",value:function(e){return this.postServiceRequest(gr,e)}},{key:"joinConversationByInvitation",value:function(e){return this.postServiceRequest(yr,e)}},{key:"updateConversation",value:function(e){return this.postServiceRequest(vr,e)}},{key:"closeConversation",value:function(e){return this.postServiceRequest(mr,e)}},{key:"leaveConversation",value:function(e){return this.postServiceRequest(br,e)}},{key:"sendMessage",value:function(e){return this.postServiceRequest(Er,e)}},{key:"submitMessageFeedback",value:function(e){return this.postServiceRequest(Nr,e)}},{key:"sendEvent",value:function(e){return this.postServiceRequest(wr,e)}},{key:"updateInitiator",value:function(e){return this.postServiceRequest(Ir,e)}},{key:"uploadAttachment",value:function(e){var t=this;return new Promise((function(r,n){var i=e.file,a={name:i.name,type:i.type,lastModified:i.lastModified,lastModifiedDate:i.lastModifiedDate},o=new FileReader;o.onload=function(i){a.buffer=i.target.result;var o=Hr(Hr({},e),{},{file:a});t.postServiceRequest(Ar,o).then(r).catch(n)},o.readAsArrayBuffer(i)}))}},{key:"downloadAttachment",value:function(e){return this.postServiceRequest(Cr,e)}},{key:"getPastMessages",value:function(e){return this.postServiceRequest(Or,e)}},{key:"getPastMessagesByAuthTokenId",value:function(e){return this.postServiceRequest(xr,e)}},{key:"reconnect",value:function(){return this.postServiceRequest(Pr,void 0,!1)}},{key:"startHeartbeat",value:function(e){return this.postServiceRequest(_r,e,!1)}},{key:"stopHeartbeat",value:function(){return this.postServiceRequest(kr,void 0,!1)}},{key:"log",value:function(e,t){return this.postServiceRequest(lr,{level:e,message:t},!1)}},{key:"logPerf",value:function(e){return this.postServiceRequest(fr,e,!1)}},{key:"isPerfScopedEventSet",value:function(e){return this.postServiceRequest(Ur,e,!0)}},{key:"getParticipants",value:function(e){return this.postServiceRequest(Sr,e)}},{key:"getParticipantsAndMessages",value:function(e){return this.postServiceRequest(Rr,e)}},{key:"getObserveConversationData",value:function(e){return this.postServiceRequest(Tr,e)}},{key:"updateParticipant",value:function(e){return this.postServiceRequest(jr,e)}},{key:"getSuggestions",value:function(e){return this.postServiceRequest(pr,e)}},{key:"getSuggestionsViaProxy",value:function(e){return this.postServiceRequest(dr,e)}},{key:"retrieveBooking",value:function(e){return this.postServiceRequest(Lr,e)}},{key:"initializationCheckpoint",value:function(e){this.postMessage(zt,{completeInitialization:e})}},{key:"completeInitialization",value:function(){this.postMessage(Bt)}},{key:"getSupplierConversations",value:function(e){return this.postServiceRequest(Dr,e)}},{key:"initiateVacWidgetToggle",value:function(e,t){this.postMessage(ur,{widgetOpened:e,eventData:t})}},{key:"onWidgetToggleChanged",value:function(e){this.postMessage(cr,{widgetOpened:e})}}],r&&Vr(t.prototype,r),n&&Vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Br=new zr;function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultFields={},this.parentFrameConnector=t,this.addDefaultFields=this.addDefaultFields.bind(this),this.getLogMessage=this.getLogMessage.bind(this),this.trace=this.trace.bind(this),this.debug=this.debug.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this),this.fatal=this.fatal.bind(this)}var t,r,n;return t=e,(r=[{key:"addDefaultFields",value:function(e){this.defaultFields=Gr(Gr({},this.defaultFields),e)}},{key:"getLogMessage",value:function(e){return Gr(Gr({},this.defaultFields),e)}},{key:"trace",value:function(e){this.parentFrameConnector.log(H.b.TRACE,this.getLogMessage(e))}},{key:"debug",value:function(e){this.parentFrameConnector.log(H.b.DEBUG,this.getLogMessage(e))}},{key:"info",value:function(e){this.parentFrameConnector.log(H.b.INFO,this.getLogMessage(e))}},{key:"warn",value:function(e){this.parentFrameConnector.log(H.b.WARN,this.getLogMessage(e))}},{key:"error",value:function(e){this.parentFrameConnector.log(H.b.ERROR,this.getLogMessage(e))}},{key:"fatal",value:function(e){this.parentFrameConnector.log(H.b.FATAL,this.getLogMessage(e))}}])&&Kr(t.prototype,r),n&&Kr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())(Br),l(214);var Zr="en_US";function Yr(e){if(!e)return Zr;var t=e.replace(/-/gi,"_").split("_");return 2===t.length&&t[0]&&t[1]?"".concat(t[0].toLowerCase(),"_").concat(t[1].toUpperCase()):Zr}function Jr(e,t,r){var n=a()(t,["localizationOverrides",r]),i={businessName:"header.businessName",introductionText:"header.introductionText",chatInputLabel:"communication.chat.footer.customer.textAreaLabel"},o=Ut()(t,i),s=Ut()(n,i);return Dt()({},e,o,s)}var Qr=function(e){var t=(0,Le.a)(),r=t&&t.contentUrl.replace("{{APP_VERSION}}",Ue.a);return"".concat(r,"/").concat(e,".js")},Xr=function(e){return t=function(t,r){var n,i=window.document.createElement("script");i.rel="preload",i.type="text/javascript",i.src=e,(0,Ft.a)(i,"load",t),(0,Ft.a)(i,"error",r),n=i,window.document.head.appendChild(n)},r=3,new Promise((function(e,n){var i=0,a=function(t){e(t)};t(a,(function e(o){i>=r?n(o):(i+=1,t(a,e))}))}));var t,r},$r=l(24),en=l.n($r);function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nn(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function an(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){nn(a,n,i,o,s,"next",e)}function s(e){nn(a,n,i,o,s,"throw",e)}o(void 0)}))}}var on=function(){var e=an(regeneratorRuntime.mark((function e(t){var r,n,i,o,s,u,c,l,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.split("_"),n=tn(r,1),i=n[0],o=Qr(i),s="VAC_LOCALIZED_DATA_".concat(i),e.next=5,Xr(o).catch(an(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.log(H.b.ERROR,{errorCode:"fetchContent",message:"Failed to initialize locale content.Request-url:".concat(o)}),o=Qr("en"),s="VAC_LOCALIZED_DATA_en",e.next=5,Xr(o).catch((function(){y.a.log(H.b.ERROR,{errorCode:"fetchContent",message:"Failed to initialize locale content fallback.Request-url:".concat(o)})}));case 5:case"end":return e.stop()}}),e)}))));case 5:if(u=window[s],c=a()(u,["en"],{}),l=a()(u,["en_US"],{}),f=a()(u,[i],{}),p=a()(u,[t],{}),d=Dt()({},c,l,f,p),!en()(d)){e.next=13;break}throw new Error("Failed to initialize locale content. Request-url for languageCode:/".concat(i,".js"));case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=l(656),un=l(639),cn=l.n(un),ln={CHAT_WIDGET_OPEN:"CHAT_WIDGET_OPEN",CHAT_UNAUTHORIZATION_ID:"CHAT_UNAUTHORIZATION_ID"},fn=l(439),pn=l.n(fn),dn={CHAT_WIDGET_OPEN:"CHAT_WIDGET_OPEN"},hn=l(580),vn={WIDTH_BREAK_POINT_FOR_FULL_SIZE:575};function gn(e,t){t&&(t.style||(t.style={}),t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"))}var yn=l(460);var mn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(arguments.length<=2)throw new SyntaxError("Expected number of arguments should be at least 2");if("number"!=typeof e||"number"!=typeof t||"number"!=typeof r)throw new TypeError("Expected all arguments to be numbers");if(r<=0)throw new TypeError("Expected the spread to be a positive number");var n=Math.abs(e-t);return n<=r};function bn(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function En(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){bn(a,n,i,o,s,"next",e)}function s(e){bn(a,n,i,o,s,"throw",e)}o(void 0)}))}}var wn=(new Te).withAxiosOptions({timeout:3e3}).withWrapperOptions({isResponseLoggingEnabled:!0}).build();function In(e){return An.apply(this,arguments)}function An(){return(An=En(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.requestUrl,n=t.requestContext,i=t.headers,e.abrupt("return",wn.request({method:"get",url:r,methodName:"fetchSuggestions",logResponse:!0,requestContext:n,headers:i}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cn=(0,Le.a)();function On(e){return e&&e.glassbox&&e.glassbox.srcUrl&&Cn.glassbox&&Cn.glassbox.whitelist&&Cn.glassbox.whitelist.some((function(t){return 0===e.glassbox.srcUrl.indexOf(t)}))}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return!1;try{var t=decodeURIComponent(e),r=t&&t.split("?"),n=xn(r,2),i=n[1],a=i&&i.split("&")||[];return-1!==a.indexOf("fromVa=true")}catch(t){var o={message:"Unable to decodeURIComponent for the url:[".concat(e,"] with following error:").concat(t.message)};y.a.log(H.b.ERROR,o)}return!1}var Tn=(0,Le.a)(),_n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?Tn&&Tn.fabIntroIframeUrl:Tn&&Tn.iframeUrl,n=r.replace("{{APP_VERSION}}",Ue.a),i="",a="",o="";On(e)&&e.glassbox.cookie&&(i="?".concat(e.glassbox.cookie)),a=n+i;try{o=window.parent.location.href}catch(e){}if(Rn(o)){var s=a.indexOf("?")>=0?"&":"?";a+="".concat(s,"fromVa=true")}return a},kn="FAB_INTRO_CLICKED",Pn="FAB_INTRO_CLOSE_CLICKED",jn="FAB_INTRO_READY",Nn="FAB_INTRO_SET_IFRAME_SIZE",Dn="FAB_INTRO_EVENT",Ln="FAB_INTRO_FRAME";function Un(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Fn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Un(a,n,i,o,s,"next",e)}function s(e){Un(a,n,i,o,s,"throw",e)}o(void 0)}))}}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){zn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bn="**investigate-timeout-err-11-**",qn=(0,Le.a)(),Gn="CHAT",Wn="FAB",Kn=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zn(this,"removeFabIntroIFrame",(function(){n.fabIntroIframe&&(n.fabIntroIframe.remove(),n.fabIntroIframe=null)})),zn(this,"isVacIFrameInView",(function(){var e;return Array.from(null==n||null===(e=n.vacWrapperElement)||void 0===e?void 0:e.classList).includes("vac_iframes_wrapper_slide-in")})),zn(this,"updateFabIntroStatus",(function(){if(n.fabIntroIframe){var e,t,r={eventType:Yt};null===(e=n.fabIntroIframe)||void 0===e||null===(t=e.contentWindow)||void 0===t||t.postMessage(r,n.fabIntroTargetOrigin),n.unloadFabIntro()}})),zn(this,"fabIntroEventHandler",(function(e){if(e.data&&e.data.eventType===Dn&&e.data.eventVacId===Ln){if(e.data.eventData===jn){var t,r;if(n.vacInitializeEvent)null==n||null===(t=n.fabIntroIframe)||void 0===t||null===(r=t.contentWindow)||void 0===r||r.postMessage(n.vacInitializeEvent,n.fabIntroTargetOrigin),n.vacInitializeEvent=null;else n.fabIntroIframeIsReady=!0;return!1}if(e.data.eventData===kn)return J.addPerfEvent(P,n.vacId),g.a.publish({data:{type:_e.a.VAC_FabIntroClicked,payload:{source:_e.e.fabIntro},vacId:n.vacId}}),n.vacFrame.openChatWidget(),!1;if(e.data.eventData===Pn)return g.a.publish({data:{type:_e.a.VAC_FabIntroClosed,vacId:n.vacId}}),n.unloadFabIntro(),!1;if(e.data.eventSubType===Nn){var i=e.data.eventData,a=i.frameMinWidth,o=i.frameMinHeight;return n.fabIntroSize.width=a,n.fabIntroSize.height=o,n.autoOpenWidget||gn(n.fabIntroSize,n.fabIntroIframe),!1}}return!0})),zn(this,"registerIframeMessageHandlers",(function(){(0,Ft.a)(window,"message",n.iframeMessageHandler)})),zn(this,"unregisterIframeMessageHandlers",(function(){(0,Ft.b)(window,"message",n.iframeMessageHandler)})),zn(this,"fabIntroAnimationEnd",(function(e){(0,Ft.b)(null==n?void 0:n.fabIntroIframe,"animationend",n.fabIntroAnimationEnd),"vac_unload-fab-intro"===e.animationName&&n.removeFabIntroIFrame()})),zn(this,"unloadFabIntro",(function(){var e,t;n.fabIntroIframe&&((0,Ft.a)(n.fabIntroIframe,"animationend",n.fabIntroAnimationEnd),null==n||null===(e=n.fabIntroIframe)||void 0===e||null===(t=e.classList)||void 0===t||t.add("vac_fab_intro_unload"))})),zn(this,"widgetOpenedHandler",(function(){n.embedded||n.isChatPaneRendered()||(J.addPerfEvent(P,n.vacId),n.updateFabIntroStatus(),n.animateIn())})),zn(this,"widgetClosedHandler",(function(){n.animateOut()})),zn(this,"isChatPaneRendered",(function(){return n.vacCurrentRenderState===Gn})),zn(this,"isFabRendered",(function(){return n.vacCurrentRenderState===Wn})),zn(this,"toggleMobileView",(function(e){var t,r;e.matches&&n.isFabRendered()?null===(t=n.vacIFrame)||void 0===t||t.classList.add("vac_mobile_fab"):null===(r=n.vacIFrame)||void 0===r||r.classList.remove("vac_mobile_fab")})),zn(this,"registerMediaQueryChange",(function(){n.mediaQueryMobile.onchange=n.toggleMobileView})),zn(this,"unRegisterMediaQueryChange",(function(){n.mediaQueryMobile.onchange=null})),zn(this,"getAdjustedFabSize",(function(e,t){return{width:e+(window.MSInputMethodContext&&document.documentMode?20:10),height:t+10}})),zn(this,"onVacIFrameContentsResize",(function(e){var t,r,i;if(null!=e&&null!==(t=e.data)&&void 0!==t&&t.eventVacId&&null!=e&&null!==(r=e.data)&&void 0!==r&&r.eventId&&null!=e&&null!==(i=e.data)&&void 0!==i&&i.eventData&&e.data.eventVacId===n.vacId){var a=e.data,o=a.eventId,s=a.eventData;if(o&&"setFabIframeSize"===o&&(null==s?void 0:s.frameMinWidth)>0&&(null==s?void 0:s.frameMinHeight)>0){var u=n.getAdjustedFabSize(s.frameMinWidth,s.frameMinHeight),c=u.width,l=u.height,f=n.fabSize.width,p=n.fabSize.height;if(mn(c,f,1)&&mn(l,p,1))return;n.fabSize={width:c,height:l},n.setFabSizeOverrides(),n.autoOpenWidget||gn(n.fabIntroSize,n.fabIntroIframe)}}})),zn(this,"animationEndEventHandler",(function(e){n.unRegisterAnimationEventHandlers(),"vac_wrapper-slide-out"===e.animationName&&n.toggleChat()})),zn(this,"toggleChat",(function(){var e=n.widgetToggleEventData,t=n.isChatPaneRendered()?sr:Yt;n.postMessageToContent({eventType:t,eventData:e}),n.widgetToggleEventData=null})),zn(this,"registerAnimationEventHandlers",(function(){(0,Ft.a)(n.vacWrapperElement,"animationend",n.animationEndEventHandler)})),zn(this,"unRegisterAnimationEventHandlers",(function(){(0,Ft.b)(n.vacWrapperElement,"animationend",n.animationEndEventHandler)})),zn(this,"registerIframeFabResize",(function(){(0,Ft.a)(window,"message",n.onVacIFrameContentsResize)})),zn(this,"unregisterIframeFabResize",(function(){(0,Ft.b)(window,"message",n.onVacIFrameContentsResize)})),zn(this,"animateIn",(function(){var e,t,r,i,a,o,s,u;n.embedded?n.embedWrapperElement():(n.registerAnimationEventHandlers(),null===(e=n.vacWrapperElement)||void 0===e||e.classList.remove("vac_iframes_wrapper_slide-out"),null===(t=n.vacWrapperElement)||void 0===t||t.classList.add("vac_iframes_wrapper_slide-in"),n.isChatPaneRendered()?(n.removeFabIntroIFrame(),n.clearFabSizeOverrides(),null===(r=n.vacIFrame)||void 0===r||r.classList.add("vac_chat_pane"),null===(i=n.vacWrapperElement)||void 0===i||i.classList.remove("vac_fab"),null===(a=n.vacWrapperElement)||void 0===a||a.classList.add("vac_chat")):(null===(o=n.vacIFrame)||void 0===o||o.classList.remove("vac_chat_pane"),n.setFabSizeOverrides(),null===(s=n.vacWrapperElement)||void 0===s||s.classList.add("vac_fab"),null===(u=n.vacWrapperElement)||void 0===u||u.classList.remove("vac_chat")))})),zn(this,"animateOut",(function(){var e,t;n.embedded||(n.removeFabIntroIFrame(),n.registerAnimationEventHandlers(),null===(e=n.vacWrapperElement)||void 0===e||e.classList.remove("vac_iframes_wrapper_slide-in"),null===(t=n.vacWrapperElement)||void 0===t||t.classList.add("vac_iframes_wrapper_slide-out"))}));var i=URL||window.URL;this.vacWrapperElement=null,this.vacIFrame=null,this.fabIntroIframe=null,this.targetOrigin=new i(qn.iframeUrl).origin,this.fabIntroTargetOrigin=new i(qn.fabIntroIframeUrl).origin,this.vacId=t,this.isInitialLoad=!0,this.vacFrame=r,this.autoOpenWidget=!1,this.vacCurrentRenderState=Wn,this.animateChatWidgetOpenClose=!0,this.fabSize={width:0,height:0},this.fabIntroSize={width:0,height:0},this.widgetToggleEventData=null,this.mediaQueryMobile=window.matchMedia("(max-width: ".concat(vn.WIDTH_BREAK_POINT_FOR_FULL_SIZE,"px)")),this.widgetOpenedHandler=this.widgetOpenedHandler.bind(this),this.widgetClosedHandler=this.widgetClosedHandler.bind(this),this.onVacIFrameContentsResize=this.onVacIFrameContentsResize.bind(this),this.isChatPaneRendered=this.isChatPaneRendered.bind(this),this.initiateWidgetToggle=this.initiateWidgetToggle.bind(this),this.getAppState=this.getAppState.bind(this),this.handleConfigUpdated=this.handleConfigUpdated.bind(this),this.handleAuthTokenError=this.handleAuthTokenError.bind(this),this.isIframeFullSize=this.isMobileViewSize.bind(this),this.completeInitialization=this.completeInitialization.bind(this),this.activateFrameStyle=this.activateFrameStyle.bind(this),this.waitForInitializeCheckpointEvent=this.waitForInitializeCheckpointEvent.bind(this),this.setIframeActive=this.setIframeActive.bind(this),this.initializeIframe=this.initializeIframe.bind(this),this.postMessageToContent=this.postMessageToContent.bind(this),this.waitForInitializedEvent=this.waitForInitializedEvent.bind(this),this.iframeMessageHandler=this.iframeMessageHandler.bind(this),this.loadIframe=this.loadIframe.bind(this),this.unloadIframe=this.unloadIframe.bind(this),this.embedWrapperElement=this.embedWrapperElement.bind(this),g.a.on(_e.a.VAC_ConfigUpdated,this.handleConfigUpdated),g.a.on(_e.a.VAC_ConfigUpdated,this.handleConfigUpdated,this.vacId),g.a.on(_e.a.VAC_AuthTokenError,this.handleAuthTokenError)}var t,r,n,i,a,o,s,u;return t=e,r=[{key:"loadIframe",value:function(e,t){this.windowResizeTimeoutId=null,this.registerIframeFabResize(),g.a.on(_e.a.VAC_WidgetOpened,this.widgetOpenedHandler,this.vacId),g.a.on(_e.a.VAC_WidgetClosed,this.widgetClosedHandler,this.vacId);var r=e.embedded,n=void 0!==r&&r,i=e.containerElement,a=e.channelConfig;return this.embedded=n,this.facade=t,this.registerIframeMessageHandlers(),this.registerIoTEventHandlers(),this.registerMediaQueryChange(),this.launchIframe(n,i,a)}},{key:"unloadIframe",value:function(){this.unregisterIframeFabResize(),this.unregisterIframeMessageHandlers(),this.unRegisterMediaQueryChange(),this.vacIFrame&&(this.vacIFrame.remove(),this.vacIFrame=null),this.vacWrapperElement&&(this.vacWrapperElement.remove(),this.vacWrapperElement=null),this.removeFabIntroIFrame()}},{key:"setIframeActive",value:function(e){var t,r;this.vacIFrame&&(e?(this.vacIFrame.classList.remove("vac_inactive_iframe"),null===(t=this.fabIntroIframe)||void 0===t||t.classList.remove("vac_inactive_iframe"),this.embedded||this.isVacIFrameInView()||this.animateIn()):(this.vacIFrame.classList.add("vac_inactive_iframe"),null===(r=this.fabIntroIframe)||void 0===r||r.classList.add("vac_inactive_iframe")))}},{key:"initializeIframe",value:function(e,t){var r,n=Mn({},e),i=n.channelConfig;if(null!=i&&i.utilizeLocalStorageForWidgetState){var a,o=null==e||null===(a=e.participant)||void 0===a?void 0:a.id;r=(0,it.d)(o)&&ct.local.get("".concat(dn.CHAT_WIDGET_OPEN,"_").concat(i.partnerGuid,"_").concat(i.businessSegmentGuid))}else r=ct.session.get(ln.CHAT_WIDGET_OPEN);var s=!!(r||n.enableAutoOpenChatWidget||this.embedded);this.autoOpenWidget=s,this.animateChatWidgetOpenClose=n.animateChatWidgetOpenClose,this.isFullScreen=pn()()||this.isMobileViewSize(),n.isFullScreen=this.isFullScreen,this.postMessageToContent({eventType:Vt,eventData:{configs:n,appState:t}});var u=n.frameActive,c=n.lazyInitialize;y.a.log(H.b.INFO,{message:"".concat(Bn,"VAC IframeManager initializeIframe"),vacId:this.vacId,frameActive:u});var l=Math.floor(.9*qn.startFrameTimeout);return c?d(this.waitForInitializeCheckpointEvent(u),l,new Error("ERR_PROMISE_TIMEOUT: waitForInitializeCheckpointEvent timed out in ".concat(l," ms."))):d(this.waitForInitializedEvent(u),l,new Error("ERR_PROMISE_TIMEOUT: waitForInitializedEvent timed out in ".concat(l," ms.")))}},{key:"postMessageToContent",value:function(e){var t,r,n,i;null==this||null===(t=this.vacIFrame)||void 0===t||null===(r=t.contentWindow)||void 0===r||r.postMessage(e,this.targetOrigin),e.eventType===Vt&&(this.fabIntroIframeIsReady?null==this||null===(n=this.fabIntroIframe)||void 0===n||null===(i=n.contentWindow)||void 0===i||i.postMessage(e,this.fabIntroTargetOrigin):this.vacInitializeEvent=e)}},{key:"waitForInitializedEvent",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(r){var n=function n(i){y.a.log(H.b.INFO,{vacId:e.vacId,message:"".concat(Bn,"waitForInitializedEvent Started")}),e.activateFrameStyle(t),g.a.off(_e.a.VAC_Initialized,n,e.vacId),g.a.off(_e.a.VAC_LazyInitializeFailed,n,e.vacId),y.a.log(H.b.INFO,{vacId:e.vacId,message:"".concat(Bn,"waitForInitializedEvent completed with event type: ").concat(i.type)}),r(i.type===_e.a.VAC_Initialized)};g.a.on(_e.a.VAC_Initialized,n,e.vacId),g.a.on(_e.a.VAC_LazyInitializeFailed,n,e.vacId),y.a.log(H.b.INFO,{vacId:e.vacId,message:"".concat(Bn,"waitForInitializedEvent subscribed to VAC events")})}))}},{key:"activateFrameStyle",value:function(e){var t,r,n,i;this.vacWrapperElement&&this.vacIFrame&&this.isInitialLoad&&(null===(t=this.vacIFrame.classList)||void 0===t||t.remove("vac_uninit_iframe"),e&&(this.vacIFrame.classList.remove("vac_inactive_iframe"),null===(r=this.fabIntroIframe)||void 0===r||r.classList.remove("vac_inactive_iframe"),null===(n=this.fabIntroIframe)||void 0===n||n.classList.add("vac_fab_intro_load")),this.embedded&&(this.embedWrapperElement(),null===(i=this.vacIFrame)||void 0===i||i.classList.add("vac_launch_embedded")),this.animateIn(),this.isInitialLoad=!1)}},{key:"embedWrapperElement",value:function(){var e,t,r=this;Array.from(null===(e=this.vacWrapperElement)||void 0===e?void 0:e.classList).forEach((function(e){var t;null===(t=r.vacWrapperElement)||void 0===t||t.classList.remove(e)})),null===(t=this.vacWrapperElement)||void 0===t||t.classList.add("vac_launch_embedded")}},{key:"waitForInitializeCheckpointEvent",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(r){(0,Ft.a)(window,"message",(function n(i){i.data&&i.data.eventType===zt&&i.data.eventVacId===e.vacId&&(e.activateFrameStyle(t),(0,Ft.b)(window,"message",n),r())}))}))}},{key:"launchIframe",value:(u=Fn(regeneratorRuntime.mark((function e(t,r,n){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var o={},s=Math.floor(.9*qn.createFrameTimeout);d(i.waitForRegisteredEvents(o),s,new Error("ERR_PROMISE_TIMEOUT: waitForRegisteredEvents timed out in ".concat(s," ms. in launchIframe call"))).then(e).catch(a).finally((function(){void 0!==o.id&&(clearInterval(o.id),o={},(0,Ft.b)(window,"message",i.registerEventsHandler))}));var u=i.createVacIFrameElement(n);i.registerIFrameLoadedEvent(u,o);var c=t?null:i.createFabIntroIFrameElement(n),l=t?"vac_launch_embedded":"vac_iframes_wrapper vac_fab",f=i.createVacWrapperElement(l);c&&(f.appendChild(c),i.fabIntroIframe=c),f.appendChild(u),(t?r:window.document.body).appendChild(f),i.vacWrapperElement=f,i.vacIFrame=u})));case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return u.apply(this,arguments)})},{key:"registerIFrameLoadedEvent",value:function(e,t){var r=this;(0,Ft.a)(e,"load",(function n(){(0,it.i)(y.a.log,[H.b.INFO,{message:"**investigate-vac-load-error** IFRAME LOADED"}]),t.id=setInterval((function(){r.postMessageToContent({eventType:Ht,eventData:{vacId:r.vacId}}),(0,Ft.b)(e,"load",n)}),50)}))}},{key:"createVacWrapperElement",value:function(e){var t=window.document.createElement("div");if(t.setAttribute("class",e),this.isFullScreen=pn()()||this.isMobileViewSize(),this.isFullScreen){var r,n,i=(null===(r=this.vacFrame)||void 0===r||null===(n=r.frameConfiguration)||void 0===n?void 0:n.localeContent)&&this.vacFrame.frameConfiguration.localeContent["header.virtualAgentDisplayName"];t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label",i)}return t}},{key:"createIFrameElement",value:function(e,t,r,n){var i=window.document.createElement("iframe");return i.setAttribute("src",t),i.setAttribute("id",e),i.setAttribute("class",n),i.setAttribute("title",r),i}},{key:"createVacIFrameElement",value:function(e){var t,r,n=_n(e),i=(null===(t=this.vacFrame)||void 0===t||null===(r=t.frameConfiguration)||void 0===r?void 0:r.localeContent)&&this.vacFrame.frameConfiguration.localeContent["loader.iframeManager.chatWindow"]||this.vacId;return this.createIFrameElement(this.vacId,n,i,"vac_iframe vac_uninit_iframe vac_inactive_iframe")}},{key:"createFabIntroIFrameElement",value:function(e){var t=null;if(e.displayFabIntro&&!pn()()&&!this.autoOpenWidget){var r,n,i=_n(e,!0),a="".concat(this.vacId,"-fab-intro"),o=(null===(r=this.vacFrame)||void 0===r||null===(n=r.frameConfiguration)||void 0===n?void 0:n.localeContent)&&this.vacFrame.frameConfiguration.localeContent["loader.iframeManager.fabWindow"]||a;t=this.createIFrameElement(a,i,o,"vac_iframe_fab_intro vac_inactive_iframe")}return t}},{key:"waitForRegisteredEvents",value:(s=Fn(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){r.registerEventsHandler=function(i){i.data&&i.data.eventType===Gt&&i.data.eventVacId===r.vacId?(clearInterval(t.id),e()):i.data&&i.data.eventType===Wt&&i.data.eventVacId===r.vacId&&(clearInterval(t.id),n(new Error("VAC_EVENTS_REGISTERED_FAILED")))},(0,Ft.a)(window,"message",r.registerEventsHandler)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"registerIoTEventHandlers",value:function(){var e=this;Object.values(yn.a).forEach((function(t){e.facade.on(t,(function(r){var n=r instanceof Uint8Array?r.toString():r;e.postMessageToContent({eventId:(0,pe.a)(),eventType:Xt,eventSubType:t,eventData:n})}))})),this.facade.isConnected()&&this.postMessageToContent({eventId:(0,pe.a)(),eventType:Xt,eventSubType:yn.a.CONNECTED,eventData:"IOT is already connected"})}},{key:"iframeMessageHandler",value:(o=Fn(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d,h,v,m,b,E,w,I,A,C,O,x,S,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fabIntroEventHandler(t)){e.next=3;break}return e.abrupt("return");case 3:if((n=null==t||null===(r=t.data)||void 0===r?void 0:r.eventType)===ur&&(u=null==t||null===(i=t.data)||void 0===i||null===(a=i.eventData)||void 0===a?void 0:a.widgetOpened,this.widgetToggleEventData=null==t||null===(o=t.data)||void 0===o||null===(s=o.eventData)||void 0===s?void 0:s.eventData,u||(J.addPerfEvent(P,this.vacId),g.a.publish({data:{type:_e.a.VAC_FabClicked,payload:this.widgetToggleEventData,vacId:this.vacId}}),this.widgetToggleEventData=null),this.initiateWidgetToggle()),n!==cr){e.next=10;break}return l=null===(c=t.data.eventData)||void 0===c?void 0:c.widgetOpened,this.vacCurrentRenderState=l?Gn:Wn,this.animateIn(),e.abrupt("return");case 10:if(t.data&&t.data.eventType===er&&(t.data.eventVacId===this.vacId||t.data.eventVacId===Ln)){e.next=12;break}return e.abrupt("return");case 12:y.a.log(H.b.TRACE,{message:"Received iframe request: ".concat(JSON.stringify(t.data))}),f=t.data,p=f.eventId,d=f.eventVacId,h=f.eventSubType,v=f.eventData,e.t0=h,e.next=e.t0===lr?17:e.t0===fr?19:e.t0===pr?21:e.t0===dr?23:e.t0===wr?25:e.t0===Er?27:e.t0===hr?29:e.t0===vr?31:e.t0===gr?33:e.t0===yr?35:e.t0===mr?37:e.t0===br?39:e.t0===Lr?41:e.t0===Ir?43:e.t0===Dr?45:e.t0===Ar?47:e.t0===Cr?54:e.t0===Or?56:e.t0===xr?58:e.t0===Sr?60:e.t0===Rr?62:e.t0===Tr?64:e.t0===Pr?66:e.t0===_r?68:e.t0===kr?70:e.t0===jr?72:e.t0===Nr?74:e.t0===Ur?76:78;break;case 17:return y.a.log(v.level,v.message),e.abrupt("break",79);case 19:return J.addPerfEvent(v,d),e.abrupt("break",79);case 21:return m=In(v),e.abrupt("break",79);case 23:return m=this.facade.getSuggestions(v),e.abrupt("break",79);case 25:return m=this.facade.sendEvent(v),e.abrupt("break",79);case 27:return m=this.facade.sendMessage(v),e.abrupt("break",79);case 29:return m=this.facade.createConversation(Mn(Mn({},v),{},{vacId:this.vacId})),e.abrupt("break",79);case 31:return m=this.facade.updateConversation(v),e.abrupt("break",79);case 33:return m=this.facade.joinConversation(v),e.abrupt("break",79);case 35:return m=this.facade.joinConversationByInvitation(v),e.abrupt("break",79);case 37:return m=this.facade.closeConversation(v),e.abrupt("break",79);case 39:return m=this.facade.leaveConversation(v),e.abrupt("break",79);case 41:return m=this.facade.retrieveBooking(v),e.abrupt("break",79);case 43:return m=this.facade.updateInitiator(v),e.abrupt("break",79);case 45:return m=this.facade.getSupplierConversations(v),e.abrupt("break",79);case 47:return b=v.file,(E=new Blob([b.buffer],{type:b.type})).name=b.name,E.lastModified=b.lastModified,E.lastModifiedDate=b.lastModifiedDate,m=this.facade.uploadAttachment(Mn(Mn({},v),{},{file:E})),e.abrupt("break",79);case 54:return m=this.facade.downloadAttachment(v),e.abrupt("break",79);case 56:return m=this.facade.getPastMessages(v),e.abrupt("break",79);case 58:return m=this.facade.getPastMessagesByAuthTokenId(v),e.abrupt("break",79);case 60:return m=this.facade.getParticipants(v),e.abrupt("break",79);case 62:return m=this.facade.getParticipantsAndMessages(v),e.abrupt("break",79);case 64:return m=this.facade.getObserveConversationData(v),e.abrupt("break",79);case 66:return this.facade.reconnect(),e.abrupt("break",79);case 68:return this.facade.startHeartbeat(v),e.abrupt("break",79);case 70:return this.facade.stopHeartbeat(),e.abrupt("break",79);case 72:return m=this.facade.updateParticipant(v),e.abrupt("break",79);case 74:return m=this.facade.submitMessageFeedback(v),e.abrupt("break",79);case 76:return m=J.isPerfScopedEventSet(v,this.vacId),e.abrupt("break",79);case 78:y.a.log(H.b.WARN,{message:"Unsupported eventSubType ".concat(h)});case 79:if(!m){e.next=95;break}return e.prev=80,e.next=83,m;case 83:w=e.sent,I={eventId:p,eventType:tr,eventSubType:h,eventData:w},this.postMessageToContent(I),e.next=95;break;case 88:e.prev=88,e.t1=e.catch(80),A=e.t1.response,C=(A=void 0===A?{}:A).headers,O=A.data,x=A.status,S=A.statusText,R={eventId:p,eventType:tr,eventSubType:h,error:{message:e.t1.message,response:C&&{headers:C,data:O,status:x,statusText:S}}},this.postMessageToContent(R);case 95:case"end":return e.stop()}}),e,this,[[80,88]])}))),function(e){return o.apply(this,arguments)})},{key:"initiateWidgetToggle",value:function(){this.unloadFabIntro(),this.animateOut()}},{key:"getAppState",value:function(e){var t=this;return new Promise((function(r){var n=(0,pe.a)(),i={eventId:n,eventVacId:t.vacId,eventType:ir,eventData:{shouldReturnMessages:e}};(0,Ft.a)(window,"message",(function e(i){i.data&&i.data.eventId===n&&i.data.eventVacId===t.vacId&&((0,Ft.b)(window,"message",e),r(i.data.eventData))})),t.postMessageToContent(i)}))}},{key:"handleConfigUpdated",value:function(e){var t=(0,ve.a)(e,"configuration.authToken");if(t){delete e.configuration.authToken;var r={eventType:Kt,eventData:{authToken:t}};this.postMessageToContent(r)}var n={eventType:Zt,eventData:e.configuration};this.postMessageToContent(n)}},{key:"handleAuthTokenError",value:function(){var e={eventType:or};this.postMessageToContent(e)}},{key:"isMobileViewSize",value:function(){return window.innerWidth<=vn.WIDTH_BREAK_POINT_FOR_FULL_SIZE}},{key:"completeInitialization",value:function(e,t){return this.postMessageToContent({eventVacId:this.vacId,eventType:Bt,eventData:e}),this.waitForInitializedEvent(t)}},{key:"clearFabSizeOverrides",value:function(){this.vacIFrame.removeAttribute("style")}},{key:"setFabSizeOverrides",value:function(){if(!this.isChatPaneRendered()){var e=this.fabSize,t=e.width,r=e.height;t&&r&&(this.vacIFrame.style.width="".concat(t,"px"),this.vacIFrame.style.height="".concat(r,"px"))}}}],n=[{key:"injectIframeCSS",value:(a=Fn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.injectIframeCSSInner(hn,e.vacStyleId));case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"injectIframeCSSInner",value:(i=Fn(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=window.document.createElement("style");n.setAttribute("id",r),n.setAttribute("type","text/css"),n.innerHTML=t,(0,Ft.a)(n,"load",e),window.document.head.appendChild(n),window.MSInputMethodContext&&document.documentMode&&setTimeout(e,100)})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"removeIframeCss",value:function(){this.removeIframeCssById(e.vacStyleId)}},{key:"removeIframeCssById",value:function(e){var t=document.getElementById(e);t&&t.remove()}}],r&&Vn(t.prototype,r),n&&Vn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();zn(Kn,"vacStyleId","vac_frame_styles_99749ddb-96a0-45d5-8dd4-c56650ffca3d");var Zn=l(636),Yn=l(632),Jn=l(630),Qn=l(633),Xn=l(634),$n=l(637),ei=l(635),ti=l(631),ri=l(638);function ni(e){return function(e){if(Array.isArray(e))return oi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ai(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||ai(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(e,t){if(e){if("string"==typeof e)return oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oi(e,t):void 0}}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function si(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ui=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=null!=t?t:e.prototype.constructor.name,this.callbacks=[],this.options=null!=r?r:{isChain:!1}}var t,r,n;return t=e,r=[{key:"addCallback",value:function(e,t){this.callbacks.push([e,t])}},{key:"invoke",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=[].concat(r),a=this.options.isChain?i[0]:void 0;return this.callbacks.forEach((function(t){var r=ii(t,2),n=r[0],o=r[1];try{var s=o.call.apply(o,[null].concat(ni(i)));if(e.options.isChain)if(void 0!==s)i[0]=s,a=s;else{var u=ii(i,1);a=u[0]}}catch(t){var c={message:"Error executing ".concat(n,".").concat(e.name,": ").concat(t.message)};y.a.log(H.b.WARN,c)}})),a}}],r&&si(t.prototype,r),n&&si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ci(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var li=Object.values(_e.a);function fi(e){return e.replace(/^VAC_/,"on")}function pi(){var e={onInitStart:new ui("onInitStart",{isChain:!0}),onCreateFrameStart:new ui("onCreateFrameStart",{isChain:!0}),onFrameStart:new ui("onFrameStart",{isChain:!0})};return li.forEach((function(t){var r=fi(t);e[r]=new ui(r)})),Object.freeze(e)}var di=new(function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleEvent=this.handleEvent.bind(this),this.handleDestroyed=this.handleDestroyed.bind(this),this.register=this.register.bind(this),g.a.on(li,this.handleEvent),this.hooks=(t={},r=_e.c,n=pi(),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)}var t,r,n;return t=e,(r=[{key:"getHooks",value:function(e){var t=e||_e.c;return this.hooks[t]||(this.hooks[t]=pi(),g.a.on(li,this.handleEvent,t),g.a.on(_e.a.VAC_Destroyed,this.handleDestroyed,t)),this.hooks[t]}},{key:"handleEvent",value:function(e){var t=e.vacId,r=fi(e.type);this.hooks[t]&&this.hooks[t][r].invoke(e)}},{key:"handleDestroyed",value:function(e){var t=e.vacId;this.hooks[t]&&(delete this.hooks[t],g.a.off(li,this.handleEvent,t))}},{key:"register",value:function(e,t){if(e){var r=t||_e.c,n=this.getHooks(r),i="string"==typeof e.name&&e.name.length>0?e.name:e.constructor.name;Object.keys(n).forEach((function(t){"function"==typeof e[t]&&n[t].addCallback(i,e[t].bind(e))}))}}}])&&ci(t.prototype,r),n&&ci(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function hi(e){return Boolean(e)&&"tempMainConversation"!==e}function vi(e){return function(e){if(Array.isArray(e))return bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||mi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){if(e){if("string"==typeof e)return bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bi(e,t):void 0}}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(r),!0).forEach((function(t){Ii(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ii(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ci(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Oi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Ci(a,n,i,o,s,"next",e)}function s(e){Ci(a,n,i,o,s,"throw",e)}o(void 0)}))}}var xi=(0,Le.a)();function Si(e){return Ri.apply(this,arguments)}function Ri(){return(Ri=Oi(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!this.isLazyInitializing,!e.t0){e.next=5;break}return e.next=4,this.isLazyInitComplete;case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=9;break}this.isLazyInitializing=!0,J.addPerfEvent(S,this.vacId),this.isLazyInitComplete=new Promise((function(e){var n=r.frameConfiguration.frameActive;r.facade.connect(r.credentials).then((function(){var e={forceOpenWidget:t,iotConnected:r.facade.isConnected()};return J.addPerfEvent(_,r.vacId),r.iframeManager.completeInitialization(e,n)})).catch((function(e){var t={message:"Lazy initialization failed: ".concat(e.message||e.toString())};return y.a.log(H.b.ERROR,t),r.iframeManager.completeInitialization({error:t},n)})).then((function(t){r.isLazyInitializing=!1,J.addPerfEvent(R,r.vacId),e(t)}))}));case 9:return e.abrupt("return",this.isLazyInitComplete);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ti(){return _i.apply(this,arguments)}function _i(){return _i=Oi(regeneratorRuntime.mark((function e(){var t,r,n,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],e.next=3,this.isInitialized;case 3:if(r=e.sent){e.next=6;break}throw new Error("Virtual Agent Control must be initialized");case 6:return e.next=8,Si.call(this);case 8:if(n=e.sent,!t||n){e.next=12;break}throw i="Virtual Agent Control must be fully initialized.",new Error(i);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),_i.apply(this,arguments)}function ki(){return Pi.apply(this,arguments)}function Pi(){return Pi=Oi(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(o.length>0&&void 0!==o[0])||o[0],r=o.length>1&&void 0!==o[1]&&o[1],e.next=4,this.iframeManager.getAppState(r);case 4:if(n=e.sent,i=n.mainConversationId,a=n.activeAuthorParticipantId,hi(i)){e.next=8;break}throw new Error("Virtual Agent Control must have a conversation with Virtual Agent");case 8:if(!t||a){e.next=10;break}throw new Error("Virtual Agent Control must have an active participant Id");case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)}))),Pi.apply(this,arguments)}function ji(e){y.b.addToDefaultLogObject({pageName:e})}function Ni(e){if(e.data){var t=e.data,r=t.eventType,n=t.eventVacId,i=t.eventData,a=null==i?void 0:i.completeInitialization;if(n===this.vacId&&(r===zt&&a||r===Bt)){var o=r===Bt;Si.call(this,o)}}}var Di=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isInitialized=Promise.resolve(!1),this.isLazyInitializing=!1,this.isLazyInitComplete=Promise.resolve(!1),this.vacId=t,this.iframeManager=new Kn(t,this),this.facade=r,this.frameConfiguration={},this.setFrameConfiguration=this.setFrameConfiguration.bind(this),this.setWebsocketCredentials=this.setWebsocketCredentials.bind(this),this.injectIframe=this.injectIframe.bind(this),this.start=this.start.bind(this),this.setConversationContext=this.setConversationContext.bind(this),this.updateConversation=this.updateConversation.bind(this),this.leaveConversation=this.leaveConversation.bind(this),this.inviteParticipant=this.inviteParticipant.bind(this),this.getParticipantList=this.getParticipantList.bind(this),this.closeConversation=this.closeConversation.bind(this),this.createConversation=this.createConversation.bind(this),this.joinConversation=this.joinConversation.bind(this),this.addParticipant=this.addParticipant.bind(this),this.destroyFrame=this.destroyFrame.bind(this),this.setFrameActive=this.setFrameActive.bind(this),this.sendMessage=this.sendMessage.bind(this),this.getRenderedMessages=this.getRenderedMessages.bind(this),this.openChatWidget=this.openChatWidget.bind(this),this.closeChatWidget=this.closeChatWidget.bind(this),this.sendTypingIndicatorEvent=this.sendTypingIndicatorEvent.bind(this),this.use=this.use.bind(this),this.completeInitialization=this.completeInitialization.bind(this),(0,Ft.a)(window,"message",Ni.bind(this))}var t,r,n,i,o,u,c,l,f,p,h,m,b,E,w,I,A,C,O,S,R;return t=e,r=[{key:"setFrameConfiguration",value:function(e){this.frameConfiguration=e}},{key:"setWebsocketCredentials",value:function(e){this.credentials=e}},{key:"injectIframe",value:(R=Oi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.iframeManager.loadIframe(t,this.facade));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"start",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=di.getHooks(this.vacId).onFrameStart.invoke({modeOptions:e,participantData:r,conversationProperties:n}),a=i.modeOptions,o=i.participantData,u=i.conversationProperties;y.a.log(H.b.INFO,{message:"VAC Frame starting",vacId:this.vacId,modeOptions:a,participantData:o,conversationProperties:u}),a.mode===ri.a.JOIN_CONVERSATION&&a.joinHref?s.a.validateOrThrow({modeOptions:a,participantUpdates:o,conversationProperties:u},v.e,"start"):s.a.validateOrThrow({modeOptions:a,participantData:o,conversationProperties:u},v.e,"start");var c=wi(wi({},this.frameConfiguration.conversationProperties),u),l=wi(wi({},this.frameConfiguration),{},{conversationProperties:c});switch(a.mode){case ri.a.RESUME_CONVERSATION:a.conversationPartnerGuid&&(l.conversationPartnerGuid=a.conversationPartnerGuid),l.conversationId=a.conversationId,l.participantId=o.participantId;break;case ri.a.OBSERVE_CONVERSATION:a.conversationPartnerGuid&&(l.conversationPartnerGuid=a.conversationPartnerGuid),l.conversationId=a.conversationId,l.channelConfig.isReadOnly=!0;break;case ri.a.JOIN_CONVERSATION:if(a.conversationPartnerGuid&&(l.conversationPartnerGuid=a.conversationPartnerGuid),a.joinHref){l.joinHref=a.joinHref,l.joinHrefParticipantUpdates=o;var f=a.joinHref.split("/"),p=yi(f,2),h=(p[0],p[1]);l.conversationPartnerGuid=h}else l.joinConversationId=a.conversationId,l.conversationId=a.conversationId,l.joinParticipantData=o,a.conversationIntent&&(l.intentMessage=a.conversationIntent);l.participantData=cn()(o,["participantId"]);break;case ri.a.CREATE_CONVERSATION:default:a.conversationIntent&&(l.intentMessage=a.conversationIntent),l.participantData=o}var m={iotConnected:this.facade.isConnected()};J.addPerfEvent(x,this.vacId);var b=this.iframeManager.initializeIframe(l,m);return this.isInitialized=d(b,xi.startFrameTimeout,new Error("ERR_PROMISE_TIMEOUT: start")).then((function(){return t.iframeManager.postMessageToContent({eventType:Mt}),!0})).catch((function(e){throw g.a.publish({data:{type:_e.a.VAC_StartFrameFailed,vacId:t.vacId}}),g.a.publish({data:{type:_e.a.VAC_Destroyed,vacId:t.vacId}}),y.a.log(H.b.ERROR,{vacId:t.vacId,errorCode:"start",message:null==e?void 0:e.message,stackTrace:null==e?void 0:e.stack}),e})).finally((function(){y.b.flush()})),this.isInitialized}},{key:"destroyFrame",value:function(){var e=g.a.getHandlers(_e.a.VAC_Destroyed,this.vacId);g.a.clearHandlers(this.vacId),this.iframeManager.unloadIframe();var t={type:_e.a.VAC_Destroyed,vacId:this.vacId};Array.isArray(e)&&e.length>0&&e.forEach((function(e){return e(t)})),Object.keys(ln).forEach((function(e){ct.session.remove(e)}))}},{key:"setConversationContext",value:(S=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,c,l,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]&&p[1],e.next=3,Ti.call(this);case 3:return s.a.validateOrThrow(t,Zn.a,"setConversationContext"),e.next=6,this.iframeManager.getAppState();case 6:n=e.sent,i=n.mainConversationId,a=n.activeAuthorParticipantId,o=n.conversationPartnerGuid,u=t.conversationProperties,c=hi(i)?i:void 0,u&&"object"===gi(u)&&Object.keys(u).length>0&&c&&(u.pageName&&ji(u.pageName),l={attributes:u},this.facade.updateConversation({partnerId:o,conversationId:c,conversationData:l,requestContext:{conversationId:c,participantId:a}})),f={eventType:qt,eventData:wi(wi({},t),{},{conversationId:c,silentOption:r})},this.iframeManager.postMessageToContent(f);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"updateConversation",value:(O=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return r=e.sent,n=r.mainConversationId,i=r.activeAuthorParticipantId,a=r.conversationPartnerGuid,s.a.validateOrThrow(t,$n.a,"updateConversation"),e.prev=9,e.next=12,this.facade.updateConversation({partnerId:a,conversationId:n,conversationData:t,requestContext:{conversationId:n,participantId:i}});case 12:return o=e.sent,this.iframeManager.postMessageToContent({eventType:Qt,eventData:{conversationId:n,conversationData:t}}),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(9),this.iframeManager.postMessageToContent({eventType:Qt,eventData:{isError:!0}}),e.t0;case 21:case"end":return e.stop()}}),e,this,[[9,17]])}))),function(e){return O.apply(this,arguments)})},{key:"leaveConversation",value:(C=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return r=e.sent,n=r.mainConversationId,i=r.activeAuthorParticipantId,a=r.conversationPartnerGuid,o={partnerId:a,conversationId:n,participantId:i,channelId:t,requestContext:{conversationId:n,participantId:i}},e.next=11,this.facade.leaveConversation(o);case 11:return s=e.sent,u={eventType:$t,eventData:{conversationId:n}},this.iframeManager.postMessageToContent(u),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"addParticipant",value:(A=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return r=e.sent,n=r.mainConversationId,i=r.activeAuthorParticipantId,a=r.conversationPartnerGuid,s.a.validateOrThrow(t,Xn.a,"addParticipant"),e.next=11,this.facade.addParticipant({conversationId:n,partnerId:a,participantData:t,requestContext:{conversationId:n,participantId:i}});case 11:return o=e.sent,u=o.participantId,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"inviteParticipant",value:(I=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this,!1);case 4:return r=e.sent,n=r.mainConversationId,i=r.activeAuthorParticipantId,a=r.conversationPartnerGuid,s.a.validateOrThrow(t,Yn.a,"inviteParticipant"),o={participantData:t,partnerId:a,conversationId:n,requestContext:{conversationId:n,participantId:i}},e.next=12,this.facade.inviteParticipant(o);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"getParticipantList",value:(w=Oi(regeneratorRuntime.mark((function e(){var t,r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return t=e.sent,r=t.mainConversationId,n=t.activeAuthorParticipantId,i=t.conversationPartnerGuid,e.next=10,this.facade.getParticipantList({partnerId:i,conversationId:r,requestContext:{conversationId:r,participantId:n}});case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"closeConversation",value:(E=Oi(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return n=e.sent,i=n.mainConversationId,a=n.activeAuthorParticipantId,o=n.conversationPartnerGuid,e.next=10,this.facade.closeConversation({partnerId:o,participantId:a,conversationId:i,closeReason:t,closedBy:r||"VAC",requestContext:{conversationId:i,participantId:a}});case 10:return s=e.sent,u={eventType:nr,eventData:{conversationId:i}},this.iframeManager.postMessageToContent(u),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"on",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=[].concat(t,[this.vacId]);return g.a.on.apply(g.a,vi(n))}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=[].concat(t,[this.vacId]);return g.a.off.apply(g.a,vi(n))}},{key:"openChatWidget",value:(b=Oi(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this,!1);case 2:null!==(t=this.iframeManager)&&void 0!==t&&t.isFabRendered()&&(null===(r=this.iframeManager)||void 0===r||r.initiateWidgetToggle());case 3:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"closeChatWidget",value:(m=Oi(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this,!1);case 2:null!==(t=this.iframeManager)&&void 0!==t&&t.isChatPaneRendered()&&(null===(r=this.iframeManager)||void 0===r||r.initiateWidgetToggle());case 3:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"createConversation",value:(h=Oi(regeneratorRuntime.mark((function e(t,r,n,i){var a,o,u,c,l,f,p,d,h,v,g=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>4&&void 0!==g[4]?g[4]:{},e.next=3,Ti.call(this);case 3:return e.next=5,this.iframeManager.getAppState();case 5:return o=e.sent,u=o.conversationPartnerGuid,c=o.mainConversationId,l=o.activeAuthorParticipantId,f=wi({participantType:r},a),p=Yr(t),d={partnerId:u,languageId:p,participantData:f,conversationProperties:n,intentPayload:i,requestContext:{conversationId:c,participantId:l},vacId:this.vacId},s.a.validateOrThrow(d,Jn.a,"createConversation"),e.next=15,this.facade.createConversation(d);case 15:return h=e.sent,v={eventType:Jt,eventData:{conversations:h.conversations}},this.iframeManager.postMessageToContent(v),e.abrupt("return",h);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return h.apply(this,arguments)})},{key:"sendTypingIndicatorEvent",value:(p=Oi(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return n=e.sent,i=n.mainConversationId,a=n.activeAuthorParticipantId,o=n.conversationPartnerGuid,s=n.activeAuthorChannelId,u={partnerId:o,conversationId:i,data:{participantId:a,channelId:t||s,eventType:"typing_indicator",content:{typingIndicatorEventContent:{start:Boolean(r)}}},requestContext:{conversationId:i,participantId:a}},e.next=12,this.facade.sendEvent(u);case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"sendMessage",value:(f=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.a.validateOrThrow(t,ei.a,"sendMessage"),e.next=3,Ti.call(this);case 3:return e.next=5,ki.call(this);case 5:r=e.sent,n=r.mainConversationId,i=r.activeAuthorParticipantId,a=r.conversationPartnerGuid,o={partnerId:a,conversationId:n,participantId:i,uniqueMessageId:(0,pe.a)(),data:t},u={eventType:rr,eventData:wi({},o)},this.iframeManager.postMessageToContent(u);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"joinConversation",value:(l=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this);case 4:return r=e.sent,n=r.mainConversationId,i=r.activeAuthorParticipantId,a=r.conversationPartnerGuid,s.a.validateOrThrow(t,Qn.a,"joinConversation"),e.next=11,this.facade.joinConversation({conversationId:n,partnerId:a,participantData:t,requestContext:{conversationId:n,participantId:i}});case 11:return o=e.sent,u=o.participantId,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"setFrameActive",value:(c=Oi(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.next=3,Ti.call(this);case 3:this.iframeManager.setIframeActive(t),r={eventType:ar,eventData:t},y.a.log(H.b.INFO,{message:"VAC API setIframeActive",vacId:this.vacId,isActive:t}),this.iframeManager.postMessageToContent(r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getRenderedMessages",value:(u=Oi(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:return e.next=4,ki.call(this,!0,!0);case 4:return t=e.sent,r=t.messages,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"updateConfiguration",value:(o=Oi(regeneratorRuntime.mark((function e(t){var r,n,i,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.call(this);case 2:r={},n=a()(t,"channelOverrides"),i=a()(t,"interestedParticipants"),o=a()(t,"messageDestination"),n&&(r.channelConfig=n),i&&(s.a.validateOrThrow(i,v.a,"updateConfiguration"),r.interestedParticipants=i),o&&(s.a.validateOrThrow(o,ti.a,"updateConfiguration"),r.messageDestination=o),u={data:{type:_e.a.VAC_ConfigUpdated,configuration:r,vacId:this.iframeManager.vacId}},g.a.publish(u);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"use",value:function(e){di.register(e,this.vacId)}},{key:"completeInitialization",value:(i=Oi(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.next=3,this.isInitialized;case 3:if(e.sent){e.next=6;break}throw new Error("Virtual Agent Control must be initialized");case 6:return e.abrupt("return",Si.call(this,t));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}],r&&Ai(t.prototype,r),n&&Ai(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ui(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){Bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mi(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Vi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Mi(a,n,i,o,s,"next",e)}function s(e){Mi(a,n,i,o,s,"throw",e)}o(void 0)}))}}function zi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qi=(0,Le.a)(),Gi={facade:null,lazyInitialize:!1};function Wi(e,t,r){g.a.publish({data:{type:_e.a.VAC_CreateFrameFailed,vacId:r}}),g.a.publish({data:{type:_e.a.VAC_Destroyed,vacId:r}}),y.a.log(H.b.ERROR,{errorCode:e,message:null==t?void 0:t.message,stackTrace:null==t?void 0:t.stack,socketConnection:!!Gi.facade&&Gi.facade.isConnected()}),(0,it.i)(y.a.log,[H.b.ERROR,{errorCode:e,message:"**investigate-vac-load-error** INITIALIZATION FAILED",socketConnection:!!Gi.facade&&Gi.facade.isConnected()}])}var Ki=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,i,u,c,l,f,p,d,A,C,O,x,S,R;return r=e,i=null,u=[{key:"resetInitializedPromise",value:function(){return new Promise((function(t,r){e.initState.resolve=t,e.initState.reject=r}))}},{key:"initialize",value:(R=Vi(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>2&&void 0!==u[2]?u[2]:{},a=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4?u[4]:void 0,J.addPerfEvent(m),!e.initState.started){t.next=6;break}return t.abrupt("return",e.initialized);case 6:if(e.recordTime(N,U,Date.now()),e.initState.started=!0,e.initState.validatedSettings=e.getValidatedSettings(r,n,i,a,o),(s=e.initState.validatedSettings).valid){t.next=15;break}return e.initState.reject(new Error("Invalid initialization settings: ".concat(s.toString()))),e.initState.started=!1,Wi("initialize","Invalid initialization settings: ".concat(s.toString()),_e.c),t.abrupt("return",e.initialized);case 15:return s.instance.eventBehaviors.eventHandler&&g.a.on(s.instance.eventBehaviors.subscribedEvents,s.instance.eventBehaviors.eventHandler),e.recordTime(N,F,Date.now()),e.initState.resolve(!0),t.abrupt("return",e.initialized);case 19:case"end":return t.stop()}}),t)}))),function(e,t){return R.apply(this,arguments)})},{key:"setupInitializationConfigs",value:(S=Vi(regeneratorRuntime.mark((function t(r){var n,i,a,s,u,c,l,f,p,d,h,v,g,y,m,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Kn.injectIframeCSS(),a=Gi.facade,s=e.initState,u=s.currentPage,c=s.validatedSettings,l=(null==c||null===(n=c.instance)||void 0===n?void 0:n.analyticsData)||{},f=l.launchPoint,p=l.pageName,_t(c.instance.channelOriginId,u,f,p),d={token:c.instance.authToken,expiration:(0,o.b)(c.instance.authToken)},a.setAuthToken(d),t.next=9,e.getInitializationConfigs(r);case 9:return h=t.sent,v=h.channelConfig,g=h.remoteAppConfig,y=h.resourceConfig,m=h.metricProps,b=h.websocketCredentials,t.next=17,i;case 17:return t.abrupt("return",{channelConfig:v,remoteAppConfig:g,resourceConfig:y,metricProps:m,websocketCredentials:b});case 18:case"end":return t.stop()}}),t)}))),function(e){return S.apply(this,arguments)})},{key:"getInitializationConfigs",value:(x=Vi(regeneratorRuntime.mark((function t(r){var n,i,a,o,s,u,c,l,f,p,d,h,v,g,m,b,E,w,I,A,C,O,x,S,R,T,_,k,P;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gi.facade,i=e.initState,a=i.validatedSettings,o=i.initializationContentState,s=a.instance,u=s.channelConfig?"false":"true",c=n.getCredentialsParam(),l={channelOriginId:s.channelOriginId,shouldGetChannelConfig:u,languageId:r,shouldGetWebsocketCredentials:"true",credentialParams:c},e.initState.aggregateConfigPromise){t.next=28;break}return e.initState.aggregateConfigPromise=new Promise((function(t,r){e.initState.aggregateConfigPromiseResolve=t,e.initState.aggregateConfigPromiseReject=r})),e.recordTime(D,U,Date.now()),f=Date.now(),t.next=12,n.getAggregateConfig(l);case 12:p=t.sent,d=p.channelConfig,h=p.remoteAppConfig,v=p.resourceConfig,g=p.initializationContent,m=p.extraProps,b=p.websocketCredentials,E=Date.now(),e.recordTime(D,F,E),w="true"===u?d:s.channelConfig,o[r]={initializationContent:g},m&&(A=m.serverTime,(C=(0,it.c)(f,E,A))?I={clientServerUtcOffset:C}:y.a.error({message:"Unable to calculate the UTC offset for ".concat(A,", ").concat(f,", ").concat(E)})),e.initState.initialConfigs={initialChannelConfig:w,remoteAppConfig:h,resourceConfig:v,initializationContent:g,metricProps:I,websocketCredentials:b},e.initState.aggregateConfigPromiseResolve(!0),t.next=30;break;case 28:return t.next=30,e.initState.aggregateConfigPromise;case 30:return O=e.initState.initialConfigs,x=O.initialChannelConfig,S=O.remoteAppConfig,R=O.resourceConfig,T=O.initializationContent,_=O.metricProps,k=O.websocketCredentials,P=Hi(Hi({},x),{},{initializationContent:T}),t.abrupt("return",{channelConfig:P,remoteAppConfig:S,resourceConfig:R,metricProps:_,websocketCredentials:k});case 33:case"end":return t.stop()}}),t)}))),function(e){return x.apply(this,arguments)})},{key:"applyConfigs",value:(O=Vi(regeneratorRuntime.mark((function t(r,n,i,a){var o,s,u,c,l,f,p,d,h,v,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Gi.facade,s=e.initState,u=s.validatedSettings,c=s.currentPage,l=s.href,f=u.instance.analyticsData,e.applyChannelConfigSettings(r),t.next=6,e.applyRemoteAppConfigSettings(n);case 6:if(e.authToken=t.sent,p=e.authToken,d=e.applyParsedTokenSettings(p),h=window.location.pathname,v=e.getNormalizedPathname(h),e.analyticsData=Hi(Hi({},f),{},{currentPage:c,path:v,hostUrl:l,userAgent:(0,it.g)(),customerId:d}),g=e.applyResourceConfigSettings(i),Gi.lazyInitialize=g,Pt(Rt,g),e.logPerfMetric(N),e.logPerfMetric(D),g){t.next=20;break}return t.next=20,o.connect(a);case 20:case"end":return t.stop()}}),t)}))),function(e,t,r,n){return O.apply(this,arguments)})},{key:"applyResourceConfigSettings",value:function(t){var r,n=e.initState.validatedSettings,i=t.capabilities;return e.capabilities=i,"boolean"==typeof(null===(r=n.instance)||void 0===r?void 0:r.lazyInitialize)?n.instance.lazyInitialize:"boolean"!=typeof(null==i?void 0:i.enableLazyInitialize)||(null==i?void 0:i.enableLazyInitialize)}},{key:"applyParsedTokenSettings",value:function(t){var r=Gi.facade,n=e.initState.validatedSettings;t.sessionId=t.sessionId||(0,pe.a)(),r.setAuthToken(t),e.authToken=t;var i=a()(t,["customer","id"],a()(t,["participant","id"]));return kt({sessionId:t.sessionId,customerId:i,tokenPartnerId:t.partnerId}),y.b.enableAjaxAppender(t.token,n.instance.channelOriginId),i}},{key:"applyRemoteAppConfigSettings",value:(C=Vi(regeneratorRuntime.mark((function t(r){var n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",null);case 2:return(n=Gi.facade).setIsAblyCustomLoggingInVACClientEnabled(r.isAblyCustomLoggingInVACClientEnabled),n.setIsAblyEnabled(r.isAblyEnabledInVACClient),n.setShouldUseHttpProtocolForAblyConnection(r.shouldUseHttpProtocolForAblyConnection),n.setUserAgentsUsingWsProtocolForAblyConnection(r.userAgentsUsingWsProtocolForAblyConnection),y.b.addDefaultLogObjectByLogType(Bi({},H.a.websocket,{websocketProvider:r.isAblyEnabledInVACClient?jt.f.ABLY:jt.f.IOT})),i=r.isEgSessionEnabled,a=r.isCGPEnabledForWeb,n.setIsEgSessionEnabled(i),n.setIsCGPEnabledForWeb(a),t.next=13,e.getParsedToken(i);case 13:return o=t.sent,t.abrupt("return",o);case 15:case"end":return t.stop()}}),t)}))),function(e){return C.apply(this,arguments)})},{key:"applyChannelConfigSettings",value:function(e){var t=Gi.facade;t.setBusinessSegmentId(e.businessSegmentGuid),t.setChannelOriginId(e.channelOriginGuid),t.setPartnerId(e.partnerGuid),y.b.setBusinessSegmentId(e.businessSegmentGuid)}},{key:"getValidatedSettings",value:function(e,t,r,n,i){var a=di.getHooks().onInitStart.invoke({authToken:e,channelOriginId:t.trim(),eventBehaviors:r,analyticsData:n,lazyInitialize:i});return s.a.validate(a,v.c)}},{key:"injectPrefetchLinkTags",value:function(e){var t,r;e&&(null==qi||null===(t=qi.ably)||void 0===t||null===(r=t.prefetchHosts)||void 0===r||r.forEach((function(e){var t=(0,it.a)(e,{dnsPrefetch:!0});document.head.append(t)})))}},{key:"createFrame",value:(A=Vi(regeneratorRuntime.mark((function t(){var r,i,o,u,c,l,f,p,d,g,m,A,C,O,x,S,R,T,_,k,P,j,N,D,L,U,F,M,V,z,B,q,G,W,K,Z,Y,Q,X=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=X.length>0&&void 0!==X[0]?X[0]:{},i=X.length>1&&void 0!==X[1]?X[1]:{},o=X.length>2&&void 0!==X[2]?X[2]:{},u=X.length>3&&void 0!==X[3]?X[3]:{},c=di.getHooks().onCreateFrameStart.invoke({uiBehaviors:r,capabilityBehaviors:i,eventBehaviors:o,channelOverrides:u}),y.a.log(H.b.INFO,{message:"VAC Frame creating",createFrameParams:c}),l=s.a.validateOrThrow(c,v.b),f=l.uiBehaviors,p=l.capabilityBehaviors,d=l.eventBehaviors,g=l.channelOverrides,m=a()(d,["vacId"],"vac_iframe_".concat((0,pe.a)())),J.addPerfEvent(w,m),Pt(Tt,f.embedded),O=e.initState.initializationContentState,x=void 0===O?{}:O,t.prev=11,C=Yr(f.languageId),x[C]||(x[C]={initializationContentPromise:void 0}),S=e.initState.validatedSettings,R=window.location,T=R.origin,_=R.href,k=T||document.origin,e.initState.currentPage=k,e.initState.href=_,P=S.instance.channelOriginId,Gi.facade=new At(P,k,m),A=new Di(m,Gi.facade),d.eventHandler&&d.subscribedEvents&&A.on(d.subscribedEvents,d.eventHandler),j=e.setupInitializationConfigs(C),N=e.getBaseLocale(C),t.next=27,Promise.all([j,N]);case 27:return D=t.sent,L=Li(D,2),U=L[0],F=U.channelConfig,M=U.remoteAppConfig,V=U.resourceConfig,z=U.metricProps,B=U.websocketCredentials,q=L[1],A.setWebsocketCredentials(B),t.next=39,e.applyConfigs(F,M,V,B);case 39:return G=Hi(Hi({},F),g),t.next=42,e.updateInitiatizationContentForLocale(C);case 42:return G.initializationContent=t.sent,W=Jr(q,G,C),K=!(!d.subscribedEvents||!d.subscribedEvents.includes(_e.a.VAC_ViewAttachment)),Z={embedded:f.embedded,containerElement:f.containerElement,channelConfig:G},Y=a()(f,["autoOpen"],!1),Q={embedded:f.embedded,authToken:n()(e.authToken,["token","expiration"]),lazyInitialize:!Y&&Gi.lazyInitialize,customer:e.authToken.customer,participantTypesForEventMarkers:f.participantTypesForEventMarkers,participantDisplayNamePreference:a()(f,["participantDisplayNamePreference"],[]),metricProps:z,participant:e.authToken.participant,sessionId:e.authToken.sessionId,clientId:e.authToken.subjectId,subjectType:e.authToken.subjectType,tokenPartnerGuid:e.authToken.partnerId,currentPage:e.analyticsData.currentPage,path:e.analyticsData.path,hostUrl:e.analyticsData.hostUrl,userAgent:e.analyticsData.userAgent,frameActive:a()(f,["frameActive"],!0),enableAutoOpenChatWidget:Y,animateChatWidgetOpenClose:a()(f,["animateWidgetOpenClose"],!0),alwaysEnableUserInput:a()(f,["alwaysEnableUserInput"],!1),useCustomAttachmentViewer:K,interestedParticipants:a()(p,["participantsFilter"],null),messageDestination:a()(p,["messageDestination"],null),channelConfig:G,additionalAuthors:a()(f,["additionalAuthors"],[]),localeCode:C,localeContent:W,enableProactiveConversation:a()(p,["enableProactiveConversation"],!1),conversationProperties:n()(e.analyticsData,["launchPoint","pageName"]),historyConfiguration:a()(p,["historyConfiguration"],null),showHistoryMessageFeedbacks:a()(f,["showHistoryMessageFeedbacks"],!1),maxCharCount:a()(f,["maxCharCount"]),maxCharsShowCountdown:a()(f,["maxCharsShowCountdown"]),websocketProvider:e.websocketProvider,capabilities:e.capabilities},A.setFrameConfiguration(Q),J.addPerfEvent(b,m),t.next=52,h(A.injectIframe,[Z],qi.createFrameTimeout,"createFrame");case 52:Z.embedded||Q.enableAutoOpenChatWidget||(e.injectPrefetchLinkTags(M.isAblyEnabledInVACClient),ot(M.isAblyEnabledInVACClient)),t.next=61;break;case 55:throw t.prev=55,t.t0=t.catch(11),e.initState.reject(new Error("Rejected in VirtualAgentControl::createFrame() catch block with: ".concat(t.t0.message))),e.initState.aggregateConfigPromiseReject(!1),Wi("createFrame",t.t0,m),t.t0;case 61:return t.prev=61,J.addPerfEvent(E,m),J.addPerfEvent(I,m),t.finish(61);case 65:return t.abrupt("return",A);case 66:case"end":return t.stop()}}),t,null,[[11,55,61,65]])}))),function(){return A.apply(this,arguments)})},{key:"getParsedToken",value:(d=Vi(regeneratorRuntime.mark((function t(r){var n,i,a,s,u,c,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],i=Gi.facade,a=e.initState.validatedSettings,s=null,u=null,!r||!n){t.next=15;break}return t.next=8,i.getUserProfileDatabag();case 8:c=t.sent,u=c.sessionDataBag,i.setEgSessionDatabag(u),(s=(0,o.c)(u)).token=u,t.next=18;break;case 15:(s=(0,o.c)(a.instance.authToken)).expiration=(0,o.b)(a.instance.authToken),s.token=a.instance.authToken;case 18:return s.sessionId=s.sessionId||(0,pe.a)(),t.abrupt("return",s);case 20:case"end":return t.stop()}}),t)}))),function(e){return d.apply(this,arguments)})},{key:"getBaseLocale",value:(p=Vi(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.baseLocales[r]){t.next=4;break}return t.next=3,on(r);case 3:e.baseLocales[r]=t.sent;case 4:return t.abrupt("return",e.baseLocales[r]);case 5:case"end":return t.stop()}}),t)}))),function(e){return p.apply(this,arguments)})},{key:"getNormalizedPathname",value:function(e){if(e)return e.startsWith("/")?e:"/".concat(e)}},{key:"destroy",value:(f=Vi(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.initState.started){r.next=3;break}return r.next=3,e.initialized;case 3:if(e.initState.started=!1,e.initialized=e.resetInitializedPromise(),!Gi.facade||!t()(Gi.facade.destroy)){r.next=8;break}return r.next=8,Gi.facade.destroy();case 8:Kn.removeIframeCss(),n=g.a.getHandlers(_e.a.VAC_Destroyed,_e.c),i={type:_e.a.VAC_Destroyed,vacId:_e.c},Array.isArray(n)&&n.length>0&&n.forEach((function(e){return e(i)}));case 12:case"end":return r.stop()}}),r)}))),function(){return f.apply(this,arguments)})},{key:"updateAuthToken",value:(l=Vi(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,t.prev=1,t.t0=e.initState.started,!t.t0){t.next=7;break}return t.next=6,e.initialized;case 6:t.t0=t.sent;case 7:n=t.t0,t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),n=!1;case 13:if(n){t.next=15;break}throw new Error("Virtual Agent Control must be initialized to update auth token");case 15:s.a.validateOrThrow(r,sn.a),i={token:r,expiration:(0,o.b)(r)},kt({sessionId:(0,o.c)(r).sessionId}),e.authToken=e.authToken||{},e.authToken.token=r,e.authToken.expiration=i.expiration,a={data:{type:_e.a.VAC_ConfigUpdated,configuration:{authToken:i},vacId:_e.c}},g.a.publish(a);case 24:case"end":return t.stop()}}),t,null,[[1,10]])}))),function(e){return l.apply(this,arguments)})},{key:"use",value:function(e){di.register(e)}},{key:"updateInitiatizationContentForLocale",value:(c=Vi(regeneratorRuntime.mark((function t(r){var n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,i=e.initState.initializationContentState,!(a=i[r].initializationContent)){t.next=5;break}return t.abrupt("return",a);case 5:if(i[r].initializationContentPromise){t.next=22;break}return t.prev=6,o=Gi.facade.getInitializationContent({partnerId:e.initState.initialConfigs.initialChannelConfig.partnerGuid,languageId:r}),i[r].initializationContentPromise=o,t.next=11,o;case 11:n=t.sent,i[r].initializationContent=n,t.next=20;break;case 15:throw t.prev=15,t.t0=t.catch(6),i[r].initializationContent=void 0,y.a.error({message:"get initialization content failed for locale ".concat(r),initializationContentError:t.t0}),t.t0;case 20:t.next=25;break;case 22:return t.next=24,i[r].initializationContentPromise;case 24:n=t.sent;case 25:return t.abrupt("return",n);case 26:case"end":return t.stop()}}),t,null,[[6,15]])}))),function(e){return c.apply(this,arguments)})},{key:"recordTime",value:function(t,r,n){var i=e.initState.performanceStats;i||(i={},e.initState.performanceStats=i);var a=i[t];a||(a={},i[t]=a),a[r]=n}},{key:"logPerfMetric",value:function(t){var r=e.initState.performanceStats,n=r[t];n&&n[F]&&n[U]&&(J.addPerfEventWithMetrics(t,n[F]-n[U],void 0),delete r[t])}}],i&&zi(r.prototype,i),u&&zi(r,u),Object.defineProperty(r,"prototype",{writable:!1}),e}();Bi(Ki,"initState",{started:!1,currentPage:"",href:"",lazyInitialize:void 0,validatedSettings:{},initializationContentState:{},initialConfigs:void 0,aggregateConfigPromise:void 0,metricProps:{},performanceStats:{}}),Bi(Ki,"initialized",Ki.resetInitializedPromise()),Bi(Ki,"baseLocales",{}),Bi(Ki,"authToken",{})}();var p=window;for(var d in f)p[d]=f[d];f.__esModule&&Object.defineProperty(p,"__esModule",{value:!0})}();